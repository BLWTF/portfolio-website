/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./node_modules/@rive-app/canvas/rive.js":
/*!***********************************************!*\
  !*** ./node_modules/@rive-app/canvas/rive.js ***!
  \***********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(this, function() {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ([\n/* 0 */,\n/* 1 */\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __nested_webpack_require_545__) => {\n\n__nested_webpack_require_545__.r(__webpack_exports__);\n/* harmony export */ __nested_webpack_require_545__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\nvar Rive = (() => {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  \n  return (\nfunction(Rive) {\n  Rive = Rive || {};\n\n\nvar m;m||(m=typeof Rive !== 'undefined' ? Rive : {});var aa,ba;m.ready=new Promise(function(b,a){aa=b;ba=a});\nfunction ca(){function b(h){const g=d;c=a=0;d=new Map;g.forEach(l=>{try{l(h)}catch(k){console.error(k)}});this.La();e&&e.fb()}let a=0,c=0,d=new Map,e=null,f=null;this.requestAnimationFrame=function(h){a||(a=requestAnimationFrame(b.bind(this)));const g=++c;d.set(g,h);return g};this.cancelAnimationFrame=function(h){d.delete(h);a&&0==d.size&&(cancelAnimationFrame(a),a=0)};this.cb=function(h){f&&(document.body.remove(f),f=null);h||(f=document.createElement(\"div\"),f.style.backgroundColor=\"black\",f.style.position=\n\"fixed\",f.style.right=0,f.style.top=0,f.style.color=\"white\",f.style.padding=\"4px\",f.innerHTML=\"RIVE FPS\",h=function(g){f.innerHTML=\"RIVE FPS \"+g.toFixed(1)},document.body.appendChild(f));e=new function(){let g=0,l=0;this.fb=function(){var k=performance.now();l?(++g,k-=l,1E3<k&&(h(1E3*g/k),g=l=0)):(l=k,g=0)}}};this.$a=function(){f&&(document.body.remove(f),f=null);e=null};this.La=function(){}}\nfunction ea(b){console.assert(!0);const a=new Map;let c=-Infinity;this.push=function(d){d=d+((1<<b)-1)>>b;a.has(d)&&clearTimeout(a.get(d));a.set(d,setTimeout(function(){a.delete(d);0==a.length?c=-Infinity:d==c&&(c=Math.max(...a.keys()),console.assert(c<d))},1E3));c=Math.max(d,c);return c<<b}}\nconst fa=new function(){function b(){if(!a){var t=document.createElement(\"canvas\"),v={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let q=t.getContext(\"webgl2\",v);if(q)c=2;else if(q=t.getContext(\"webgl\",v))c=1;else return console.log(\"No WebGL support. Image mesh will not be drawn.\"),!1;d=Math.min(q.getParameter(q.MAX_RENDERBUFFER_SIZE),\nq.getParameter(q.MAX_TEXTURE_SIZE));function F(I,w,z){w=q.createShader(w);q.shaderSource(w,z);q.compileShader(w);z=q.getShaderInfoLog(w);if(0<z.length)throw z;q.attachShader(I,w)}t=q.createProgram();F(t,q.VERTEX_SHADER,\"attribute vec2 vertex;\\n                attribute vec2 uv;\\n                uniform vec4 mat;\\n                uniform vec2 translate;\\n                varying vec2 st;\\n                void main() {\\n                    st = uv;\\n                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);\\n                }\");\nF(t,q.FRAGMENT_SHADER,\"precision highp float;\\n                uniform sampler2D image;\\n                varying vec2 st;\\n                void main() {\\n                    gl_FragColor = texture2D(image, st);\\n                }\");q.bindAttribLocation(t,0,\"vertex\");q.bindAttribLocation(t,1,\"uv\");q.linkProgram(t);v=q.getProgramInfoLog(t);if(0<v.trim().length)throw v;e=q.getUniformLocation(t,\"mat\");f=q.getUniformLocation(t,\"translate\");q.useProgram(t);q.bindBuffer(q.ARRAY_BUFFER,q.createBuffer());\nq.enableVertexAttribArray(0);q.enableVertexAttribArray(1);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,q.createBuffer());q.uniform1i(q.getUniformLocation(t,\"image\"),0);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);a=q}return!0}let a=null,c=0,d=0,e=null,f=null,h=0,g=0;this.ob=function(){b();return d};this.Ya=function(t){if(!b())return null;const v=a.createTexture();a.bindTexture(a.TEXTURE_2D,v);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,t);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);\na.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);2==c?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_LINEAR),a.generateMipmap(a.TEXTURE_2D)):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);return v};const l=new ea(8),k=new ea(8),p=new ea(10),r=new ea(10);this.bb=function(t,v,q,F,I){if(b()){var w=l.push(t),z=k.push(v);if(a.canvas.width!=w||a.canvas.height!=z)a.canvas.width=w,a.canvas.height=z;\na.viewport(0,z-v,t,v);a.disable(a.SCISSOR_TEST);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.SCISSOR_TEST);q.sort((y,da)=>da.Oa-y.Oa);w=p.push(F);h!=w&&(a.bufferData(a.ARRAY_BUFFER,8*w,a.DYNAMIC_DRAW),h=w);w=0;for(var J of q)a.bufferSubData(a.ARRAY_BUFFER,w,J.Aa),w+=4*J.Aa.length;console.assert(w==4*F);for(var P of q)a.bufferSubData(a.ARRAY_BUFFER,w,P.Ra),w+=4*P.Ra.length;console.assert(w==8*F);w=r.push(I);g!=w&&(a.bufferData(a.ELEMENT_ARRAY_BUFFER,2*w,a.DYNAMIC_DRAW),g=w);J=0;for(var X of q)a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,\nJ,X.indices),J+=2*X.indices.length;console.assert(J==2*I);X=0;P=!0;w=J=0;for(const y of q){y.image.va!=X&&(a.bindTexture(a.TEXTURE_2D,y.image.Va||null),X=y.image.va);y.rb?(a.scissor(y.Ea,z-y.Fa-y.Ka,y.yb,y.Ka),P=!0):P&&(a.scissor(0,z-v,t,v),P=!1);q=2/t;const da=-2/v;a.uniform4f(e,y.la[0]*q*y.ra,y.la[1]*da*y.sa,y.la[2]*q*y.ra,y.la[3]*da*y.sa);a.uniform2f(f,y.la[4]*q*y.ra+q*(y.Ea-y.pb*y.ra)-1,y.la[5]*da*y.sa+da*(y.Fa-y.qb*y.sa)+1);a.vertexAttribPointer(0,2,a.FLOAT,!1,0,w);a.vertexAttribPointer(1,2,\na.FLOAT,!1,0,w+4*F);a.drawElements(a.TRIANGLES,y.indices.length,a.UNSIGNED_SHORT,J);w+=4*y.Aa.length;J+=2*y.indices.length}console.assert(w==4*F);console.assert(J==2*I)}};this.canvas=function(){return b()&&a.canvas}};\nRive.onRuntimeInitialized=function(){function b(n){switch(n){case k.srcOver:return\"source-over\";case k.screen:return\"screen\";case k.overlay:return\"overlay\";case k.darken:return\"darken\";case k.lighten:return\"lighten\";case k.colorDodge:return\"color-dodge\";case k.colorBurn:return\"color-burn\";case k.hardLight:return\"hard-light\";case k.softLight:return\"soft-light\";case k.difference:return\"difference\";case k.exclusion:return\"exclusion\";case k.multiply:return\"multiply\";case k.hue:return\"hue\";case k.saturation:return\"saturation\";\ncase k.color:return\"color\";case k.luminosity:return\"luminosity\"}}function a(n){return\"rgba(\"+((16711680&n)>>>16)+\",\"+((65280&n)>>>8)+\",\"+((255&n)>>>0)+\",\"+((4278190080&n)>>>24)/255+\")\"}function c(){0<J.length&&(fa.bb(z.drawWidth(),z.drawHeight(),J,P,X),J=[],X=P=0,z.reset(512,512));for(const n of w){for(const u of n.ba)u();n.ba=[]}w.clear()}var d=Rive.RenderPaintStyle;const e=Rive.RenderPath,f=Rive.RenderPaint,h=Rive.Renderer,g=Rive.StrokeCap,l=Rive.StrokeJoin,k=Rive.BlendMode,p=d.fill,r=d.stroke,\nt=Rive.FillRule.evenOdd;let v=1;var q=Rive.RenderImage.extend(\"CanvasRenderImage\",{__construct:function(){this.__parent.__construct.call(this);this.va=v;v=v+1&2147483647||1},decode:function(n){let u=Xa;u.total++;var D=this,B=new Image;B.src=URL.createObjectURL(new Blob([n],{type:\"image/png\"}));B.onload=function(){D.Ta=B;D.Va=fa.Ya(B);D.size(B.width,B.height);u.loaded++;if(u.loaded===u.total){const E=u.ready;E&&(E(),u.ready=null)}}}}),F=e.extend(\"CanvasRenderPath\",{__construct:function(){this.__parent.__construct.call(this);\nthis.ga=new Path2D},rewind:function(){this.ga=new Path2D},addPath:function(n,u,D,B,E,G,A){var C=this.ga,R=C.addPath;n=n.ga;const K=new DOMMatrix;K.a=u;K.b=D;K.c=B;K.d=E;K.e=G;K.f=A;R.call(C,n,K)},fillRule:function(n){this.Ca=n},moveTo:function(n,u){this.ga.moveTo(n,u)},lineTo:function(n,u){this.ga.lineTo(n,u)},cubicTo:function(n,u,D,B,E,G){this.ga.bezierCurveTo(n,u,D,B,E,G)},close:function(){this.ga.closePath()}}),I=f.extend(\"CanvasRenderPaint\",{color:function(n){this.Da=a(n)},thickness:function(n){this.Wa=\nn},join:function(n){switch(n){case l.miter:this.ua=\"miter\";break;case l.round:this.ua=\"round\";break;case l.bevel:this.ua=\"bevel\"}},cap:function(n){switch(n){case g.butt:this.ta=\"butt\";break;case g.round:this.ta=\"round\";break;case g.square:this.ta=\"square\"}},style:function(n){this.Ua=n},blendMode:function(n){this.Sa=b(n)},linearGradient:function(n,u,D,B){this.oa={Pa:n,Qa:u,Ha:D,Ia:B,za:[]}},radialGradient:function(n,u,D,B){this.oa={Pa:n,Qa:u,Ha:D,Ia:B,za:[],mb:!0}},addStop:function(n,u){this.oa.za.push({color:n,\nstop:u})},completeGradient:function(){},draw:function(n,u,D){let B=this.Ua;var E=this.Da,G=this.oa;n.globalCompositeOperation=this.Sa;if(null!=G){E=G.Pa;var A=G.Qa;const R=G.Ha;var C=G.Ia;const K=G.za;G.mb?(G=R-E,C-=A,E=n.createRadialGradient(E,A,0,E,A,Math.sqrt(G*G+C*C))):E=n.createLinearGradient(E,A,R,C);for(let U=0,L=K.length;U<L;U++)A=K[U],E.addColorStop(A.stop,a(A.color));this.Da=E;this.oa=null}switch(B){case r:n.strokeStyle=E;n.lineWidth=this.Wa;n.lineCap=this.ta;n.lineJoin=this.ua;n.stroke(u);\nbreak;case p:n.fillStyle=E,n.fill(u,D)}}});const w=new Set;let z=null,J=[],P=0,X=0;var y=Rive.CanvasRenderer=h.extend(\"Renderer\",{__construct:function(n){this.__parent.__construct.call(this);this.fa=[1,0,0,1,0,0];this.Z=n.getContext(\"2d\");this.Ba=n;this.ba=[]},save:function(){this.fa.push(...this.fa.slice(this.fa.length-6));this.ba.push(this.Z.save.bind(this.Z))},restore:function(){const n=this.fa.length-6;if(6>n)throw\"restore() called without matching save().\";this.fa.splice(n);this.ba.push(this.Z.restore.bind(this.Z))},\ntransform:function(n,u,D,B,E,G){const A=this.fa,C=A.length-6;A.splice(C,6,A[C]*n+A[C+2]*u,A[C+1]*n+A[C+3]*u,A[C]*D+A[C+2]*B,A[C+1]*D+A[C+3]*B,A[C]*E+A[C+2]*G+A[C+4],A[C+1]*E+A[C+3]*G+A[C+5]);this.ba.push(this.Z.transform.bind(this.Z,n,u,D,B,E,G))},rotate:function(n){const u=Math.sin(n);n=Math.cos(n);this.transform(n,u,-u,n,0,0)},_drawPath:function(n,u){this.ba.push(u.draw.bind(u,this.Z,n.ga,n.Ca===t?\"evenodd\":\"nonzero\"))},drawImage:function(n,...u){var D=this.Z;this.ba.push(function(){D.drawImage(n,\n...u)})},_drawRiveImage:function(n,u,D){var B=n.Ta;if(B){var E=this.Z,G=b(u);this.ba.push(function(){E.globalCompositeOperation=G;E.globalAlpha=D;E.drawImage(B,0,0);E.globalAlpha=1})}},_getMatrix:function(n){const u=this.fa,D=u.length-6;for(let B=0;6>B;++B)n[B]=u[D+B]},_drawImageMesh:function(n,u,D,B,E,G,A,C,R,K){var U=this.Z.canvas.width,L=this.Z.canvas.height;const pb=R-A,qb=K-C;A=Math.max(A,0);C=Math.max(C,0);R=Math.min(R,U);K=Math.min(K,L);const sa=R-A,ta=K-C;console.assert(sa<=Math.min(pb,U));\nconsole.assert(ta<=Math.min(qb,L));if(!(0>=sa||0>=ta)){R=sa<pb||ta<qb;U=K=1;var ia=Math.ceil(sa*K),ja=Math.ceil(ta*U);L=fa.ob();ia>L&&(K*=L/ia,ia=L);ja>L&&(U*=L/ja,ja=L);z||(z=new m.DynamicRectanizer(L),z.reset(512,512));L=z.addRect(ia,ja);0>L&&(c(),w.add(this),L=z.addRect(ia,ja),console.assert(0<=L));var rb=L&65535,sb=L>>16;J.push({la:this.fa.slice(this.fa.length-6),image:n,Ea:rb,Fa:sb,pb:A,qb:C,yb:ia,Ka:ja,ra:K,sa:U,Aa:new Float32Array(B),Ra:new Float32Array(E),indices:new Uint16Array(G),rb:R,Oa:n.va<<\n1|(R?1:0)});P+=B.length;X+=G.length;var na=this.Z,Yb=b(u);this.ba.push(function(){na.save();na.resetTransform();na.globalCompositeOperation=Yb;na.globalAlpha=D;na.drawImage(fa.canvas(),rb,sb,ia,ja,A,C,sa,ta);na.restore()})}},_clipPath:function(n){this.ba.push(this.Z.clip.bind(this.Z,n.ga,n.Ca===t?\"evenodd\":\"nonzero\"))},clear:function(){w.add(this);this.ba.push(this.Z.clearRect.bind(this.Z,0,0,this.Ba.width,this.Ba.height))},flush:function(){},translate:function(n,u){this.transform(1,0,0,1,n,u)}});\nRive.makeRenderer=function(n){return new y(n)};Rive.renderFactory={makeRenderPaint:function(){return new I},makeRenderPath:function(){return new F},makeRenderImage:function(){return new q}};let da=Rive.load,Xa=null;Rive.load=function(n){return new Promise(function(u){let D=null;Xa={total:0,loaded:0,ready:function(){u(D)}};D=da(n);0==Xa.total&&u(D)})};d=new ca;Rive.requestAnimationFrame=d.requestAnimationFrame.bind(d);Rive.cancelAnimationFrame=d.cancelAnimationFrame.bind(d);Rive.enableFPSCounter=d.cb.bind(d);\nRive.disableFPSCounter=d.$a;d.La=c;Rive.cleanup=function(){z&&z.delete()}};var ha=Object.assign({},m),ka=\"object\"==typeof window,la=\"function\"==typeof importScripts,x=\"\",ma,oa;\nif(ka||la)la?x=self.location.href:\"undefined\"!=typeof document&&document.currentScript&&(x=document.currentScript.src),_scriptDir&&(x=_scriptDir),0!==x.indexOf(\"blob:\")?x=x.substr(0,x.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1):x=\"\",la&&(oa=b=>{var a=new XMLHttpRequest;a.open(\"GET\",b,!1);a.responseType=\"arraybuffer\";a.send(null);return new Uint8Array(a.response)}),ma=(b,a,c)=>{var d=new XMLHttpRequest;d.open(\"GET\",b,!0);d.responseType=\"arraybuffer\";d.onload=()=>{200==d.status||0==d.status&&d.response?\na(d.response):c()};d.onerror=c;d.send(null)};var pa=m.print||console.log.bind(console),qa=m.printErr||console.warn.bind(console);Object.assign(m,ha);ha=null;var ra;m.wasmBinary&&(ra=m.wasmBinary);var noExitRuntime=m.noExitRuntime||!0;\"object\"!=typeof WebAssembly&&ua(\"no native wasm support detected\");var va,wa=!1,xa=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf8\"):void 0;\nfunction ya(b,a,c){var d=a+c;for(c=a;b[c]&&!(c>=d);)++c;if(16<c-a&&b.buffer&&xa)return xa.decode(b.subarray(a,c));for(d=\"\";a<c;){var e=b[a++];if(e&128){var f=b[a++]&63;if(192==(e&224))d+=String.fromCharCode((e&31)<<6|f);else{var h=b[a++]&63;e=224==(e&240)?(e&15)<<12|f<<6|h:(e&7)<<18|f<<12|h<<6|b[a++]&63;65536>e?d+=String.fromCharCode(e):(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|e&1023))}}else d+=String.fromCharCode(e)}return d}var za,Aa,H,Ba,Ca,Da,M,Ea,Fa;\nfunction Ga(){var b=va.buffer;za=b;m.HEAP8=Aa=new Int8Array(b);m.HEAP16=Ba=new Int16Array(b);m.HEAP32=Da=new Int32Array(b);m.HEAPU8=H=new Uint8Array(b);m.HEAPU16=Ca=new Uint16Array(b);m.HEAPU32=M=new Uint32Array(b);m.HEAPF32=Ea=new Float32Array(b);m.HEAPF64=Fa=new Float64Array(b)}var Ha,Ia=[],Ja=[],Ka=[];function La(){var b=m.preRun.shift();Ia.unshift(b)}var Ma=0,Na=null,Oa=null;\nfunction ua(b){if(m.onAbort)m.onAbort(b);b=\"Aborted(\"+b+\")\";qa(b);wa=!0;b=new WebAssembly.RuntimeError(b+\". Build with -sASSERTIONS for more info.\");ba(b);throw b;}function Pa(){return N.startsWith(\"data:application/octet-stream;base64,\")}var N;N=\"canvas_advanced.wasm\";if(!Pa()){var Qa=N;N=m.locateFile?m.locateFile(Qa,x):x+Qa}function Ra(){var b=N;try{if(b==N&&ra)return new Uint8Array(ra);if(oa)return oa(b);throw\"both async and sync fetching of the wasm failed\";}catch(a){ua(a)}}\nfunction Sa(){if(!ra&&(ka||la)){if(\"function\"==typeof fetch&&!N.startsWith(\"file://\"))return fetch(N,{credentials:\"same-origin\"}).then(function(b){if(!b.ok)throw\"failed to load wasm binary file at '\"+N+\"'\";return b.arrayBuffer()}).catch(function(){return Ra()});if(ma)return new Promise(function(b,a){ma(N,function(c){b(new Uint8Array(c))},a)})}return Promise.resolve().then(function(){return Ra()})}function Ta(b){for(;0<b.length;)b.shift()(m)}\nfunction Ua(b){if(void 0===b)return\"_unknown\";b=b.replace(/[^a-zA-Z0-9_]/g,\"$\");var a=b.charCodeAt(0);return 48<=a&&57>=a?\"_\"+b:b}function Va(b,a){b=Ua(b);return function(){return a.apply(this,arguments)}}var O=[{},{value:void 0},{value:null},{value:!0},{value:!1}],Wa=[];\nfunction Ya(b){var a=Error,c=Va(b,function(d){this.name=b;this.message=d;d=Error(d).stack;void 0!==d&&(this.stack=this.toString()+\"\\n\"+d.replace(/^Error(:[^\\n]*)?\\n/,\"\"))});c.prototype=Object.create(a.prototype);c.prototype.constructor=c;c.prototype.toString=function(){return void 0===this.message?this.name:this.name+\": \"+this.message};return c}var Za=void 0;function Q(b){throw new Za(b);}\nvar $a=b=>{b||Q(\"Cannot use deleted val. handle = \"+b);return O[b].value},S=b=>{switch(b){case void 0:return 1;case null:return 2;case !0:return 3;case !1:return 4;default:var a=Wa.length?Wa.pop():O.length;O[a]={ya:1,value:b};return a}},ab=void 0,bb=void 0;function T(b){for(var a=\"\";H[b];)a+=bb[H[b++]];return a}var cb=[];function db(){for(;cb.length;){var b=cb.pop();b.U.ka=!1;b[\"delete\"]()}}var eb=void 0,V={};\nfunction fb(b,a){for(void 0===a&&Q(\"ptr should not be undefined\");b.$;)a=b.na(a),b=b.$;return a}var gb={};function hb(b){b=ib(b);var a=T(b);jb(b);return a}function kb(b,a){var c=gb[b];void 0===c&&Q(a+\" has unknown type \"+hb(b));return c}function lb(){}var mb=!1;function nb(b){--b.count.value;0===b.count.value&&(b.aa?b.da.ha(b.aa):b.X.V.ha(b.W))}function ob(b,a,c){if(a===c)return b;if(void 0===c.$)return null;b=ob(b,a,c.$);return null===b?null:c.ab(b)}var tb={};\nfunction ub(b,a){a=fb(b,a);return V[a]}var vb=void 0;function wb(b){throw new vb(b);}function xb(b,a){a.X&&a.W||wb(\"makeClassHandle requires ptr and ptrType\");!!a.da!==!!a.aa&&wb(\"Both smartPtrType and smartPtr must be specified\");a.count={value:1};return yb(Object.create(b,{U:{value:a}}))}\nfunction yb(b){if(\"undefined\"===typeof FinalizationRegistry)return yb=a=>a,b;mb=new FinalizationRegistry(a=>{nb(a.U)});yb=a=>{var c=a.U;c.aa&&mb.register(a,{U:c},a);return a};lb=a=>{mb.unregister(a)};return yb(b)}var zb={};function Ab(b){for(;b.length;){var a=b.pop();b.pop()(a)}}function Bb(b){return this.fromWireType(Da[b>>2])}var Cb={},Db={};\nfunction W(b,a,c){function d(g){g=c(g);g.length!==b.length&&wb(\"Mismatched type converter count\");for(var l=0;l<b.length;++l)Y(b[l],g[l])}b.forEach(function(g){Db[g]=a});var e=Array(a.length),f=[],h=0;a.forEach((g,l)=>{gb.hasOwnProperty(g)?e[l]=gb[g]:(f.push(g),Cb.hasOwnProperty(g)||(Cb[g]=[]),Cb[g].push(()=>{e[l]=gb[g];++h;h===f.length&&d(e)}))});0===f.length&&d(e)}\nfunction Eb(b){switch(b){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(\"Unknown type size: \"+b);}}\nfunction Y(b,a,c={}){if(!(\"argPackAdvance\"in a))throw new TypeError(\"registerType registeredInstance requires argPackAdvance\");var d=a.name;b||Q('type \"'+d+'\" must have a positive integer typeid pointer');if(gb.hasOwnProperty(b)){if(c.lb)return;Q(\"Cannot register type '\"+d+\"' twice\")}gb[b]=a;delete Db[b];Cb.hasOwnProperty(b)&&(a=Cb[b],delete Cb[b],a.forEach(e=>e()))}function Fb(b){Q(b.U.X.V.name+\" instance already deleted\")}function Gb(){}\nfunction Hb(b,a,c){if(void 0===b[a].Y){var d=b[a];b[a]=function(){b[a].Y.hasOwnProperty(arguments.length)||Q(\"Function '\"+c+\"' called with an invalid number of arguments (\"+arguments.length+\") - expects one of (\"+b[a].Y+\")!\");return b[a].Y[arguments.length].apply(this,arguments)};b[a].Y=[];b[a].Y[d.ja]=d}}\nfunction Ib(b,a,c){m.hasOwnProperty(b)?((void 0===c||void 0!==m[b].Y&&void 0!==m[b].Y[c])&&Q(\"Cannot register public name '\"+b+\"' twice\"),Hb(m,b,b),m.hasOwnProperty(c)&&Q(\"Cannot register multiple overloads of a function with the same number of arguments (\"+c+\")!\"),m[b].Y[c]=a):(m[b]=a,void 0!==c&&(m[b].zb=c))}function Jb(b,a,c,d,e,f,h,g){this.name=b;this.constructor=a;this.ea=c;this.ha=d;this.$=e;this.gb=f;this.na=h;this.ab=g;this.Ma=[]}\nfunction Kb(b,a,c){for(;a!==c;)a.na||Q(\"Expected null or instance of \"+c.name+\", got an instance of \"+a.name),b=a.na(b),a=a.$;return b}function Lb(b,a){if(null===a)return this.wa&&Q(\"null is not a valid \"+this.name),0;a.U||Q('Cannot pass \"'+Mb(a)+'\" as a '+this.name);a.U.W||Q(\"Cannot pass deleted object as a pointer of type \"+this.name);return Kb(a.U.W,a.U.X.V,this.V)}\nfunction Nb(b,a){if(null===a){this.wa&&Q(\"null is not a valid \"+this.name);if(this.qa){var c=this.xa();null!==b&&b.push(this.ha,c);return c}return 0}a.U||Q('Cannot pass \"'+Mb(a)+'\" as a '+this.name);a.U.W||Q(\"Cannot pass deleted object as a pointer of type \"+this.name);!this.pa&&a.U.X.pa&&Q(\"Cannot convert argument of type \"+(a.U.da?a.U.da.name:a.U.X.name)+\" to parameter type \"+this.name);c=Kb(a.U.W,a.U.X.V,this.V);if(this.qa)switch(void 0===a.U.aa&&Q(\"Passing raw pointer to smart pointer is illegal\"),\nthis.xb){case 0:a.U.da===this?c=a.U.aa:Q(\"Cannot convert argument of type \"+(a.U.da?a.U.da.name:a.U.X.name)+\" to parameter type \"+this.name);break;case 1:c=a.U.aa;break;case 2:if(a.U.da===this)c=a.U.aa;else{var d=a.clone();c=this.tb(c,S(function(){d[\"delete\"]()}));null!==b&&b.push(this.ha,c)}break;default:Q(\"Unsupporting sharing policy\")}return c}\nfunction Ob(b,a){if(null===a)return this.wa&&Q(\"null is not a valid \"+this.name),0;a.U||Q('Cannot pass \"'+Mb(a)+'\" as a '+this.name);a.U.W||Q(\"Cannot pass deleted object as a pointer of type \"+this.name);a.U.X.pa&&Q(\"Cannot convert argument of type \"+a.U.X.name+\" to parameter type \"+this.name);return Kb(a.U.W,a.U.X.V,this.V)}\nfunction Pb(b,a,c,d){this.name=b;this.V=a;this.wa=c;this.pa=d;this.qa=!1;this.ha=this.tb=this.xa=this.Na=this.xb=this.sb=void 0;void 0!==a.$?this.toWireType=Nb:(this.toWireType=d?Lb:Ob,this.ca=null)}function Qb(b,a,c){m.hasOwnProperty(b)||wb(\"Replacing nonexistant public symbol\");void 0!==m[b].Y&&void 0!==c?m[b].Y[c]=a:(m[b]=a,m[b].ja=c)}\nfunction Rb(b,a){var c=[];return function(){c.length=0;Object.assign(c,arguments);if(b.includes(\"j\")){var d=m[\"dynCall_\"+b];d=c&&c.length?d.apply(null,[a].concat(c)):d.call(null,a)}else d=Ha.get(a).apply(null,c);return d}}function Z(b,a){b=T(b);var c=b.includes(\"j\")?Rb(b,a):Ha.get(a);\"function\"!=typeof c&&Q(\"unknown function pointer with signature \"+b+\": \"+a);return c}var Sb=void 0;\nfunction Tb(b,a){function c(f){e[f]||gb[f]||(Db[f]?Db[f].forEach(c):(d.push(f),e[f]=!0))}var d=[],e={};a.forEach(c);throw new Sb(b+\": \"+d.map(hb).join([\", \"]));}\nfunction Ub(b,a,c,d,e){var f=a.length;2>f&&Q(\"argTypes array size mismatch! Must at least get return value and 'this' types!\");var h=null!==a[1]&&null!==c,g=!1;for(c=1;c<a.length;++c)if(null!==a[c]&&void 0===a[c].ca){g=!0;break}var l=\"void\"!==a[0].name,k=f-2,p=Array(k),r=[],t=[];return function(){arguments.length!==k&&Q(\"function \"+b+\" called with \"+arguments.length+\" arguments, expected \"+k+\" args!\");t.length=0;r.length=h?2:1;r[0]=e;if(h){var v=a[1].toWireType(t,this);r[1]=v}for(var q=0;q<k;++q)p[q]=\na[q+2].toWireType(t,arguments[q]),r.push(p[q]);q=d.apply(null,r);if(g)Ab(t);else for(var F=h?1:2;F<a.length;F++){var I=1===F?v:p[F-2];null!==a[F].ca&&a[F].ca(I)}v=l?a[0].fromWireType(q):void 0;return v}}function Vb(b,a){for(var c=[],d=0;d<b;d++)c.push(M[a+4*d>>2]);return c}\nfunction Wb(b,a,c){b instanceof Object||Q(c+' with invalid \"this\": '+b);b instanceof a.V.constructor||Q(c+' incompatible with \"this\" of type '+b.constructor.name);b.U.W||Q(\"cannot call emscripten binding method \"+c+\" on deleted object\");return Kb(b.U.W,b.U.X.V,a.V)}function Xb(b){4<b&&0===--O[b].ya&&(O[b]=void 0,Wa.push(b))}\nfunction Zb(b,a,c){switch(a){case 0:return function(d){return this.fromWireType((c?Aa:H)[d])};case 1:return function(d){return this.fromWireType((c?Ba:Ca)[d>>1])};case 2:return function(d){return this.fromWireType((c?Da:M)[d>>2])};default:throw new TypeError(\"Unknown integer type: \"+b);}}function Mb(b){if(null===b)return\"null\";var a=typeof b;return\"object\"===a||\"array\"===a||\"function\"===a?b.toString():\"\"+b}\nfunction $b(b,a){switch(a){case 2:return function(c){return this.fromWireType(Ea[c>>2])};case 3:return function(c){return this.fromWireType(Fa[c>>3])};default:throw new TypeError(\"Unknown float type: \"+b);}}\nfunction ac(b,a,c){switch(a){case 0:return c?function(d){return Aa[d]}:function(d){return H[d]};case 1:return c?function(d){return Ba[d>>1]}:function(d){return Ca[d>>1]};case 2:return c?function(d){return Da[d>>2]}:function(d){return M[d>>2]};default:throw new TypeError(\"Unknown integer type: \"+b);}}var bc=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf-16le\"):void 0;\nfunction cc(b,a){var c=b>>1;for(var d=c+a/2;!(c>=d)&&Ca[c];)++c;c<<=1;if(32<c-b&&bc)return bc.decode(H.subarray(b,c));c=\"\";for(d=0;!(d>=a/2);++d){var e=Ba[b+2*d>>1];if(0==e)break;c+=String.fromCharCode(e)}return c}function dc(b,a,c){void 0===c&&(c=2147483647);if(2>c)return 0;c-=2;var d=a;c=c<2*b.length?c/2:b.length;for(var e=0;e<c;++e)Ba[a>>1]=b.charCodeAt(e),a+=2;Ba[a>>1]=0;return a-d}function ec(b){return 2*b.length}\nfunction fc(b,a){for(var c=0,d=\"\";!(c>=a/4);){var e=Da[b+4*c>>2];if(0==e)break;++c;65536<=e?(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|e&1023)):d+=String.fromCharCode(e)}return d}function gc(b,a,c){void 0===c&&(c=2147483647);if(4>c)return 0;var d=a;c=d+c-4;for(var e=0;e<b.length;++e){var f=b.charCodeAt(e);if(55296<=f&&57343>=f){var h=b.charCodeAt(++e);f=65536+((f&1023)<<10)|h&1023}Da[a>>2]=f;a+=4;if(a+4>c)break}Da[a>>2]=0;return a-d}\nfunction hc(b){for(var a=0,c=0;c<b.length;++c){var d=b.charCodeAt(c);55296<=d&&57343>=d&&++c;a+=4}return a}var ic={};function jc(b){var a=ic[b];return void 0===a?T(b):a}var kc=[];function lc(b){var a=kc.length;kc.push(b);return a}function mc(b,a){for(var c=Array(b),d=0;d<b;++d)c[d]=kb(M[a+4*d>>2],\"parameter \"+d);return c}var nc=[],oc=[null,[],[]];Za=m.BindingError=Ya(\"BindingError\");m.count_emval_handles=function(){for(var b=0,a=5;a<O.length;++a)void 0!==O[a]&&++b;return b};\nm.get_first_emval=function(){for(var b=5;b<O.length;++b)if(void 0!==O[b])return O[b];return null};ab=m.PureVirtualError=Ya(\"PureVirtualError\");for(var pc=Array(256),qc=0;256>qc;++qc)pc[qc]=String.fromCharCode(qc);bb=pc;m.getInheritedInstanceCount=function(){return Object.keys(V).length};m.getLiveInheritedInstances=function(){var b=[],a;for(a in V)V.hasOwnProperty(a)&&b.push(V[a]);return b};m.flushPendingDeletes=db;m.setDelayFunction=function(b){eb=b;cb.length&&eb&&eb(db)};vb=m.InternalError=Ya(\"InternalError\");\nGb.prototype.isAliasOf=function(b){if(!(this instanceof Gb&&b instanceof Gb))return!1;var a=this.U.X.V,c=this.U.W,d=b.U.X.V;for(b=b.U.W;a.$;)c=a.na(c),a=a.$;for(;d.$;)b=d.na(b),d=d.$;return a===d&&c===b};Gb.prototype.clone=function(){this.U.W||Fb(this);if(this.U.ma)return this.U.count.value+=1,this;var b=yb,a=Object,c=a.create,d=Object.getPrototypeOf(this),e=this.U;b=b(c.call(a,d,{U:{value:{count:e.count,ka:e.ka,ma:e.ma,W:e.W,X:e.X,aa:e.aa,da:e.da}}}));b.U.count.value+=1;b.U.ka=!1;return b};\nGb.prototype[\"delete\"]=function(){this.U.W||Fb(this);this.U.ka&&!this.U.ma&&Q(\"Object already scheduled for deletion\");lb(this);nb(this.U);this.U.ma||(this.U.aa=void 0,this.U.W=void 0)};Gb.prototype.isDeleted=function(){return!this.U.W};Gb.prototype.deleteLater=function(){this.U.W||Fb(this);this.U.ka&&!this.U.ma&&Q(\"Object already scheduled for deletion\");cb.push(this);1===cb.length&&eb&&eb(db);this.U.ka=!0;return this};Pb.prototype.hb=function(b){this.Na&&(b=this.Na(b));return b};\nPb.prototype.Ga=function(b){this.ha&&this.ha(b)};Pb.prototype.argPackAdvance=8;Pb.prototype.readValueFromPointer=Bb;Pb.prototype.deleteObject=function(b){if(null!==b)b[\"delete\"]()};\nPb.prototype.fromWireType=function(b){function a(){return this.qa?xb(this.V.ea,{X:this.sb,W:c,da:this,aa:b}):xb(this.V.ea,{X:this,W:b})}var c=this.hb(b);if(!c)return this.Ga(b),null;var d=ub(this.V,c);if(void 0!==d){if(0===d.U.count.value)return d.U.W=c,d.U.aa=b,d.clone();d=d.clone();this.Ga(b);return d}d=this.V.gb(c);d=tb[d];if(!d)return a.call(this);d=this.pa?d.Xa:d.pointerType;var e=ob(c,this.V,d.V);return null===e?a.call(this):this.qa?xb(d.V.ea,{X:d,W:e,da:this,aa:b}):xb(d.V.ea,{X:d,W:e})};\nSb=m.UnboundTypeError=Ya(\"UnboundTypeError\");\nvar sc={G:function(b,a,c){b=T(b);a=kb(a,\"wrapper\");c=$a(c);var d=[].slice,e=a.V,f=e.ea,h=e.$.ea,g=e.$.constructor;b=Va(b,function(){e.$.Ma.forEach(function(k){if(this[k]===h[k])throw new ab(\"Pure virtual function \"+k+\" must be implemented in JavaScript\");}.bind(this));Object.defineProperty(this,\"__parent\",{value:f});this.__construct.apply(this,d.call(arguments))});f.__construct=function(){this===f&&Q(\"Pass correct 'this' to __construct\");var k=g.implement.apply(void 0,[this].concat(d.call(arguments)));\nlb(k);var p=k.U;k.notifyOnDestruction();p.ma=!0;Object.defineProperties(this,{U:{value:p}});yb(this);k=p.W;k=fb(e,k);V.hasOwnProperty(k)?Q(\"Tried to register registered instance: \"+k):V[k]=this};f.__destruct=function(){this===f&&Q(\"Pass correct 'this' to __destruct\");lb(this);var k=this.U.W;k=fb(e,k);V.hasOwnProperty(k)?delete V[k]:Q(\"Tried to unregister unregistered instance: \"+k)};b.prototype=Object.create(f);for(var l in c)b.prototype[l]=c[l];return S(b)},J:function(b){var a=zb[b];delete zb[b];\nvar c=a.xa,d=a.ha,e=a.Ja,f=e.map(h=>h.kb).concat(e.map(h=>h.vb));W([b],f,h=>{var g={};e.forEach((l,k)=>{var p=h[k],r=l.ib,t=l.jb,v=h[k+e.length],q=l.ub,F=l.wb;g[l.eb]={read:I=>p.fromWireType(r(t,I)),write:(I,w)=>{var z=[];q(F,I,v.toWireType(z,w));Ab(z)}}});return[{name:a.name,fromWireType:function(l){var k={},p;for(p in g)k[p]=g[p].read(l);d(l);return k},toWireType:function(l,k){for(var p in g)if(!(p in k))throw new TypeError('Missing field:  \"'+p+'\"');var r=c();for(p in g)g[p].write(r,k[p]);null!==\nl&&l.push(d,r);return r},argPackAdvance:8,readValueFromPointer:Bb,ca:d}]})},z:function(){},E:function(b,a,c,d,e){var f=Eb(c);a=T(a);Y(b,{name:a,fromWireType:function(h){return!!h},toWireType:function(h,g){return g?d:e},argPackAdvance:8,readValueFromPointer:function(h){if(1===c)var g=Aa;else if(2===c)g=Ba;else if(4===c)g=Da;else throw new TypeError(\"Unknown boolean type size: \"+a);return this.fromWireType(g[h>>f])},ca:null})},e:function(b,a,c,d,e,f,h,g,l,k,p,r,t){p=T(p);f=Z(e,f);g&&(g=Z(h,g));k&&(k=\nZ(l,k));t=Z(r,t);var v=Ua(p);Ib(v,function(){Tb(\"Cannot construct \"+p+\" due to unbound types\",[d])});W([b,a,c],d?[d]:[],function(q){q=q[0];if(d){var F=q.V;var I=F.ea}else I=Gb.prototype;q=Va(v,function(){if(Object.getPrototypeOf(this)!==w)throw new Za(\"Use 'new' to construct \"+p);if(void 0===z.ia)throw new Za(p+\" has no accessible constructor\");var P=z.ia[arguments.length];if(void 0===P)throw new Za(\"Tried to invoke ctor of \"+p+\" with invalid number of parameters (\"+arguments.length+\") - expected (\"+\nObject.keys(z.ia).toString()+\") parameters instead!\");return P.apply(this,arguments)});var w=Object.create(I,{constructor:{value:q}});q.prototype=w;var z=new Jb(p,q,w,t,F,f,g,k);F=new Pb(p,z,!0,!1);I=new Pb(p+\"*\",z,!1,!1);var J=new Pb(p+\" const*\",z,!1,!0);tb[b]={pointerType:I,Xa:J};Qb(v,q);return[F,I,J]})},k:function(b,a,c,d,e,f,h){var g=Vb(c,d);a=T(a);f=Z(e,f);W([],[b],function(l){function k(){Tb(\"Cannot call \"+p+\" due to unbound types\",g)}l=l[0];var p=l.name+\".\"+a;a.startsWith(\"@@\")&&(a=Symbol[a.substring(2)]);\nvar r=l.V.constructor;void 0===r[a]?(k.ja=c-1,r[a]=k):(Hb(r,a,p),r[a].Y[c-1]=k);W([],g,function(t){t=Ub(p,[t[0],null].concat(t.slice(1)),null,f,h);void 0===r[a].Y?(t.ja=c-1,r[a]=t):r[a].Y[c-1]=t;return[]});return[]})},s:function(b,a,c,d,e,f,h,g){a=T(a);f=Z(e,f);W([],[b],function(l){l=l[0];var k=l.name+\".\"+a,p={get:function(){Tb(\"Cannot access \"+k+\" due to unbound types\",[c])},enumerable:!0,configurable:!0};p.set=g?()=>{Tb(\"Cannot access \"+k+\" due to unbound types\",[c])}:()=>{Q(k+\" is a read-only property\")};\nObject.defineProperty(l.V.constructor,a,p);W([],[c],function(r){r=r[0];var t={get:function(){return r.fromWireType(f(d))},enumerable:!0};g&&(g=Z(h,g),t.set=v=>{var q=[];g(d,r.toWireType(q,v));Ab(q)});Object.defineProperty(l.V.constructor,a,t);return[]});return[]})},o:function(b,a,c,d,e,f){0<a||ua();var h=Vb(a,c);e=Z(d,e);W([],[b],function(g){g=g[0];var l=\"constructor \"+g.name;void 0===g.V.ia&&(g.V.ia=[]);if(void 0!==g.V.ia[a-1])throw new Za(\"Cannot register multiple constructors with identical number of parameters (\"+\n(a-1)+\") for class '\"+g.name+\"'! Overload resolution is currently only performed using the parameter count, not actual type info!\");g.V.ia[a-1]=()=>{Tb(\"Cannot construct \"+g.name+\" due to unbound types\",h)};W([],h,function(k){k.splice(1,0,null);g.V.ia[a-1]=Ub(l,k,null,e,f);return[]});return[]})},a:function(b,a,c,d,e,f,h,g){var l=Vb(c,d);a=T(a);f=Z(e,f);W([],[b],function(k){function p(){Tb(\"Cannot call \"+r+\" due to unbound types\",l)}k=k[0];var r=k.name+\".\"+a;a.startsWith(\"@@\")&&(a=Symbol[a.substring(2)]);\ng&&k.V.Ma.push(a);var t=k.V.ea,v=t[a];void 0===v||void 0===v.Y&&v.className!==k.name&&v.ja===c-2?(p.ja=c-2,p.className=k.name,t[a]=p):(Hb(t,a,r),t[a].Y[c-2]=p);W([],l,function(q){q=Ub(r,q,k,f,h);void 0===t[a].Y?(q.ja=c-2,t[a]=q):t[a].Y[c-2]=q;return[]});return[]})},d:function(b,a,c,d,e,f,h,g,l,k){a=T(a);e=Z(d,e);W([],[b],function(p){p=p[0];var r=p.name+\".\"+a,t={get:function(){Tb(\"Cannot access \"+r+\" due to unbound types\",[c,h])},enumerable:!0,configurable:!0};t.set=l?()=>{Tb(\"Cannot access \"+r+\" due to unbound types\",\n[c,h])}:()=>{Q(r+\" is a read-only property\")};Object.defineProperty(p.V.ea,a,t);W([],l?[c,h]:[c],function(v){var q=v[0],F={get:function(){var w=Wb(this,p,r+\" getter\");return q.fromWireType(e(f,w))},enumerable:!0};if(l){l=Z(g,l);var I=v[1];F.set=function(w){var z=Wb(this,p,r+\" setter\"),J=[];l(k,z,I.toWireType(J,w));Ab(J)}}Object.defineProperty(p.V.ea,a,F);return[]});return[]})},D:function(b,a){a=T(a);Y(b,{name:a,fromWireType:function(c){var d=$a(c);Xb(c);return d},toWireType:function(c,d){return S(d)},\nargPackAdvance:8,readValueFromPointer:Bb,ca:null})},l:function(b,a,c,d){function e(){}c=Eb(c);a=T(a);e.values={};Y(b,{name:a,constructor:e,fromWireType:function(f){return this.constructor.values[f]},toWireType:function(f,h){return h.value},argPackAdvance:8,readValueFromPointer:Zb(a,c,d),ca:null});Ib(a,e)},c:function(b,a,c){var d=kb(b,\"enum\");a=T(a);b=d.constructor;d=Object.create(d.constructor.prototype,{value:{value:c},constructor:{value:Va(d.name+\"_\"+a,function(){})}});b.values[c]=d;b[a]=d},u:function(b,\na,c){c=Eb(c);a=T(a);Y(b,{name:a,fromWireType:function(d){return d},toWireType:function(d,e){return e},argPackAdvance:8,readValueFromPointer:$b(a,c),ca:null})},q:function(b,a,c,d,e,f){var h=Vb(a,c);b=T(b);e=Z(d,e);Ib(b,function(){Tb(\"Cannot call \"+b+\" due to unbound types\",h)},a-1);W([],h,function(g){Qb(b,Ub(b,[g[0],null].concat(g.slice(1)),null,e,f),a-1);return[]})},j:function(b,a,c,d,e){a=T(a);-1===e&&(e=4294967295);e=Eb(c);var f=g=>g;if(0===d){var h=32-8*c;f=g=>g<<h>>>h}c=a.includes(\"unsigned\")?\nfunction(g,l){return l>>>0}:function(g,l){return l};Y(b,{name:a,fromWireType:f,toWireType:c,argPackAdvance:8,readValueFromPointer:ac(a,e,0!==d),ca:null})},g:function(b,a,c){function d(f){f>>=2;var h=M;return new e(za,h[f+1],h[f])}var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][a];c=T(c);Y(b,{name:c,fromWireType:d,argPackAdvance:8,readValueFromPointer:d},{lb:!0})},v:function(b,a){a=T(a);var c=\"std::string\"===a;Y(b,{name:a,fromWireType:function(d){var e=\nM[d>>2],f=d+4;if(c)for(var h=f,g=0;g<=e;++g){var l=f+g;if(g==e||0==H[l]){h=h?ya(H,h,l-h):\"\";if(void 0===k)var k=h;else k+=String.fromCharCode(0),k+=h;h=l+1}}else{k=Array(e);for(g=0;g<e;++g)k[g]=String.fromCharCode(H[f+g]);k=k.join(\"\")}jb(d);return k},toWireType:function(d,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var f,h=\"string\"==typeof e;h||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||Q(\"Cannot pass non-string to std::string\");if(c&&h){var g=0;for(f=\n0;f<e.length;++f){var l=e.charCodeAt(f);127>=l?g++:2047>=l?g+=2:55296<=l&&57343>=l?(g+=4,++f):g+=3}f=g}else f=e.length;g=rc(4+f+1);l=g+4;M[g>>2]=f;if(c&&h){if(h=l,l=f+1,f=H,0<l){l=h+l-1;for(var k=0;k<e.length;++k){var p=e.charCodeAt(k);if(55296<=p&&57343>=p){var r=e.charCodeAt(++k);p=65536+((p&1023)<<10)|r&1023}if(127>=p){if(h>=l)break;f[h++]=p}else{if(2047>=p){if(h+1>=l)break;f[h++]=192|p>>6}else{if(65535>=p){if(h+2>=l)break;f[h++]=224|p>>12}else{if(h+3>=l)break;f[h++]=240|p>>18;f[h++]=128|p>>12&\n63}f[h++]=128|p>>6&63}f[h++]=128|p&63}}f[h]=0}}else if(h)for(h=0;h<f;++h)k=e.charCodeAt(h),255<k&&(jb(l),Q(\"String has UTF-16 code units that do not fit in 8 bits\")),H[l+h]=k;else for(h=0;h<f;++h)H[l+h]=e[h];null!==d&&d.push(jb,g);return g},argPackAdvance:8,readValueFromPointer:Bb,ca:function(d){jb(d)}})},t:function(b,a,c){c=T(c);if(2===a){var d=cc;var e=dc;var f=ec;var h=()=>Ca;var g=1}else 4===a&&(d=fc,e=gc,f=hc,h=()=>M,g=2);Y(b,{name:c,fromWireType:function(l){for(var k=M[l>>2],p=h(),r,t=l+4,v=\n0;v<=k;++v){var q=l+4+v*a;if(v==k||0==p[q>>g])t=d(t,q-t),void 0===r?r=t:(r+=String.fromCharCode(0),r+=t),t=q+a}jb(l);return r},toWireType:function(l,k){\"string\"!=typeof k&&Q(\"Cannot pass non-string to C++ string type \"+c);var p=f(k),r=rc(4+p+a);M[r>>2]=p>>g;e(k,r+4,p+a);null!==l&&l.push(jb,r);return r},argPackAdvance:8,readValueFromPointer:Bb,ca:function(l){jb(l)}})},L:function(b,a,c,d,e,f){zb[b]={name:T(a),xa:Z(c,d),ha:Z(e,f),Ja:[]}},K:function(b,a,c,d,e,f,h,g,l,k){zb[b].Ja.push({eb:T(a),kb:c,ib:Z(d,\ne),jb:f,vb:h,ub:Z(g,l),wb:k})},F:function(b,a){a=T(a);Y(b,{nb:!0,name:a,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},r:function(b,a,c){b=$a(b);a=kb(a,\"emval::as\");var d=[],e=S(d);M[c>>2]=e;return a.toWireType(d,b)},w:function(b,a,c,d,e){b=kc[b];a=$a(a);c=jc(c);var f=[];M[d>>2]=S(f);return b(a,c,f,e)},i:function(b,a,c,d){b=kc[b];a=$a(a);c=jc(c);b(a,c,null,d)},f:Xb,h:function(b,a){var c=mc(b,a),d=c[0];a=d.name+\"_$\"+c.slice(1).map(function(h){return h.name}).join(\"_\")+\"$\";var e=\nnc[a];if(void 0!==e)return e;var f=Array(b-1);e=lc((h,g,l,k)=>{for(var p=0,r=0;r<b-1;++r)f[r]=c[r+1].readValueFromPointer(k+p),p+=c[r+1].argPackAdvance;h=h[g].apply(h,f);for(r=0;r<b-1;++r)c[r+1].Za&&c[r+1].Za(f[r]);if(!d.nb)return d.toWireType(l,h)});return nc[a]=e},p:function(b){b=jc(b);return S(m[b])},I:function(b,a){b=$a(b);a=$a(a);return S(b[a])},m:function(b){4<b&&(O[b].ya+=1)},H:function(b){return S(jc(b))},n:function(b){var a=$a(b);Ab(a);Xb(b)},x:function(b,a){b=kb(b,\"_emval_take_value\");b=\nb.readValueFromPointer(a);return S(b)},b:function(){ua(\"\")},A:function(b){var a=H.length;b>>>=0;if(2147483648<b)return!1;for(var c=1;4>=c;c*=2){var d=a*(1+.2/c);d=Math.min(d,b+100663296);var e=Math;d=Math.max(b,d);e=e.min.call(e,2147483648,d+(65536-d%65536)%65536);a:{try{va.grow(e-za.byteLength+65535>>>16);Ga();var f=1;break a}catch(h){}f=void 0}if(f)return!0}return!1},C:function(){return 52},y:function(){return 70},B:function(b,a,c,d){for(var e=0,f=0;f<c;f++){var h=M[a>>2],g=M[a+4>>2];a+=8;for(var l=\n0;l<g;l++){var k=H[h+l],p=oc[b];0===k||10===k?((1===b?pa:qa)(ya(p,0)),p.length=0):p.push(k)}e+=g}M[d>>2]=e;return 0}};\n(function(){function b(e){m.asm=e.exports;va=m.asm.M;Ga();Ha=m.asm.S;Ja.unshift(m.asm.N);Ma--;m.monitorRunDependencies&&m.monitorRunDependencies(Ma);0==Ma&&(null!==Na&&(clearInterval(Na),Na=null),Oa&&(e=Oa,Oa=null,e()))}function a(e){b(e.instance)}function c(e){return Sa().then(function(f){return WebAssembly.instantiate(f,d)}).then(function(f){return f}).then(e,function(f){qa(\"failed to asynchronously prepare wasm: \"+f);ua(f)})}var d={a:sc};Ma++;m.monitorRunDependencies&&m.monitorRunDependencies(Ma);\nif(m.instantiateWasm)try{return m.instantiateWasm(d,b)}catch(e){qa(\"Module.instantiateWasm callback failed with error: \"+e),ba(e)}(function(){return ra||\"function\"!=typeof WebAssembly.instantiateStreaming||Pa()||N.startsWith(\"file://\")||\"function\"!=typeof fetch?c(a):fetch(N,{credentials:\"same-origin\"}).then(function(e){return WebAssembly.instantiateStreaming(e,d).then(a,function(f){qa(\"wasm streaming compile failed: \"+f);qa(\"falling back to ArrayBuffer instantiation\");return c(a)})})})().catch(ba);\nreturn{}})();m.___wasm_call_ctors=function(){return(m.___wasm_call_ctors=m.asm.N).apply(null,arguments)};var jb=m._free=function(){return(jb=m._free=m.asm.O).apply(null,arguments)},rc=m._malloc=function(){return(rc=m._malloc=m.asm.P).apply(null,arguments)},ib=m.___getTypeName=function(){return(ib=m.___getTypeName=m.asm.Q).apply(null,arguments)};m.__embind_initialize_bindings=function(){return(m.__embind_initialize_bindings=m.asm.R).apply(null,arguments)};\nm.dynCall_jiji=function(){return(m.dynCall_jiji=m.asm.T).apply(null,arguments)};var tc;Oa=function uc(){tc||vc();tc||(Oa=uc)};\nfunction vc(){function b(){if(!tc&&(tc=!0,m.calledRun=!0,!wa)){Ta(Ja);aa(m);if(m.onRuntimeInitialized)m.onRuntimeInitialized();if(m.postRun)for(\"function\"==typeof m.postRun&&(m.postRun=[m.postRun]);m.postRun.length;){var a=m.postRun.shift();Ka.unshift(a)}Ta(Ka)}}if(!(0<Ma)){if(m.preRun)for(\"function\"==typeof m.preRun&&(m.preRun=[m.preRun]);m.preRun.length;)La();Ta(Ia);0<Ma||(m.setStatus?(m.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){m.setStatus(\"\")},1);b()},1)):b())}}\nif(m.preInit)for(\"function\"==typeof m.preInit&&(m.preInit=[m.preInit]);0<m.preInit.length;)m.preInit.pop()();vc();\n\n\n  return Rive.ready\n}\n);\n})();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Rive);\n\n/***/ }),\n/* 2 */\n/***/ ((module) => {\n\nmodule.exports = JSON.parse('{\"name\":\"@rive-app/canvas\",\"version\":\"1.2.0\",\"description\":\"Rive\\'s canvas based web api.\",\"main\":\"rive.js\",\"homepage\":\"https://rive.app\",\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/rive-app/rive-wasm/tree/master/js\"},\"keywords\":[\"rive\",\"animation\"],\"author\":\"Rive\",\"contributors\":[\"Luigi Rosso <luigi@rive.app> (https://rive.app)\",\"Maxwell Talbot <max@rive.app> (https://rive.app)\",\"Arthur Vivian <arthur@rive.app> (https://rive.app)\",\"Umberto Sonnino <umberto@rive.app> (https://rive.app)\",\"Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)\"],\"license\":\"MIT\",\"files\":[\"rive.js\",\"rive.js.map\",\"rive.wasm\",\"rive.d.ts\",\"rive_advanced.mjs.d.ts\"],\"typings\":\"rive.d.ts\",\"dependencies\":{},\"browser\":{\"fs\":false,\"path\":false}}');\n\n/***/ }),\n/* 3 */\n/***/ ((__unused_webpack_module, __webpack_exports__, __nested_webpack_require_41203__) => {\n\n__nested_webpack_require_41203__.r(__webpack_exports__);\n/* harmony export */ __nested_webpack_require_41203__.d(__webpack_exports__, {\n/* harmony export */   \"registerTouchInteractions\": () => (/* reexport safe */ _registerTouchInteractions__WEBPACK_IMPORTED_MODULE_0__.registerTouchInteractions)\n/* harmony export */ });\n/* harmony import */ var _registerTouchInteractions__WEBPACK_IMPORTED_MODULE_0__ = __nested_webpack_require_41203__(4);\n\n\n\n/***/ }),\n/* 4 */\n/***/ ((__unused_webpack_module, __webpack_exports__, __nested_webpack_require_41709__) => {\n\n__nested_webpack_require_41709__.r(__webpack_exports__);\n/* harmony export */ __nested_webpack_require_41709__.d(__webpack_exports__, {\n/* harmony export */   \"registerTouchInteractions\": () => (/* binding */ registerTouchInteractions)\n/* harmony export */ });\nvar _this = undefined;\n/**\n * Returns the clientX and clientY properties from touch or mouse events. Also\n * calls preventDefault() on the event if it is a touchstart or touchmove to prevent\n * scrolling the page on mobile devices\n * @param event - Either a TouchEvent or a MouseEvent\n * @returns - Coordinates of the clientX and clientY properties from the touch/mouse event\n */\nvar getClientCoordinates = function (event) {\n    var _a, _b;\n    if ([\"touchstart\", \"touchmove\"].indexOf(event.type) > -1 &&\n        ((_a = event.touches) === null || _a === void 0 ? void 0 : _a.length)) {\n        event.preventDefault();\n        return {\n            clientX: event.touches[0].clientX,\n            clientY: event.touches[0].clientY,\n        };\n    }\n    else if (event.type === \"touchend\" &&\n        ((_b = event.changedTouches) === null || _b === void 0 ? void 0 : _b.length)) {\n        return {\n            clientX: event.changedTouches[0].clientX,\n            clientY: event.changedTouches[0].clientY,\n        };\n    }\n    else {\n        return {\n            clientX: event.clientX,\n            clientY: event.clientY,\n        };\n    }\n};\n/**\n * Registers mouse move/up/down callback handlers on the canvas to send meaningful coordinates to\n * the state machine pointer move/up/down functions based on cursor interaction\n */\nvar registerTouchInteractions = function (_a) {\n    var canvas = _a.canvas, artboard = _a.artboard, _b = _a.stateMachines, stateMachines = _b === void 0 ? [] : _b, renderer = _a.renderer, rive = _a.rive, fit = _a.fit, alignment = _a.alignment;\n    if (!canvas ||\n        !stateMachines.length ||\n        !renderer ||\n        !rive ||\n        !artboard ||\n        typeof window === \"undefined\") {\n        return null;\n    }\n    var processEventCallback = function (event) {\n        var boundingRect = event.currentTarget.getBoundingClientRect();\n        var _a = getClientCoordinates(event), clientX = _a.clientX, clientY = _a.clientY;\n        if (!clientX && !clientY) {\n            return;\n        }\n        var canvasX = clientX - boundingRect.left;\n        var canvasY = clientY - boundingRect.top;\n        var forwardMatrix = rive.computeAlignment(fit, alignment, {\n            minX: 0,\n            minY: 0,\n            maxX: boundingRect.width,\n            maxY: boundingRect.height,\n        }, artboard.bounds);\n        var invertedMatrix = new rive.Mat2D();\n        forwardMatrix.invert(invertedMatrix);\n        var canvasCoordinatesVector = new rive.Vec2D(canvasX, canvasY);\n        var transformedVector = rive.mapXY(invertedMatrix, canvasCoordinatesVector);\n        var transformedX = transformedVector.x();\n        var transformedY = transformedVector.y();\n        transformedVector.delete();\n        invertedMatrix.delete();\n        canvasCoordinatesVector.delete();\n        forwardMatrix.delete();\n        switch (event.type) {\n            // Pointer moving/hovering on the canvas\n            case \"touchmove\":\n            case \"mouseover\":\n            case \"mouseout\":\n            case \"mousemove\": {\n                for (var _i = 0, stateMachines_1 = stateMachines; _i < stateMachines_1.length; _i++) {\n                    var stateMachine = stateMachines_1[_i];\n                    stateMachine.pointerMove(transformedX, transformedY);\n                }\n                break;\n            }\n            // Pointer click initiated but not released yet on the canvas\n            case \"touchstart\":\n            case \"mousedown\": {\n                for (var _b = 0, stateMachines_2 = stateMachines; _b < stateMachines_2.length; _b++) {\n                    var stateMachine = stateMachines_2[_b];\n                    stateMachine.pointerDown(transformedX, transformedY);\n                }\n                break;\n            }\n            // Pointer click released on the canvas\n            case \"touchend\":\n            case \"mouseup\": {\n                for (var _c = 0, stateMachines_3 = stateMachines; _c < stateMachines_3.length; _c++) {\n                    var stateMachine = stateMachines_3[_c];\n                    stateMachine.pointerUp(transformedX, transformedY);\n                }\n                break;\n            }\n            default:\n        }\n    };\n    var callback = processEventCallback.bind(_this);\n    canvas.addEventListener(\"mouseover\", callback);\n    canvas.addEventListener(\"mouseout\", callback);\n    canvas.addEventListener(\"mousemove\", callback);\n    canvas.addEventListener(\"mousedown\", callback);\n    canvas.addEventListener(\"mouseup\", callback);\n    canvas.addEventListener(\"touchmove\", callback);\n    canvas.addEventListener(\"touchstart\", callback);\n    canvas.addEventListener(\"touchend\", callback);\n    return function () {\n        canvas.removeEventListener(\"mouseover\", callback);\n        canvas.removeEventListener(\"mouseout\", callback);\n        canvas.removeEventListener(\"mousemove\", callback);\n        canvas.removeEventListener(\"mousedown\", callback);\n        canvas.removeEventListener(\"mouseup\", callback);\n        canvas.removeEventListener(\"touchmove\", callback);\n        canvas.removeEventListener(\"touchstart\", callback);\n        canvas.removeEventListener(\"touchend\", callback);\n    };\n};\n\n\n/***/ })\n/******/ \t]);\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_47371__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __nested_webpack_require_47371__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__nested_webpack_require_47371__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__nested_webpack_require_47371__.o(definition, key) && !__nested_webpack_require_47371__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__nested_webpack_require_47371__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__nested_webpack_require_47371__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n(() => {\n__nested_webpack_require_47371__.r(__webpack_exports__);\n/* harmony export */ __nested_webpack_require_47371__.d(__webpack_exports__, {\n/* harmony export */   \"Fit\": () => (/* binding */ Fit),\n/* harmony export */   \"Alignment\": () => (/* binding */ Alignment),\n/* harmony export */   \"Layout\": () => (/* binding */ Layout),\n/* harmony export */   \"RuntimeLoader\": () => (/* binding */ RuntimeLoader),\n/* harmony export */   \"StateMachineInputType\": () => (/* binding */ StateMachineInputType),\n/* harmony export */   \"StateMachineInput\": () => (/* binding */ StateMachineInput),\n/* harmony export */   \"EventType\": () => (/* binding */ EventType),\n/* harmony export */   \"LoopType\": () => (/* binding */ LoopType),\n/* harmony export */   \"Rive\": () => (/* binding */ Rive),\n/* harmony export */   \"Testing\": () => (/* binding */ Testing)\n/* harmony export */ });\n/* harmony import */ var _rive_advanced_mjs__WEBPACK_IMPORTED_MODULE_0__ = __nested_webpack_require_47371__(1);\n/* harmony import */ var package_json__WEBPACK_IMPORTED_MODULE_1__ = __nested_webpack_require_47371__(2);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __nested_webpack_require_47371__(3);\nvar __awaiter = ( false) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = ( false) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n// #region layout\n// Fit options for the canvas\nvar Fit;\n(function (Fit) {\n    Fit[\"Cover\"] = \"cover\";\n    Fit[\"Contain\"] = \"contain\";\n    Fit[\"Fill\"] = \"fill\";\n    Fit[\"FitWidth\"] = \"fitWidth\";\n    Fit[\"FitHeight\"] = \"fitHeight\";\n    Fit[\"None\"] = \"none\";\n    Fit[\"ScaleDown\"] = \"scaleDown\";\n})(Fit || (Fit = {}));\n// Alignment options for the canvas\nvar Alignment;\n(function (Alignment) {\n    Alignment[\"Center\"] = \"center\";\n    Alignment[\"TopLeft\"] = \"topLeft\";\n    Alignment[\"TopCenter\"] = \"topCenter\";\n    Alignment[\"TopRight\"] = \"topRight\";\n    Alignment[\"CenterLeft\"] = \"centerLeft\";\n    Alignment[\"CenterRight\"] = \"centerRight\";\n    Alignment[\"BottomLeft\"] = \"bottomLeft\";\n    Alignment[\"BottomCenter\"] = \"bottomCenter\";\n    Alignment[\"BottomRight\"] = \"bottomRight\";\n})(Alignment || (Alignment = {}));\n// Alignment options for Rive animations in a HTML canvas\nvar Layout = /** @class */ (function () {\n    function Layout(params) {\n        var _a, _b, _c, _d, _e, _f;\n        this.fit = (_a = params === null || params === void 0 ? void 0 : params.fit) !== null && _a !== void 0 ? _a : Fit.Contain;\n        this.alignment = (_b = params === null || params === void 0 ? void 0 : params.alignment) !== null && _b !== void 0 ? _b : Alignment.Center;\n        this.minX = (_c = params === null || params === void 0 ? void 0 : params.minX) !== null && _c !== void 0 ? _c : 0;\n        this.minY = (_d = params === null || params === void 0 ? void 0 : params.minY) !== null && _d !== void 0 ? _d : 0;\n        this.maxX = (_e = params === null || params === void 0 ? void 0 : params.maxX) !== null && _e !== void 0 ? _e : 0;\n        this.maxY = (_f = params === null || params === void 0 ? void 0 : params.maxY) !== null && _f !== void 0 ? _f : 0;\n    }\n    // Alternative constructor to build a Layout from an interface/object\n    Layout.new = function (_a) {\n        var fit = _a.fit, alignment = _a.alignment, minX = _a.minX, minY = _a.minY, maxX = _a.maxX, maxY = _a.maxY;\n        console.warn(\"This function is deprecated: please use `new Layout({})` instead\");\n        return new Layout({ fit: fit, alignment: alignment, minX: minX, minY: minY, maxX: maxX, maxY: maxY });\n    };\n    /**\n     * Makes a copy of the layout, replacing any specified parameters\n     */\n    Layout.prototype.copyWith = function (_a) {\n        var fit = _a.fit, alignment = _a.alignment, minX = _a.minX, minY = _a.minY, maxX = _a.maxX, maxY = _a.maxY;\n        return new Layout({\n            fit: fit !== null && fit !== void 0 ? fit : this.fit,\n            alignment: alignment !== null && alignment !== void 0 ? alignment : this.alignment,\n            minX: minX !== null && minX !== void 0 ? minX : this.minX,\n            minY: minY !== null && minY !== void 0 ? minY : this.minY,\n            maxX: maxX !== null && maxX !== void 0 ? maxX : this.maxX,\n            maxY: maxY !== null && maxY !== void 0 ? maxY : this.maxY,\n        });\n    };\n    // Returns fit for the Wasm runtime format\n    Layout.prototype.runtimeFit = function (rive) {\n        if (this.cachedRuntimeFit)\n            return this.cachedRuntimeFit;\n        var fit;\n        if (this.fit === Fit.Cover)\n            fit = rive.Fit.cover;\n        else if (this.fit === Fit.Contain)\n            fit = rive.Fit.contain;\n        else if (this.fit === Fit.Fill)\n            fit = rive.Fit.fill;\n        else if (this.fit === Fit.FitWidth)\n            fit = rive.Fit.fitWidth;\n        else if (this.fit === Fit.FitHeight)\n            fit = rive.Fit.fitHeight;\n        else if (this.fit === Fit.ScaleDown)\n            fit = rive.Fit.scaleDown;\n        else\n            fit = rive.Fit.none;\n        this.cachedRuntimeFit = fit;\n        return fit;\n    };\n    // Returns alignment for the Wasm runtime format\n    Layout.prototype.runtimeAlignment = function (rive) {\n        if (this.cachedRuntimeAlignment)\n            return this.cachedRuntimeAlignment;\n        var alignment;\n        if (this.alignment === Alignment.TopLeft)\n            alignment = rive.Alignment.topLeft;\n        else if (this.alignment === Alignment.TopCenter)\n            alignment = rive.Alignment.topCenter;\n        else if (this.alignment === Alignment.TopRight)\n            alignment = rive.Alignment.topRight;\n        else if (this.alignment === Alignment.CenterLeft)\n            alignment = rive.Alignment.centerLeft;\n        else if (this.alignment === Alignment.CenterRight)\n            alignment = rive.Alignment.centerRight;\n        else if (this.alignment === Alignment.BottomLeft)\n            alignment = rive.Alignment.bottomLeft;\n        else if (this.alignment === Alignment.BottomCenter)\n            alignment = rive.Alignment.bottomCenter;\n        else if (this.alignment === Alignment.BottomRight)\n            alignment = rive.Alignment.bottomRight;\n        else\n            alignment = rive.Alignment.center;\n        this.cachedRuntimeAlignment = alignment;\n        return alignment;\n    };\n    return Layout;\n}());\n\n// Runtime singleton; use getInstance to provide a callback that returns the\n// Rive runtime\nvar RuntimeLoader = /** @class */ (function () {\n    // Class is never instantiated\n    function RuntimeLoader() {\n    }\n    // Loads the runtime\n    RuntimeLoader.loadRuntime = function () {\n        _rive_advanced_mjs__WEBPACK_IMPORTED_MODULE_0__.default({\n            // Loads Wasm bundle\n            locateFile: function () { return RuntimeLoader.wasmURL; },\n        }).then(function (rive) {\n            var _a;\n            RuntimeLoader.runtime = rive;\n            // Fire all the callbacks\n            while (RuntimeLoader.callBackQueue.length > 0) {\n                (_a = RuntimeLoader.callBackQueue.shift()) === null || _a === void 0 ? void 0 : _a(RuntimeLoader.runtime);\n            }\n        });\n    };\n    // Provides a runtime instance via a callback\n    RuntimeLoader.getInstance = function (callback) {\n        // If it's not loading, start loading runtime\n        if (!RuntimeLoader.isLoading) {\n            RuntimeLoader.isLoading = true;\n            RuntimeLoader.loadRuntime();\n        }\n        if (!RuntimeLoader.runtime) {\n            RuntimeLoader.callBackQueue.push(callback);\n        }\n        else {\n            callback(RuntimeLoader.runtime);\n        }\n    };\n    // Provides a runtime instance via a promise\n    RuntimeLoader.awaitInstance = function () {\n        return new Promise(function (resolve) {\n            return RuntimeLoader.getInstance(function (rive) { return resolve(rive); });\n        });\n    };\n    // Manually sets the wasm url\n    RuntimeLoader.setWasmUrl = function (url) {\n        RuntimeLoader.wasmURL = url;\n    };\n    // Flag to indicate that loading has started/completed\n    RuntimeLoader.isLoading = false;\n    // List of callbacks for the runtime that come in while loading\n    RuntimeLoader.callBackQueue = [];\n    // Path to the Wasm file; default path works for testing only;\n    // if embedded wasm is used then this is never used.\n    RuntimeLoader.wasmURL = \"https://unpkg.com/\" + package_json__WEBPACK_IMPORTED_MODULE_1__.name + \"@\" + package_json__WEBPACK_IMPORTED_MODULE_1__.version + \"/rive.wasm\";\n    return RuntimeLoader;\n}());\n\n// #endregion\n// #region animations\n// Wraps animations and instances from the runtime and keeps track of playback\n// state\nvar Animation = /** @class */ (function () {\n    /**\n     * Constructs a new animation\n     * @constructor\n     * @param {any} animation: runtime animation object\n     * @param {any} instance: runtime animation instance object\n     */\n    function Animation(animation, artboard, runtime, playing) {\n        this.animation = animation;\n        this.artboard = artboard;\n        this.playing = playing;\n        this.loopCount = 0;\n        // Time to which the animation should move to on the next render\n        this.scrubTo = null;\n        this.instance = new runtime.LinearAnimationInstance(animation, artboard);\n    }\n    Object.defineProperty(Animation.prototype, \"name\", {\n        // Returns the animation's name\n        get: function () {\n            return this.animation.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"time\", {\n        // Returns the animation's current time\n        get: function () {\n            return this.instance.time;\n        },\n        // Sets the animation's current time\n        set: function (value) {\n            this.instance.time = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animation.prototype, \"loopValue\", {\n        // Returns the animation's loop type\n        get: function () {\n            return this.animation.loopValue;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Advances the animation by the give time. If the animation needs scrubbing,\n     * time is ignored and the stored scrub value is used.\n     * @param time the time to advance the animation by if no scrubbing required\n     */\n    Animation.prototype.advance = function (time) {\n        if (this.scrubTo === null) {\n            this.instance.advance(time);\n        }\n        else {\n            this.instance.time = 0;\n            this.instance.advance(this.scrubTo);\n            this.scrubTo = null;\n        }\n    };\n    /**\n     * Apply interpolated keyframe values to the artboard. This should be called after calling\n     * .advance() on an animation instance so that new values are applied to properties.\n     *\n     * Note: This does not advance the artboard, which updates all objects on the artboard\n     * @param mix - Mix value for the animation from 0 to 1\n     */\n    Animation.prototype.apply = function (mix) {\n        this.instance.apply(mix);\n    };\n    Object.defineProperty(Animation.prototype, \"needsScrub\", {\n        get: function () {\n            return this.scrubTo !== null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Deletes the backing Wasm animation instance; once this is called, this\n     * animation is no more.\n     */\n    Animation.prototype.cleanup = function () {\n        this.instance.delete();\n    };\n    return Animation;\n}());\n// #endregion\n// #region state machines\nvar StateMachineInputType;\n(function (StateMachineInputType) {\n    StateMachineInputType[StateMachineInputType[\"Number\"] = 56] = \"Number\";\n    StateMachineInputType[StateMachineInputType[\"Trigger\"] = 58] = \"Trigger\";\n    StateMachineInputType[StateMachineInputType[\"Boolean\"] = 59] = \"Boolean\";\n})(StateMachineInputType || (StateMachineInputType = {}));\n/**\n * An input for a state machine\n */\nvar StateMachineInput = /** @class */ (function () {\n    function StateMachineInput(type, runtimeInput) {\n        this.type = type;\n        this.runtimeInput = runtimeInput;\n    }\n    Object.defineProperty(StateMachineInput.prototype, \"name\", {\n        /**\n         * Returns the name of the input\n         */\n        get: function () {\n            return this.runtimeInput.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateMachineInput.prototype, \"value\", {\n        /**\n         * Returns the current value of the input\n         */\n        get: function () {\n            return this.runtimeInput.value;\n        },\n        /**\n         * Sets the value of the input\n         */\n        set: function (value) {\n            this.runtimeInput.value = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Fires a trigger; does nothing on Number or Boolean input types\n     */\n    StateMachineInput.prototype.fire = function () {\n        if (this.type === StateMachineInputType.Trigger) {\n            this.runtimeInput.fire();\n        }\n    };\n    return StateMachineInput;\n}());\n\nvar StateMachine = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param stateMachine runtime state machine object\n     * @param instance runtime state machine instance object\n     */\n    function StateMachine(stateMachine, runtime, playing, artboard) {\n        this.stateMachine = stateMachine;\n        this.playing = playing;\n        this.artboard = artboard;\n        /**\n         * Caches the inputs from the runtime\n         */\n        this.inputs = [];\n        this.instance = new runtime.StateMachineInstance(stateMachine, artboard);\n        this.initInputs(runtime);\n    }\n    Object.defineProperty(StateMachine.prototype, \"name\", {\n        get: function () {\n            return this.stateMachine.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StateMachine.prototype, \"statesChanged\", {\n        /**\n         * Returns a list of state names that have changed on this frame\n         */\n        get: function () {\n            var names = [];\n            for (var i = 0; i < this.instance.stateChangedCount(); i++) {\n                names.push(this.instance.stateChangedNameByIndex(i));\n            }\n            return names;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Advances the state machine instance by a given time.\n     * @param time - the time to advance the animation by in seconds\n     */\n    StateMachine.prototype.advance = function (time) {\n        this.instance.advance(time);\n    };\n    /**\n     * Fetches references to the state machine's inputs and caches them\n     * @param runtime an instance of the runtime; needed for the SMIInput types\n     */\n    StateMachine.prototype.initInputs = function (runtime) {\n        // Fetch the inputs from the runtime if we don't have them\n        for (var i = 0; i < this.instance.inputCount(); i++) {\n            var input = this.instance.input(i);\n            this.inputs.push(this.mapRuntimeInput(input, runtime));\n        }\n    };\n    /**\n     * Maps a runtime input to it's appropriate type\n     * @param input\n     */\n    StateMachine.prototype.mapRuntimeInput = function (input, runtime) {\n        if (input.type === runtime.SMIInput.bool) {\n            return new StateMachineInput(StateMachineInputType.Boolean, input.asBool());\n        }\n        else if (input.type === runtime.SMIInput.number) {\n            return new StateMachineInput(StateMachineInputType.Number, input.asNumber());\n        }\n        else if (input.type === runtime.SMIInput.trigger) {\n            return new StateMachineInput(StateMachineInputType.Trigger, input.asTrigger());\n        }\n    };\n    /**\n     * Deletes the backing Wasm state machine instance; once this is called, this\n     * state machine is no more.\n     */\n    StateMachine.prototype.cleanup = function () {\n        this.instance.delete();\n    };\n    return StateMachine;\n}());\n// #endregion\n// #region animator\n/**\n * Manages animation\n */\nvar Animator = /** @class */ (function () {\n    /**\n     * Constructs a new animator\n     * @constructor\n     * @param runtime Rive runtime; needed to instance animations & state machines\n     * @param artboard the artboard that holds all animations and state machines\n     * @param animations optional list of animations\n     * @param stateMachines optional list of state machines\n     */\n    function Animator(runtime, artboard, eventManager, animations, stateMachines) {\n        if (animations === void 0) { animations = []; }\n        if (stateMachines === void 0) { stateMachines = []; }\n        this.runtime = runtime;\n        this.artboard = artboard;\n        this.eventManager = eventManager;\n        this.animations = animations;\n        this.stateMachines = stateMachines;\n    }\n    /**\n     * Adds animations and state machines by their names. If names are shared\n     * between animations & state machines, then the first one found will be\n     * created. Best not to use the same names for these in your Rive file.\n     * @param animatable the name(s) of animations and state machines to add\n     * @returns a list of names of the playing animations and state machines\n     */\n    Animator.prototype.add = function (animatables, playing, fireEvent) {\n        if (fireEvent === void 0) { fireEvent = true; }\n        animatables = mapToStringArray(animatables);\n        // If animatables is empty, play or pause everything\n        if (animatables.length === 0) {\n            this.animations.forEach(function (a) { return (a.playing = playing); });\n            this.stateMachines.forEach(function (m) { return (m.playing = playing); });\n        }\n        else {\n            // Play/pause already instanced items, or create new instances\n            var instancedAnimationNames = this.animations.map(function (a) { return a.name; });\n            var instancedMachineNames = this.stateMachines.map(function (m) { return m.name; });\n            for (var i = 0; i < animatables.length; i++) {\n                var aIndex = instancedAnimationNames.indexOf(animatables[i]);\n                var mIndex = instancedMachineNames.indexOf(animatables[i]);\n                if (aIndex >= 0 || mIndex >= 0) {\n                    if (aIndex >= 0) {\n                        // Animation is instanced, play/pause it\n                        this.animations[aIndex].playing = playing;\n                    }\n                    else {\n                        // State machine is instanced, play/pause it\n                        this.stateMachines[mIndex].playing = playing;\n                    }\n                }\n                else {\n                    // Try to create a new animation instance\n                    var anim = this.artboard.animationByName(animatables[i]);\n                    if (anim) {\n                        var newAnimation = new Animation(anim, this.artboard, this.runtime, playing);\n                        // Display the first frame of the specified animation\n                        newAnimation.advance(0);\n                        newAnimation.apply(1.0);\n                        this.animations.push(newAnimation);\n                    }\n                    else {\n                        // Try to create a new state machine instance\n                        var sm = this.artboard.stateMachineByName(animatables[i]);\n                        if (sm) {\n                            var newStateMachine = new StateMachine(sm, this.runtime, playing, this.artboard);\n                            this.stateMachines.push(newStateMachine);\n                        }\n                    }\n                }\n            }\n        }\n        // Fire play/paused events for animations\n        if (fireEvent) {\n            if (playing) {\n                this.eventManager.fire({\n                    type: EventType.Play,\n                    data: this.playing,\n                });\n            }\n            else {\n                this.eventManager.fire({\n                    type: EventType.Pause,\n                    data: this.paused,\n                });\n            }\n        }\n        return playing ? this.playing : this.paused;\n    };\n    /**\n     * Play the named animations/state machines\n     * @param animatables the names of the animations/machines to play; plays all if empty\n     * @returns a list of the playing items\n     */\n    Animator.prototype.play = function (animatables) {\n        return this.add(animatables, true);\n    };\n    /**\n     * Pauses named animations and state machines, or everything if nothing is\n     * specified\n     * @param animatables names of the animations and state machines to pause\n     * @returns a list of names of the animations and state machines paused\n     */\n    Animator.prototype.pause = function (animatables) {\n        return this.add(animatables, false);\n    };\n    /**\n     * Set time of named animations\n     * @param animations names of the animations to scrub\n     * @param value time scrub value, a floating point number to which the playhead is jumped\n     * @returns a list of names of the animations that were scrubbed\n     */\n    Animator.prototype.scrub = function (animatables, value) {\n        var forScrubbing = this.animations.filter(function (a) {\n            return animatables.includes(a.name);\n        });\n        forScrubbing.forEach(function (a) { return (a.scrubTo = value); });\n        return forScrubbing.map(function (a) { return a.name; });\n    };\n    Object.defineProperty(Animator.prototype, \"playing\", {\n        /**\n         * Returns a list of names of all animations and state machines currently\n         * playing\n         */\n        get: function () {\n            return this.animations\n                .filter(function (a) { return a.playing; })\n                .map(function (a) { return a.name; })\n                .concat(this.stateMachines.filter(function (m) { return m.playing; }).map(function (m) { return m.name; }));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animator.prototype, \"paused\", {\n        /**\n         * Returns a list of names of all animations and state machines currently\n         * paused\n         */\n        get: function () {\n            return this.animations\n                .filter(function (a) { return !a.playing; })\n                .map(function (a) { return a.name; })\n                .concat(this.stateMachines.filter(function (m) { return !m.playing; }).map(function (m) { return m.name; }));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Stops and removes all named animations and state machines\n     * @param animatables animations and state machines to remove\n     * @returns a list of names of removed items\n     */\n    Animator.prototype.stop = function (animatables) {\n        var _this = this;\n        animatables = mapToStringArray(animatables);\n        // If nothing's specified, wipe them out, all of them\n        var removedNames = [];\n        // Stop everything\n        if (animatables.length === 0) {\n            removedNames = this.animations\n                .map(function (a) { return a.name; })\n                .concat(this.stateMachines.map(function (m) { return m.name; }));\n            // Clean up before emptying the arrays\n            this.animations.forEach(function (a) { return a.cleanup(); });\n            this.stateMachines.forEach(function (m) { return m.cleanup(); });\n            // Empty out the arrays\n            this.animations.splice(0, this.animations.length);\n            this.stateMachines.splice(0, this.stateMachines.length);\n        }\n        else {\n            // Remove only the named animations/state machines\n            var animationsToRemove = this.animations.filter(function (a) {\n                return animatables.includes(a.name);\n            });\n            animationsToRemove.forEach(function (a) {\n                a.cleanup();\n                _this.animations.splice(_this.animations.indexOf(a), 1);\n            });\n            var machinesToRemove = this.stateMachines.filter(function (m) {\n                return animatables.includes(m.name);\n            });\n            machinesToRemove.forEach(function (m) {\n                m.cleanup();\n                _this.stateMachines.splice(_this.stateMachines.indexOf(m), 1);\n            });\n            removedNames = animationsToRemove\n                .map(function (a) { return a.name; })\n                .concat(machinesToRemove.map(function (m) { return m.name; }));\n        }\n        this.eventManager.fire({\n            type: EventType.Stop,\n            data: removedNames,\n        });\n        // Return the list of animations removed\n        return removedNames;\n    };\n    Object.defineProperty(Animator.prototype, \"isPlaying\", {\n        /**\n         * Returns true if at least one animation is active\n         */\n        get: function () {\n            return (this.animations.reduce(function (acc, curr) { return acc || curr.playing; }, false) ||\n                this.stateMachines.reduce(function (acc, curr) { return acc || curr.playing; }, false));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animator.prototype, \"isPaused\", {\n        /**\n         * Returns true if all animations are paused and there's at least one animation\n         */\n        get: function () {\n            return (!this.isPlaying &&\n                (this.animations.length > 0 || this.stateMachines.length > 0));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Animator.prototype, \"isStopped\", {\n        /**\n         * Returns true if there are no playing or paused animations/state machines\n         */\n        get: function () {\n            return this.animations.length === 0 && this.stateMachines.length === 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * If there are no animations or state machines, add the first one found\n     * @returns the name of the animation or state machine instanced\n     */\n    Animator.prototype.atLeastOne = function (playing, fireEvent) {\n        if (fireEvent === void 0) { fireEvent = true; }\n        var instancedName;\n        if (this.animations.length === 0 && this.stateMachines.length === 0) {\n            if (this.artboard.animationCount() > 0) {\n                // Add the first animation\n                this.add([(instancedName = this.artboard.animationByIndex(0).name)], playing, fireEvent);\n            }\n            else if (this.artboard.stateMachineCount() > 0) {\n                // Add the first state machine\n                this.add([(instancedName = this.artboard.stateMachineByIndex(0).name)], playing, fireEvent);\n            }\n        }\n        return instancedName;\n    };\n    /**\n     * Checks if any animations have looped and if so, fire the appropriate event\n     */\n    Animator.prototype.handleLooping = function () {\n        for (var _i = 0, _a = this.animations.filter(function (a) { return a.playing; }); _i < _a.length; _i++) {\n            var animation = _a[_i];\n            // Emit if the animation looped\n            if (animation.loopValue === 0 && animation.loopCount) {\n                animation.loopCount = 0;\n                // This is a one-shot; if it has ended, delete the instance\n                this.stop(animation.name);\n            }\n            else if (animation.loopValue === 1 && animation.loopCount) {\n                this.eventManager.fire({\n                    type: EventType.Loop,\n                    data: { animation: animation.name, type: LoopType.Loop },\n                });\n                animation.loopCount = 0;\n            }\n            // Wasm indicates a loop at each time the animation\n            // changes direction, so a full loop/lap occurs every\n            // two loop counts\n            else if (animation.loopValue === 2 && animation.loopCount > 1) {\n                this.eventManager.fire({\n                    type: EventType.Loop,\n                    data: { animation: animation.name, type: LoopType.PingPong },\n                });\n                animation.loopCount = 0;\n            }\n        }\n    };\n    /**\n     * Checks if states have changed in state machines and fires a statechange\n     * event\n     */\n    Animator.prototype.handleStateChanges = function () {\n        var statesChanged = [];\n        for (var _i = 0, _a = this.stateMachines.filter(function (sm) { return sm.playing; }); _i < _a.length; _i++) {\n            var stateMachine = _a[_i];\n            statesChanged.push.apply(statesChanged, stateMachine.statesChanged);\n        }\n        if (statesChanged.length > 0) {\n            this.eventManager.fire({\n                type: EventType.StateChange,\n                data: statesChanged,\n            });\n        }\n    };\n    return Animator;\n}());\n// #endregion\n// #region events\n/**\n * Supported event types triggered in Rive\n */\nvar EventType;\n(function (EventType) {\n    EventType[\"Load\"] = \"load\";\n    EventType[\"LoadError\"] = \"loaderror\";\n    EventType[\"Play\"] = \"play\";\n    EventType[\"Pause\"] = \"pause\";\n    EventType[\"Stop\"] = \"stop\";\n    EventType[\"Loop\"] = \"loop\";\n    EventType[\"Draw\"] = \"draw\";\n    EventType[\"StateChange\"] = \"statechange\";\n})(EventType || (EventType = {}));\n/**\n * Looping types: one-shot, loop, and ping-pong\n */\nvar LoopType;\n(function (LoopType) {\n    LoopType[\"OneShot\"] = \"oneshot\";\n    LoopType[\"Loop\"] = \"loop\";\n    LoopType[\"PingPong\"] = \"pingpong\";\n})(LoopType || (LoopType = {}));\n// Manages Rive events and listeners\nvar EventManager = /** @class */ (function () {\n    function EventManager(listeners) {\n        if (listeners === void 0) { listeners = []; }\n        this.listeners = listeners;\n    }\n    // Gets listeners of specified type\n    EventManager.prototype.getListeners = function (type) {\n        return this.listeners.filter(function (e) { return e.type === type; });\n    };\n    // Adds a listener\n    EventManager.prototype.add = function (listener) {\n        if (!this.listeners.includes(listener)) {\n            this.listeners.push(listener);\n        }\n    };\n    /**\n     * Removes a listener\n     * @param listener the listener with the callback to be removed\n     */\n    EventManager.prototype.remove = function (listener) {\n        // We can't simply look for the listener as it'll be a different instance to\n        // one originally subscribed. Find all the listeners of the right type and\n        // then check their callbacks which should match.\n        for (var i = 0; i < this.listeners.length; i++) {\n            var currentListener = this.listeners[i];\n            if (currentListener.type === listener.type) {\n                if (currentListener.callback === listener.callback) {\n                    this.listeners.splice(i, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * Clears all listeners of specified type, or every listener if no type is\n     * specified\n     * @param type the type of listeners to clear, or all listeners if not\n     * specified\n     */\n    EventManager.prototype.removeAll = function (type) {\n        var _this = this;\n        if (!type) {\n            this.listeners.splice(0, this.listeners.length);\n        }\n        else {\n            this.listeners\n                .filter(function (l) { return l.type === type; })\n                .forEach(function (l) { return _this.remove(l); });\n        }\n    };\n    // Fires an event\n    EventManager.prototype.fire = function (event) {\n        var eventListeners = this.getListeners(event.type);\n        eventListeners.forEach(function (listener) { return listener.callback(event); });\n    };\n    return EventManager;\n}());\n// Manages a queue of tasks\nvar TaskQueueManager = /** @class */ (function () {\n    function TaskQueueManager(eventManager) {\n        this.eventManager = eventManager;\n        this.queue = [];\n    }\n    // Adds a task top the queue\n    TaskQueueManager.prototype.add = function (task) {\n        this.queue.push(task);\n    };\n    // Processes all tasks in the queue\n    TaskQueueManager.prototype.process = function () {\n        while (this.queue.length > 0) {\n            var task = this.queue.shift();\n            if (task === null || task === void 0 ? void 0 : task.action) {\n                task.action();\n            }\n            if (task === null || task === void 0 ? void 0 : task.event) {\n                this.eventManager.fire(task.event);\n            }\n        }\n    };\n    return TaskQueueManager;\n}());\nvar Rive = /** @class */ (function () {\n    function Rive(params) {\n        var _a;\n        // Tracks if a Rive file is loaded\n        this.loaded = false;\n        /**\n         * Tracks if a Rive file is loaded; we need this in addition to loaded as some\n         * commands (e.g. contents) can be called as soon as the file is loaded.\n         * However, playback commands need to be queued and run in order once initial\n         * animations and autoplay has been sorted out. This applies to play, pause,\n         * and start.\n         */\n        this.readyForPlaying = false;\n        // Runtime artboard\n        this.artboard = null;\n        // place to clear up event listeners\n        this.eventCleanup = null;\n        this.shouldDisableRiveListeners = false;\n        // Durations to generate a frame for the last second. Used for performance profiling.\n        this.durations = [];\n        this.frameTimes = [];\n        this.frameCount = 0;\n        /**\n         * Used be draw to track when a second of active rendering time has passed.\n         * Used for debugging purposes\n         */\n        this.renderSecondTimer = 0;\n        this.canvas = params.canvas;\n        this.src = params.src;\n        this.buffer = params.buffer;\n        this.layout = (_a = params.layout) !== null && _a !== void 0 ? _a : new Layout();\n        this.shouldDisableRiveListeners = !!params.shouldDisableRiveListeners;\n        // New event management system\n        this.eventManager = new EventManager();\n        if (params.onLoad)\n            this.on(EventType.Load, params.onLoad);\n        if (params.onLoadError)\n            this.on(EventType.LoadError, params.onLoadError);\n        if (params.onPlay)\n            this.on(EventType.Play, params.onPlay);\n        if (params.onPause)\n            this.on(EventType.Pause, params.onPause);\n        if (params.onStop)\n            this.on(EventType.Stop, params.onStop);\n        if (params.onLoop)\n            this.on(EventType.Loop, params.onLoop);\n        if (params.onStateChange)\n            this.on(EventType.StateChange, params.onStateChange);\n        /**\n         * @deprecated Use camelCase'd versions instead.\n         */\n        if (params.onload && !params.onLoad)\n            this.on(EventType.Load, params.onload);\n        if (params.onloaderror && !params.onLoadError)\n            this.on(EventType.LoadError, params.onloaderror);\n        if (params.onplay && !params.onPlay)\n            this.on(EventType.Play, params.onplay);\n        if (params.onpause && !params.onPause)\n            this.on(EventType.Pause, params.onpause);\n        if (params.onstop && !params.onStop)\n            this.on(EventType.Stop, params.onstop);\n        if (params.onloop && !params.onLoop)\n            this.on(EventType.Loop, params.onloop);\n        if (params.onstatechange && !params.onStateChange)\n            this.on(EventType.StateChange, params.onstatechange);\n        // Hook up the task queue\n        this.taskQueue = new TaskQueueManager(this.eventManager);\n        this.init({\n            src: this.src,\n            buffer: this.buffer,\n            autoplay: params.autoplay,\n            animations: params.animations,\n            stateMachines: params.stateMachines,\n            artboard: params.artboard,\n            useOffscreenRenderer: params.useOffscreenRenderer,\n        });\n    }\n    // Alternative constructor to build a Rive instance from an interface/object\n    Rive.new = function (params) {\n        console.warn(\"This function is deprecated: please use `new Rive({})` instead\");\n        return new Rive(params);\n    };\n    // Initializes the Rive object either from constructor or load()\n    Rive.prototype.init = function (_a) {\n        var _this = this;\n        var src = _a.src, buffer = _a.buffer, animations = _a.animations, stateMachines = _a.stateMachines, artboard = _a.artboard, _b = _a.autoplay, autoplay = _b === void 0 ? false : _b, _c = _a.useOffscreenRenderer, useOffscreenRenderer = _c === void 0 ? false : _c;\n        this.src = src;\n        this.buffer = buffer;\n        // If no source file url specified, it's a bust\n        if (!this.src && !this.buffer) {\n            throw new Error(Rive.missingErrorMessage);\n        }\n        // List of animations that should be initialized.\n        var startingAnimationNames = mapToStringArray(animations);\n        // List of state machines that should be initialized\n        var startingStateMachineNames = mapToStringArray(stateMachines);\n        // Ensure loaded is marked as false if loading new file\n        this.loaded = false;\n        this.readyForPlaying = false;\n        // Ensure the runtime is loaded\n        RuntimeLoader.awaitInstance()\n            .then(function (runtime) {\n            _this.runtime = runtime;\n            // Get the canvas where you want to render the animation and create a renderer\n            _this.renderer = _this.runtime.makeRenderer(_this.canvas, useOffscreenRenderer);\n            // Initial size adjustment based on devicePixelRatio if no width/height are\n            // specified explicitly\n            if (!(_this.canvas.width || _this.canvas.height)) {\n                _this.resizeDrawingSurfaceToCanvas();\n            }\n            // Load Rive data from a source uri or a data buffer\n            _this.initData(artboard, startingAnimationNames, startingStateMachineNames, autoplay)\n                .then(function () { return _this.setupRiveListeners(); })\n                .catch(function (e) {\n                console.error(e);\n            });\n        })\n            .catch(function (e) {\n            console.error(e);\n        });\n    };\n    Rive.prototype.setupRiveListeners = function () {\n        var _this = this;\n        if (!this.shouldDisableRiveListeners) {\n            var activeStateMachines = (this.animator.stateMachines || [])\n                .filter(function (sm) { return sm.playing && _this.runtime.hasListeners(sm.instance); })\n                .map(function (sm) { return sm.instance; });\n            this.eventCleanup = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.registerTouchInteractions)({\n                canvas: this.canvas,\n                artboard: this.artboard,\n                stateMachines: activeStateMachines,\n                renderer: this.renderer,\n                rive: this.runtime,\n                fit: this._layout.runtimeFit(this.runtime),\n                alignment: this._layout.runtimeAlignment(this.runtime),\n            });\n        }\n    };\n    // Initializes runtime with Rive data and preps for playing\n    Rive.prototype.initData = function (artboardName, animationNames, stateMachineNames, autoplay) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, _c, msg;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        if (!this.src) return [3 /*break*/, 2];\n                        _b = this;\n                        return [4 /*yield*/, loadRiveFile(this.src)];\n                    case 1:\n                        _b.buffer = _d.sent();\n                        _d.label = 2;\n                    case 2:\n                        // Load the Rive file\n                        _c = this;\n                        return [4 /*yield*/, this.runtime.load(new Uint8Array(this.buffer))];\n                    case 3:\n                        // Load the Rive file\n                        _c.file = _d.sent();\n                        if (this.file) {\n                            // Initialize and draw frame\n                            this.initArtboard(artboardName, animationNames, stateMachineNames, autoplay);\n                            // Everything's set up, emit a load event\n                            this.loaded = true;\n                            this.eventManager.fire({\n                                type: EventType.Load,\n                                data: (_a = this.src) !== null && _a !== void 0 ? _a : \"buffer\",\n                            });\n                            // Flag ready for playback commands and clear the task queue; this order\n                            // is important or it may infinitely recurse\n                            this.readyForPlaying = true;\n                            this.taskQueue.process();\n                            this.drawFrame();\n                            return [2 /*return*/, Promise.resolve()];\n                        }\n                        else {\n                            msg = \"Problem loading file; may be corrupt!\";\n                            console.warn(msg);\n                            this.eventManager.fire({ type: EventType.LoadError, data: msg });\n                            return [2 /*return*/, Promise.reject(msg)];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // Initialize for playback\n    Rive.prototype.initArtboard = function (artboardName, animationNames, stateMachineNames, autoplay) {\n        // Fetch the artboard\n        var rootArtboard = artboardName\n            ? this.file.artboardByName(artboardName)\n            : this.file.defaultArtboard();\n        // Check we have a working artboard\n        if (!rootArtboard) {\n            var msg = \"Invalid artboard name or no default artboard\";\n            console.warn(msg);\n            this.eventManager.fire({ type: EventType.LoadError, data: msg });\n            return;\n        }\n        this.artboard = rootArtboard;\n        // Check that the artboard has at least 1 animation\n        if (this.artboard.animationCount() < 1) {\n            var msg = \"Artboard has no animations\";\n            this.eventManager.fire({ type: EventType.LoadError, data: msg });\n            throw msg;\n        }\n        // Initialize the animator\n        this.animator = new Animator(this.runtime, this.artboard, this.eventManager);\n        // Initialize the animations; as loaded hasn't happened yet, we need to\n        // suppress firing the play/pause events until the load event has fired. To\n        // do this we tell the animator to suppress firing events, and add event\n        // firing to the task queue.\n        var instanceNames;\n        if (animationNames.length > 0 || stateMachineNames.length > 0) {\n            instanceNames = animationNames.concat(stateMachineNames);\n            this.animator.add(instanceNames, autoplay, false);\n        }\n        else {\n            instanceNames = [this.animator.atLeastOne(autoplay, false)];\n        }\n        // Queue up firing the playback events\n        this.taskQueue.add({\n            event: {\n                type: autoplay ? EventType.Play : EventType.Pause,\n                data: instanceNames,\n            },\n        });\n    };\n    // Draws the current artboard frame\n    Rive.prototype.drawFrame = function () {\n        this.startRendering();\n    };\n    /**\n     * Draw rendering loop; renders animation frames at the correct time interval.\n     * @param time the time at which to render a frame\n     */\n    Rive.prototype.draw = function (time, onSecond) {\n        var before = performance.now();\n        // Clear the frameRequestId, as we're now rendering a fresh frame\n        this.frameRequestId = null;\n        // On the first pass, make sure lastTime has a valid value\n        if (!this.lastRenderTime) {\n            this.lastRenderTime = time;\n        }\n        // Handle the onSecond callback\n        this.renderSecondTimer += time - this.lastRenderTime;\n        if (this.renderSecondTimer > 5000) {\n            this.renderSecondTimer = 0;\n            onSecond === null || onSecond === void 0 ? void 0 : onSecond();\n        }\n        // Calculate the elapsed time between frames in seconds\n        var elapsedTime = (time - this.lastRenderTime) / 1000;\n        this.lastRenderTime = time;\n        // - Advance non-paused animations by the elapsed number of seconds\n        // - Advance any animations that require scrubbing\n        // - Advance to the first frame even when autoplay is false\n        var activeAnimations = this.animator.animations\n            .filter(function (a) { return a.playing || a.needsScrub; })\n            // The scrubbed animations must be applied first to prevent weird artifacts\n            // if the playing animations conflict with the scrubbed animating attribuates.\n            .sort(function (first) { return (first.needsScrub ? -1 : 1); });\n        for (var _i = 0, activeAnimations_1 = activeAnimations; _i < activeAnimations_1.length; _i++) {\n            var animation = activeAnimations_1[_i];\n            animation.advance(elapsedTime);\n            if (animation.instance.didLoop) {\n                animation.loopCount += 1;\n            }\n            animation.apply(1.0);\n        }\n        // - Advance non-paused state machines by the elapsed number of seconds\n        // - Advance to the first frame even when autoplay is false\n        var activeStateMachines = this.animator.stateMachines.filter(function (a) { return a.playing; });\n        for (var _a = 0, activeStateMachines_1 = activeStateMachines; _a < activeStateMachines_1.length; _a++) {\n            var stateMachine = activeStateMachines_1[_a];\n            stateMachine.advance(elapsedTime);\n            // stateMachine.instance.apply(this.artboard);\n        }\n        // Once the animations have been applied to the artboard, advance it\n        // by the elapsed time.\n        this.artboard.advance(elapsedTime);\n        var renderer = this.renderer;\n        // Canvas must be wiped to prevent artifacts\n        renderer.clear();\n        renderer.save();\n        // Update the renderer alignment if necessary\n        this.alignRenderer();\n        this.artboard.draw(renderer);\n        renderer.restore();\n        renderer.flush();\n        // Check for any animations that looped\n        this.animator.handleLooping();\n        // Check for any state machines that had a state change\n        this.animator.handleStateChanges();\n        // Add duration to create frame to durations array\n        this.frameCount++;\n        var after = performance.now();\n        this.frameTimes.push(after);\n        this.durations.push(after - before);\n        while (this.frameTimes[0] <= after - 1000) {\n            this.frameTimes.shift();\n            this.durations.shift();\n        }\n        // Calling requestAnimationFrame will rerun draw() at the correct rate:\n        // https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Basic_animations\n        if (this.animator.isPlaying) {\n            // Request a new rendering frame\n            this.startRendering();\n        }\n        else if (this.animator.isPaused) {\n            // Reset the end time so on playback it starts at the correct frame\n            this.lastRenderTime = 0;\n        }\n        else if (this.animator.isStopped) {\n            // Reset animation instances, artboard and time\n            // TODO: implement this properly when we have instancing\n            // this.initArtboard();\n            // this.drawFrame();\n            this.lastRenderTime = 0;\n        }\n    };\n    /**\n     * Align the renderer\n     */\n    Rive.prototype.alignRenderer = function () {\n        var _a = this, renderer = _a.renderer, runtime = _a.runtime, _layout = _a._layout, artboard = _a.artboard;\n        // Align things up safe in the knowledge we can restore if changed\n        renderer.align(_layout.runtimeFit(runtime), _layout.runtimeAlignment(runtime), {\n            minX: _layout.minX,\n            minY: _layout.minY,\n            maxX: _layout.maxX,\n            maxY: _layout.maxY,\n        }, artboard.bounds);\n    };\n    Object.defineProperty(Rive.prototype, \"fps\", {\n        get: function () {\n            return this.durations.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"frameTime\", {\n        get: function () {\n            if (this.durations.length === 0) {\n                return 0;\n            }\n            return (this.durations.reduce(function (a, b) { return a + b; }, 0) / this.durations.length).toFixed(4);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Cleans up all Wasm-generated objects that need to be manually destroyed:\n     * artboard instances, animation instances, state machine instances,\n     * renderer instance, file and runtime.\n     *\n     * Once this is called, you will need to initialise a new instance of the\n     * Rive class\n     */\n    Rive.prototype.cleanup = function () {\n        var _a, _b;\n        // Stop the renderer if it hasn't already been stopped.\n        this.stopRendering();\n        // Clean up any artboard, animation or state machine instances.\n        this.cleanupInstances();\n        // Delete the renderer\n        (_a = this.renderer) === null || _a === void 0 ? void 0 : _a.delete();\n        this.renderer = null;\n        // Delete the rive file\n        (_b = this.file) === null || _b === void 0 ? void 0 : _b.delete();\n        this.file = null;\n    };\n    /**\n     * Cleans up any Wasm-generated objects that need to be manually destroyed:\n     * artboard instances, animation instances, state machine instances.\n     *\n     * Once this is called, things will need to be reinitialized or bad things\n     * might happen.\n     */\n    Rive.prototype.cleanupInstances = function () {\n        if (this.eventCleanup !== null) {\n            this.eventCleanup();\n        }\n        // Delete all animation and state machine instances\n        this.stop();\n        if (this.artboard) {\n            this.artboard.delete();\n            this.artboard = null;\n        }\n    };\n    // Plays specified animations; if none specified, it unpauses everything.\n    Rive.prototype.play = function (animationNames, autoplay) {\n        var _this = this;\n        animationNames = mapToStringArray(animationNames);\n        // If the file's not loaded, queue up the play\n        if (!this.readyForPlaying) {\n            this.taskQueue.add({\n                action: function () { return _this.play(animationNames, autoplay); },\n            });\n            return;\n        }\n        this.animator.play(animationNames);\n        if (this.eventCleanup) {\n            this.eventCleanup();\n        }\n        this.setupRiveListeners();\n        this.startRendering();\n    };\n    // Pauses specified animations; if none specified, pauses all.\n    Rive.prototype.pause = function (animationNames) {\n        var _this = this;\n        animationNames = mapToStringArray(animationNames);\n        // If the file's not loaded, early out, nothing to pause\n        if (!this.readyForPlaying) {\n            this.taskQueue.add({\n                action: function () { return _this.pause(animationNames); },\n            });\n            return;\n        }\n        this.animator.pause(animationNames);\n    };\n    Rive.prototype.scrub = function (animationNames, value) {\n        var _this = this;\n        animationNames = mapToStringArray(animationNames);\n        // If the file's not loaded, early out, nothing to pause\n        if (!this.readyForPlaying) {\n            this.taskQueue.add({\n                action: function () { return _this.scrub(animationNames, value); },\n            });\n            return;\n        }\n        // Scrub the animation time; we draw a single frame here so that if\n        // nothing's currently playing, the scrubbed animation is still rendered/\n        this.animator.scrub(animationNames, value || 0);\n        this.drawFrame();\n    };\n    // Stops specified animations; if none specifies, stops them all.\n    Rive.prototype.stop = function (animationNames) {\n        var _this = this;\n        animationNames = mapToStringArray(animationNames);\n        // If the file's not loaded, early out, nothing to pause\n        if (!this.readyForPlaying) {\n            this.taskQueue.add({\n                action: function () { return _this.stop(animationNames); },\n            });\n            return;\n        }\n        this.animator.stop(animationNames);\n        if (this.eventCleanup) {\n            this.eventCleanup();\n        }\n    };\n    /**\n     * Resets the animation\n     * @param artboard the name of the artboard, or default if none given\n     * @param animations the names of animations for playback\n     * @param stateMachines the names of state machines for playback\n     * @param autoplay whether to autoplay when reset, defaults to false\n     *\n     */\n    Rive.prototype.reset = function (params) {\n        var _a;\n        // Get the current artboard, animations, state machines, and playback states\n        var artBoardName = params === null || params === void 0 ? void 0 : params.artboard;\n        var animationNames = mapToStringArray(params === null || params === void 0 ? void 0 : params.animations);\n        var stateMachineNames = mapToStringArray(params === null || params === void 0 ? void 0 : params.stateMachines);\n        var autoplay = (_a = params === null || params === void 0 ? void 0 : params.autoplay) !== null && _a !== void 0 ? _a : false;\n        // Stop everything and clean up\n        this.cleanupInstances();\n        // Reinitialize an artboard instance with the state\n        this.initArtboard(artBoardName, animationNames, stateMachineNames, autoplay);\n        this.taskQueue.process();\n    };\n    // Loads a new Rive file, keeping listeners in place\n    Rive.prototype.load = function (params) {\n        // Stop all animations\n        this.stop();\n        // Reinitialize\n        this.init(params);\n    };\n    Object.defineProperty(Rive.prototype, \"layout\", {\n        /**\n         * Returns the current layout. Note that layout should be treated as\n         * immutable. If you want to change the layout, create a new one use the\n         * layout setter\n         */\n        get: function () {\n            return this._layout;\n        },\n        // Sets a new layout\n        set: function (layout) {\n            this._layout = layout;\n            // If the maxX or maxY are 0, then set them to the canvas width and height\n            if (!layout.maxX || !layout.maxY) {\n                this.resizeToCanvas();\n            }\n            if (this.loaded && !this.animator.isPlaying) {\n                this.drawFrame();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Sets the layout bounds to the current canvas size; this is typically called\n     * when the canvas is resized\n     */\n    Rive.prototype.resizeToCanvas = function () {\n        this._layout = this.layout.copyWith({\n            minX: 0,\n            minY: 0,\n            maxX: this.canvas.width,\n            maxY: this.canvas.height,\n        });\n    };\n    /**\n     * Accounts for devicePixelRatio as a multiplier to render the size of the canvas drawing surface.\n     * Uses the size of the backing canvas to set new width/height attributes. Need to re-render\n     * and resize the layout to match the new drawing surface afterwards.\n     * Useful function for consumers to include in a window resize listener\n     */\n    Rive.prototype.resizeDrawingSurfaceToCanvas = function () {\n        if (this.canvas instanceof HTMLCanvasElement && !!window) {\n            var _a = this.canvas.getBoundingClientRect(), width = _a.width, height = _a.height;\n            var dpr = window.devicePixelRatio || 1;\n            this.canvas.width = dpr * width;\n            this.canvas.height = dpr * height;\n            this.startRendering();\n            this.resizeToCanvas();\n        }\n    };\n    Object.defineProperty(Rive.prototype, \"source\", {\n        // Returns the animation source, which may be undefined\n        get: function () {\n            return this.src;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"activeArtboard\", {\n        /**\n         * Returns the name of the active artboard\n         */\n        get: function () {\n            return this.artboard ? this.artboard.name : \"\";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"animationNames\", {\n        // Returns a list of animation names on the chosen artboard\n        get: function () {\n            // If the file's not loaded, we got nothing to return\n            if (!this.loaded) {\n                return [];\n            }\n            var animationNames = [];\n            for (var i = 0; i < this.artboard.animationCount(); i++) {\n                animationNames.push(this.artboard.animationByIndex(i).name);\n            }\n            return animationNames;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"stateMachineNames\", {\n        /**\n         * Returns a list of state machine names from the current artboard\n         */\n        get: function () {\n            // If the file's not loaded, we got nothing to return\n            if (!this.loaded) {\n                return [];\n            }\n            var stateMachineNames = [];\n            for (var i = 0; i < this.artboard.stateMachineCount(); i++) {\n                stateMachineNames.push(this.artboard.stateMachineByIndex(i).name);\n            }\n            return stateMachineNames;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Returns the inputs for the specified instanced state machine, or an empty\n     * list if the name is invalid or the state machine is not instanced\n     * @param name the state machine name\n     * @returns the inputs for the named state machine\n     */\n    Rive.prototype.stateMachineInputs = function (name) {\n        // If the file's not loaded, early out, nothing to pause\n        if (!this.loaded) {\n            return;\n        }\n        var stateMachine = this.animator.stateMachines.find(function (m) { return m.name === name; });\n        return stateMachine === null || stateMachine === void 0 ? void 0 : stateMachine.inputs;\n    };\n    Object.defineProperty(Rive.prototype, \"playingStateMachineNames\", {\n        // Returns a list of playing machine names\n        get: function () {\n            // If the file's not loaded, we got nothing to return\n            if (!this.loaded) {\n                return [];\n            }\n            return this.animator.stateMachines\n                .filter(function (m) { return m.playing; })\n                .map(function (m) { return m.name; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"playingAnimationNames\", {\n        // Returns a list of playing animation names\n        get: function () {\n            // If the file's not loaded, we got nothing to return\n            if (!this.loaded) {\n                return [];\n            }\n            return this.animator.animations.filter(function (a) { return a.playing; }).map(function (a) { return a.name; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"pausedAnimationNames\", {\n        // Returns a list of paused animation names\n        get: function () {\n            // If the file's not loaded, we got nothing to return\n            if (!this.loaded) {\n                return [];\n            }\n            return this.animator.animations\n                .filter(function (a) { return !a.playing; })\n                .map(function (a) { return a.name; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"pausedStateMachineNames\", {\n        /**\n         *  Returns a list of paused machine names\n         * @returns a list of state machine names that are paused\n         */\n        get: function () {\n            // If the file's not loaded, we got nothing to return\n            if (!this.loaded) {\n                return [];\n            }\n            return this.animator.stateMachines\n                .filter(function (m) { return !m.playing; })\n                .map(function (m) { return m.name; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"isPlaying\", {\n        /**\n         * @returns true if any animation is playing\n         */\n        get: function () {\n            return this.animator.isPlaying;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"isPaused\", {\n        /**\n         * @returns true if all instanced animations are paused\n         */\n        get: function () {\n            return this.animator.isPaused;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"isStopped\", {\n        /**\n         * @returns true if no animations are playing or paused\n         */\n        get: function () {\n            return this.animator.isStopped;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Rive.prototype, \"bounds\", {\n        /**\n         * @returns the bounds of the current artboard, or undefined if the artboard\n         * isn't loaded yet.\n         */\n        get: function () {\n            return this.artboard ? this.artboard.bounds : undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Subscribe to Rive-generated events\n     * @param type the type of event to subscribe to\n     * @param callback callback to fire when the event occurs\n     */\n    Rive.prototype.on = function (type, callback) {\n        this.eventManager.add({\n            type: type,\n            callback: callback,\n        });\n    };\n    /**\n     * Unsubscribes from a Rive-generated event\n     * @param callback the callback to unsubscribe from\n     */\n    Rive.prototype.unsubscribe = function (type, callback) {\n        this.eventManager.remove({\n            type: type,\n            callback: callback,\n        });\n    };\n    /**\n     * Unsubscribes all listeners from an event type, or everything if no type is\n     * given\n     * @param type the type of event to unsubscribe from, or all types if\n     * undefined\n     */\n    Rive.prototype.unsubscribeAll = function (type) {\n        this.eventManager.removeAll(type);\n    };\n    /**\n     * Stops the rendering loop; this is different from pausing in that it doesn't\n     * change the state of any animation. It stops rendering from occurring. This\n     * is designed for situations such as when Rive isn't visible.\n     *\n     * The only way to start rendering again is to call `startRendering`.\n     * Animations that are marked as playing will start from the position that\n     * they would have been at if rendering had not been stopped.\n     */\n    Rive.prototype.stopRendering = function () {\n        if (this.loaded && this.frameRequestId) {\n            if (this.runtime.cancelAnimationFrame) {\n                this.runtime.cancelAnimationFrame(this.frameRequestId);\n            }\n            else {\n                cancelAnimationFrame(this.frameRequestId);\n            }\n            this.frameRequestId = null;\n        }\n    };\n    /**\n     * Starts the rendering loop if it has been previously stopped. If the\n     * renderer is already active, then this will have zero effect.\n     */\n    Rive.prototype.startRendering = function () {\n        if (this.loaded && this.artboard && !this.frameRequestId) {\n            if (this.runtime.requestAnimationFrame) {\n                this.frameRequestId = this.runtime.requestAnimationFrame(this.draw.bind(this));\n            }\n            else {\n                this.frameRequestId = requestAnimationFrame(this.draw.bind(this));\n            }\n        }\n    };\n    /**\n     * Enables frames-per-second (FPS) reporting for the runtime\n     * If no callback is provided, Rive will append a fixed-position div at the top-right corner of\n     * the page with the FPS reading\n     * @param fpsCallback - Callback from the runtime during the RAF loop that supplies the FPS value\n     */\n    Rive.prototype.enableFPSCounter = function (fpsCallback) {\n        this.runtime.enableFPSCounter(fpsCallback);\n    };\n    /**\n     * Disables frames-per-second (FPS) reporting for the runtime\n     */\n    Rive.prototype.disableFPSCounter = function () {\n        this.runtime.disableFPSCounter();\n    };\n    Object.defineProperty(Rive.prototype, \"contents\", {\n        /**\n         * Returns the contents of a Rive file: the artboards, animations, and state machines\n         */\n        get: function () {\n            if (!this.loaded) {\n                return undefined;\n            }\n            var riveContents = {\n                artboards: [],\n            };\n            for (var i = 0; i < this.file.artboardCount(); i++) {\n                var artboard = this.file.artboardByIndex(i);\n                var artboardContents = {\n                    name: artboard.name,\n                    animations: [],\n                    stateMachines: [],\n                };\n                for (var j = 0; j < artboard.animationCount(); j++) {\n                    var animation = artboard.animationByIndex(j);\n                    artboardContents.animations.push(animation.name);\n                }\n                for (var k = 0; k < artboard.stateMachineCount(); k++) {\n                    var stateMachine = artboard.stateMachineByIndex(k);\n                    var name_1 = stateMachine.name;\n                    var instance = new this.runtime.StateMachineInstance(stateMachine, artboard);\n                    var inputContents = [];\n                    for (var l = 0; l < instance.inputCount(); l++) {\n                        var input = instance.input(l);\n                        inputContents.push({ name: input.name, type: input.type });\n                    }\n                    artboardContents.stateMachines.push({\n                        name: name_1,\n                        inputs: inputContents,\n                    });\n                }\n                riveContents.artboards.push(artboardContents);\n            }\n            return riveContents;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Error message for missing source or buffer\n    Rive.missingErrorMessage = \"Rive source file or data buffer required\";\n    return Rive;\n}());\n\n// Loads Rive data from a URI via fetch.\nvar loadRiveFile = function (src) { return __awaiter(void 0, void 0, void 0, function () {\n    var req, res, buffer;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                req = new Request(src);\n                return [4 /*yield*/, fetch(req)];\n            case 1:\n                res = _a.sent();\n                return [4 /*yield*/, res.arrayBuffer()];\n            case 2:\n                buffer = _a.sent();\n                return [2 /*return*/, buffer];\n        }\n    });\n}); };\n// #endregion\n// #region utility functions\n/*\n * Utility function to ensure an object is a string array\n */\nvar mapToStringArray = function (obj) {\n    if (typeof obj === \"string\") {\n        return [obj];\n    }\n    else if (obj instanceof Array) {\n        return obj;\n    }\n    // If obj is undefined, return empty array\n    return [];\n};\n// #endregion\n// #region testing utilities\n// Exports to only be used for tests\nvar Testing = {\n    EventManager: EventManager,\n    TaskQueueManager: TaskQueueManager,\n};\n// #endregion\n\n})();\n\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});\n//# sourceMappingURL=rive.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJpdmUtYXBwL2NhbnZhcy9yaXZlLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsSUFBSSxJQUF5RDtBQUM3RDtBQUNBLE1BQU0sRUFLcUI7QUFDM0IsQ0FBQztBQUNELHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSw4QkFBbUI7O0FBRXJGLDhCQUFtQjtBQUNuQixxQkFBcUIsOEJBQW1CO0FBQ3hDO0FBQ0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLE1BQU0sNkNBQTZDLEVBQUUsVUFBVSxrQ0FBa0MsS0FBSyxLQUFLO0FBQzNHLGNBQWMsY0FBYyxVQUFVLE1BQU0sVUFBVSxjQUFjLElBQUksS0FBSyxTQUFTLGtCQUFrQixFQUFFLFVBQVUsVUFBVSxvQ0FBb0MsdUNBQXVDLDJDQUEyQyxZQUFZLFdBQVcsVUFBVSxzQ0FBc0MsWUFBWSw2Q0FBNkMsb0JBQW9CLG9DQUFvQztBQUM1YSx1SEFBdUgscUNBQXFDLCtCQUErQixpQkFBaUIsWUFBWSxtQkFBbUIsd0JBQXdCLG9EQUFvRCxtQkFBbUIsb0NBQW9DLFFBQVE7QUFDdFgsZUFBZSxtQkFBbUIsZ0JBQWdCLGdCQUFnQixzQkFBc0Isa0JBQWtCLGlDQUFpQyw4QkFBOEIsWUFBWSw0RUFBNEUsT0FBTyxnQkFBZ0I7QUFDeFIsd0JBQXdCLGFBQWEsT0FBTywwQ0FBMEMsc09BQXNPLCtCQUErQixTQUFTLHNDQUFzQyw4RUFBOEU7QUFDeGQsb0NBQW9DLGtCQUFrQixvQkFBb0Isb0JBQW9CLG1CQUFtQix3QkFBd0Isc0JBQXNCLG9CQUFvQixvQkFBb0IsMkNBQTJDLG9DQUFvQyxtQ0FBbUMseUNBQXlDLGtDQUFrQywrQkFBK0IsOEJBQThCLCtFQUErRSxtQkFBbUI7QUFDbmlCLDZDQUE2QywwQ0FBMEMsa0NBQWtDLCtCQUErQiwwREFBMEQsbUJBQW1CLEdBQUcsbUNBQW1DLCtCQUErQixpQkFBaUIseUJBQXlCLDZCQUE2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RCx1QkFBdUI7QUFDdEYsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUs7QUFDcEIsZUFBZSxLQUFLO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzREFBc0Q7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3QkFBd0I7QUFDeEI7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QTZDLG9DQUFvQztBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBLFVBQVU7QUFDVjtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJpdmUtYXBwL2NhbnZhcy9yaXZlLmpzP2E1ZTMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wicml2ZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJyaXZlXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKCgpID0+IHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHRcInVzZSBzdHJpY3RcIjtcbi8qKioqKiovIFx0dmFyIF9fd2VicGFja19tb2R1bGVzX18gPSAoW1xuLyogMCAqLyxcbi8qIDEgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19fX3dlYnBhY2tfbW9kdWxlX18sIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pID0+IHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIHtcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgXCJkZWZhdWx0XCI6ICgpID0+IChfX1dFQlBBQ0tfREVGQVVMVF9FWFBPUlRfXylcbi8qIGhhcm1vbnkgZXhwb3J0ICovIH0pO1xuXG52YXIgUml2ZSA9ICgoKSA9PiB7XG4gIHZhciBfc2NyaXB0RGlyID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0ID8gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMgOiB1bmRlZmluZWQ7XG4gIFxuICByZXR1cm4gKFxuZnVuY3Rpb24oUml2ZSkge1xuICBSaXZlID0gUml2ZSB8fCB7fTtcblxuXG52YXIgbTttfHwobT10eXBlb2YgUml2ZSAhPT0gJ3VuZGVmaW5lZCcgPyBSaXZlIDoge30pO3ZhciBhYSxiYTttLnJlYWR5PW5ldyBQcm9taXNlKGZ1bmN0aW9uKGIsYSl7YWE9YjtiYT1hfSk7XG5mdW5jdGlvbiBjYSgpe2Z1bmN0aW9uIGIoaCl7Y29uc3QgZz1kO2M9YT0wO2Q9bmV3IE1hcDtnLmZvckVhY2gobD0+e3RyeXtsKGgpfWNhdGNoKGspe2NvbnNvbGUuZXJyb3Ioayl9fSk7dGhpcy5MYSgpO2UmJmUuZmIoKX1sZXQgYT0wLGM9MCxkPW5ldyBNYXAsZT1udWxsLGY9bnVsbDt0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbihoKXthfHwoYT1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYi5iaW5kKHRoaXMpKSk7Y29uc3QgZz0rK2M7ZC5zZXQoZyxoKTtyZXR1cm4gZ307dGhpcy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbihoKXtkLmRlbGV0ZShoKTthJiYwPT1kLnNpemUmJihjYW5jZWxBbmltYXRpb25GcmFtZShhKSxhPTApfTt0aGlzLmNiPWZ1bmN0aW9uKGgpe2YmJihkb2N1bWVudC5ib2R5LnJlbW92ZShmKSxmPW51bGwpO2h8fChmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJibGFja1wiLGYuc3R5bGUucG9zaXRpb249XG5cImZpeGVkXCIsZi5zdHlsZS5yaWdodD0wLGYuc3R5bGUudG9wPTAsZi5zdHlsZS5jb2xvcj1cIndoaXRlXCIsZi5zdHlsZS5wYWRkaW5nPVwiNHB4XCIsZi5pbm5lckhUTUw9XCJSSVZFIEZQU1wiLGg9ZnVuY3Rpb24oZyl7Zi5pbm5lckhUTUw9XCJSSVZFIEZQUyBcIitnLnRvRml4ZWQoMSl9LGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZikpO2U9bmV3IGZ1bmN0aW9uKCl7bGV0IGc9MCxsPTA7dGhpcy5mYj1mdW5jdGlvbigpe3ZhciBrPXBlcmZvcm1hbmNlLm5vdygpO2w/KCsrZyxrLT1sLDFFMzxrJiYoaCgxRTMqZy9rKSxnPWw9MCkpOihsPWssZz0wKX19fTt0aGlzLiRhPWZ1bmN0aW9uKCl7ZiYmKGRvY3VtZW50LmJvZHkucmVtb3ZlKGYpLGY9bnVsbCk7ZT1udWxsfTt0aGlzLkxhPWZ1bmN0aW9uKCl7fX1cbmZ1bmN0aW9uIGVhKGIpe2NvbnNvbGUuYXNzZXJ0KCEwKTtjb25zdCBhPW5ldyBNYXA7bGV0IGM9LUluZmluaXR5O3RoaXMucHVzaD1mdW5jdGlvbihkKXtkPWQrKCgxPDxiKS0xKT4+YjthLmhhcyhkKSYmY2xlYXJUaW1lb3V0KGEuZ2V0KGQpKTthLnNldChkLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmRlbGV0ZShkKTswPT1hLmxlbmd0aD9jPS1JbmZpbml0eTpkPT1jJiYoYz1NYXRoLm1heCguLi5hLmtleXMoKSksY29uc29sZS5hc3NlcnQoYzxkKSl9LDFFMykpO2M9TWF0aC5tYXgoZCxjKTtyZXR1cm4gYzw8Yn19XG5jb25zdCBmYT1uZXcgZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7aWYoIWEpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdj17YWxwaGE6MSxkZXB0aDowLHN0ZW5jaWw6MCxhbnRpYWxpYXM6MCxwcmVtdWx0aXBsaWVkQWxwaGE6MSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6MCxwcmVmZXJMb3dQb3dlclRvSGlnaFBlcmZvcm1hbmNlOjAsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDowLGVuYWJsZUV4dGVuc2lvbnNCeURlZmF1bHQ6MSxleHBsaWNpdFN3YXBDb250cm9sOjEscmVuZGVyVmlhT2Zmc2NyZWVuQmFja0J1ZmZlcjoxfTtsZXQgcT10LmdldENvbnRleHQoXCJ3ZWJnbDJcIix2KTtpZihxKWM9MjtlbHNlIGlmKHE9dC5nZXRDb250ZXh0KFwid2ViZ2xcIix2KSljPTE7ZWxzZSByZXR1cm4gY29uc29sZS5sb2coXCJObyBXZWJHTCBzdXBwb3J0LiBJbWFnZSBtZXNoIHdpbGwgbm90IGJlIGRyYXduLlwiKSwhMTtkPU1hdGgubWluKHEuZ2V0UGFyYW1ldGVyKHEuTUFYX1JFTkRFUkJVRkZFUl9TSVpFKSxcbnEuZ2V0UGFyYW1ldGVyKHEuTUFYX1RFWFRVUkVfU0laRSkpO2Z1bmN0aW9uIEYoSSx3LHope3c9cS5jcmVhdGVTaGFkZXIodyk7cS5zaGFkZXJTb3VyY2Uodyx6KTtxLmNvbXBpbGVTaGFkZXIodyk7ej1xLmdldFNoYWRlckluZm9Mb2codyk7aWYoMDx6Lmxlbmd0aCl0aHJvdyB6O3EuYXR0YWNoU2hhZGVyKEksdyl9dD1xLmNyZWF0ZVByb2dyYW0oKTtGKHQscS5WRVJURVhfU0hBREVSLFwiYXR0cmlidXRlIHZlYzIgdmVydGV4O1xcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUgdmVjMiB1djtcXG4gICAgICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IG1hdDtcXG4gICAgICAgICAgICAgICAgdW5pZm9ybSB2ZWMyIHRyYW5zbGF0ZTtcXG4gICAgICAgICAgICAgICAgdmFyeWluZyB2ZWMyIHN0O1xcbiAgICAgICAgICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgICAgICAgICAgICBzdCA9IHV2O1xcbiAgICAgICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KG1hdDIobWF0KSAqIHZlcnRleCArIHRyYW5zbGF0ZSwgMCwgMSk7XFxuICAgICAgICAgICAgICAgIH1cIik7XG5GKHQscS5GUkFHTUVOVF9TSEFERVIsXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgICAgICAgICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIGltYWdlO1xcbiAgICAgICAgICAgICAgICB2YXJ5aW5nIHZlYzIgc3Q7XFxuICAgICAgICAgICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRChpbWFnZSwgc3QpO1xcbiAgICAgICAgICAgICAgICB9XCIpO3EuYmluZEF0dHJpYkxvY2F0aW9uKHQsMCxcInZlcnRleFwiKTtxLmJpbmRBdHRyaWJMb2NhdGlvbih0LDEsXCJ1dlwiKTtxLmxpbmtQcm9ncmFtKHQpO3Y9cS5nZXRQcm9ncmFtSW5mb0xvZyh0KTtpZigwPHYudHJpbSgpLmxlbmd0aCl0aHJvdyB2O2U9cS5nZXRVbmlmb3JtTG9jYXRpb24odCxcIm1hdFwiKTtmPXEuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ0cmFuc2xhdGVcIik7cS51c2VQcm9ncmFtKHQpO3EuYmluZEJ1ZmZlcihxLkFSUkFZX0JVRkZFUixxLmNyZWF0ZUJ1ZmZlcigpKTtcbnEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoMCk7cS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgxKTtxLmJpbmRCdWZmZXIocS5FTEVNRU5UX0FSUkFZX0JVRkZFUixxLmNyZWF0ZUJ1ZmZlcigpKTtxLnVuaWZvcm0xaShxLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwiaW1hZ2VcIiksMCk7cS5waXhlbFN0b3JlaShxLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwhMCk7YT1xfXJldHVybiEwfWxldCBhPW51bGwsYz0wLGQ9MCxlPW51bGwsZj1udWxsLGg9MCxnPTA7dGhpcy5vYj1mdW5jdGlvbigpe2IoKTtyZXR1cm4gZH07dGhpcy5ZYT1mdW5jdGlvbih0KXtpZighYigpKXJldHVybiBudWxsO2NvbnN0IHY9YS5jcmVhdGVUZXh0dXJlKCk7YS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfMkQsdik7YS50ZXhJbWFnZTJEKGEuVEVYVFVSRV8yRCwwLGEuUkdCQSxhLlJHQkEsYS5VTlNJR05FRF9CWVRFLHQpO2EudGV4UGFyYW1ldGVyaShhLlRFWFRVUkVfMkQsYS5URVhUVVJFX1dSQVBfUyxhLkNMQU1QX1RPX0VER0UpO1xuYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfV1JBUF9ULGEuQ0xBTVBfVE9fRURHRSk7YS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfTUFHX0ZJTFRFUixhLkxJTkVBUik7Mj09Yz8oYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfTUlOX0ZJTFRFUixhLkxJTkVBUl9NSVBNQVBfTElORUFSKSxhLmdlbmVyYXRlTWlwbWFwKGEuVEVYVFVSRV8yRCkpOmEudGV4UGFyYW1ldGVyaShhLlRFWFRVUkVfMkQsYS5URVhUVVJFX01JTl9GSUxURVIsYS5MSU5FQVIpO3JldHVybiB2fTtjb25zdCBsPW5ldyBlYSg4KSxrPW5ldyBlYSg4KSxwPW5ldyBlYSgxMCkscj1uZXcgZWEoMTApO3RoaXMuYmI9ZnVuY3Rpb24odCx2LHEsRixJKXtpZihiKCkpe3ZhciB3PWwucHVzaCh0KSx6PWsucHVzaCh2KTtpZihhLmNhbnZhcy53aWR0aCE9d3x8YS5jYW52YXMuaGVpZ2h0IT16KWEuY2FudmFzLndpZHRoPXcsYS5jYW52YXMuaGVpZ2h0PXo7XG5hLnZpZXdwb3J0KDAsei12LHQsdik7YS5kaXNhYmxlKGEuU0NJU1NPUl9URVNUKTthLmNsZWFyQ29sb3IoMCwwLDAsMCk7YS5jbGVhcihhLkNPTE9SX0JVRkZFUl9CSVQpO2EuZW5hYmxlKGEuU0NJU1NPUl9URVNUKTtxLnNvcnQoKHksZGEpPT5kYS5PYS15Lk9hKTt3PXAucHVzaChGKTtoIT13JiYoYS5idWZmZXJEYXRhKGEuQVJSQVlfQlVGRkVSLDgqdyxhLkRZTkFNSUNfRFJBVyksaD13KTt3PTA7Zm9yKHZhciBKIG9mIHEpYS5idWZmZXJTdWJEYXRhKGEuQVJSQVlfQlVGRkVSLHcsSi5BYSksdys9NCpKLkFhLmxlbmd0aDtjb25zb2xlLmFzc2VydCh3PT00KkYpO2Zvcih2YXIgUCBvZiBxKWEuYnVmZmVyU3ViRGF0YShhLkFSUkFZX0JVRkZFUix3LFAuUmEpLHcrPTQqUC5SYS5sZW5ndGg7Y29uc29sZS5hc3NlcnQodz09OCpGKTt3PXIucHVzaChJKTtnIT13JiYoYS5idWZmZXJEYXRhKGEuRUxFTUVOVF9BUlJBWV9CVUZGRVIsMip3LGEuRFlOQU1JQ19EUkFXKSxnPXcpO0o9MDtmb3IodmFyIFggb2YgcSlhLmJ1ZmZlclN1YkRhdGEoYS5FTEVNRU5UX0FSUkFZX0JVRkZFUixcbkosWC5pbmRpY2VzKSxKKz0yKlguaW5kaWNlcy5sZW5ndGg7Y29uc29sZS5hc3NlcnQoSj09MipJKTtYPTA7UD0hMDt3PUo9MDtmb3IoY29uc3QgeSBvZiBxKXt5LmltYWdlLnZhIT1YJiYoYS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfMkQseS5pbWFnZS5WYXx8bnVsbCksWD15LmltYWdlLnZhKTt5LnJiPyhhLnNjaXNzb3IoeS5FYSx6LXkuRmEteS5LYSx5LnliLHkuS2EpLFA9ITApOlAmJihhLnNjaXNzb3IoMCx6LXYsdCx2KSxQPSExKTtxPTIvdDtjb25zdCBkYT0tMi92O2EudW5pZm9ybTRmKGUseS5sYVswXSpxKnkucmEseS5sYVsxXSpkYSp5LnNhLHkubGFbMl0qcSp5LnJhLHkubGFbM10qZGEqeS5zYSk7YS51bmlmb3JtMmYoZix5LmxhWzRdKnEqeS5yYStxKih5LkVhLXkucGIqeS5yYSktMSx5LmxhWzVdKmRhKnkuc2ErZGEqKHkuRmEteS5xYip5LnNhKSsxKTthLnZlcnRleEF0dHJpYlBvaW50ZXIoMCwyLGEuRkxPQVQsITEsMCx3KTthLnZlcnRleEF0dHJpYlBvaW50ZXIoMSwyLFxuYS5GTE9BVCwhMSwwLHcrNCpGKTthLmRyYXdFbGVtZW50cyhhLlRSSUFOR0xFUyx5LmluZGljZXMubGVuZ3RoLGEuVU5TSUdORURfU0hPUlQsSik7dys9NCp5LkFhLmxlbmd0aDtKKz0yKnkuaW5kaWNlcy5sZW5ndGh9Y29uc29sZS5hc3NlcnQodz09NCpGKTtjb25zb2xlLmFzc2VydChKPT0yKkkpfX07dGhpcy5jYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gYigpJiZhLmNhbnZhc319O1xuUml2ZS5vblJ1bnRpbWVJbml0aWFsaXplZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGIobil7c3dpdGNoKG4pe2Nhc2Ugay5zcmNPdmVyOnJldHVyblwic291cmNlLW92ZXJcIjtjYXNlIGsuc2NyZWVuOnJldHVyblwic2NyZWVuXCI7Y2FzZSBrLm92ZXJsYXk6cmV0dXJuXCJvdmVybGF5XCI7Y2FzZSBrLmRhcmtlbjpyZXR1cm5cImRhcmtlblwiO2Nhc2Ugay5saWdodGVuOnJldHVyblwibGlnaHRlblwiO2Nhc2Ugay5jb2xvckRvZGdlOnJldHVyblwiY29sb3ItZG9kZ2VcIjtjYXNlIGsuY29sb3JCdXJuOnJldHVyblwiY29sb3ItYnVyblwiO2Nhc2Ugay5oYXJkTGlnaHQ6cmV0dXJuXCJoYXJkLWxpZ2h0XCI7Y2FzZSBrLnNvZnRMaWdodDpyZXR1cm5cInNvZnQtbGlnaHRcIjtjYXNlIGsuZGlmZmVyZW5jZTpyZXR1cm5cImRpZmZlcmVuY2VcIjtjYXNlIGsuZXhjbHVzaW9uOnJldHVyblwiZXhjbHVzaW9uXCI7Y2FzZSBrLm11bHRpcGx5OnJldHVyblwibXVsdGlwbHlcIjtjYXNlIGsuaHVlOnJldHVyblwiaHVlXCI7Y2FzZSBrLnNhdHVyYXRpb246cmV0dXJuXCJzYXR1cmF0aW9uXCI7XG5jYXNlIGsuY29sb3I6cmV0dXJuXCJjb2xvclwiO2Nhc2Ugay5sdW1pbm9zaXR5OnJldHVyblwibHVtaW5vc2l0eVwifX1mdW5jdGlvbiBhKG4pe3JldHVyblwicmdiYShcIisoKDE2NzExNjgwJm4pPj4+MTYpK1wiLFwiKygoNjUyODAmbik+Pj44KStcIixcIisoKDI1NSZuKT4+PjApK1wiLFwiKygoNDI3ODE5MDA4MCZuKT4+PjI0KS8yNTUrXCIpXCJ9ZnVuY3Rpb24gYygpezA8Si5sZW5ndGgmJihmYS5iYih6LmRyYXdXaWR0aCgpLHouZHJhd0hlaWdodCgpLEosUCxYKSxKPVtdLFg9UD0wLHoucmVzZXQoNTEyLDUxMikpO2Zvcihjb25zdCBuIG9mIHcpe2Zvcihjb25zdCB1IG9mIG4uYmEpdSgpO24uYmE9W119dy5jbGVhcigpfXZhciBkPVJpdmUuUmVuZGVyUGFpbnRTdHlsZTtjb25zdCBlPVJpdmUuUmVuZGVyUGF0aCxmPVJpdmUuUmVuZGVyUGFpbnQsaD1SaXZlLlJlbmRlcmVyLGc9Uml2ZS5TdHJva2VDYXAsbD1SaXZlLlN0cm9rZUpvaW4saz1SaXZlLkJsZW5kTW9kZSxwPWQuZmlsbCxyPWQuc3Ryb2tlLFxudD1SaXZlLkZpbGxSdWxlLmV2ZW5PZGQ7bGV0IHY9MTt2YXIgcT1SaXZlLlJlbmRlckltYWdlLmV4dGVuZChcIkNhbnZhc1JlbmRlckltYWdlXCIse19fY29uc3RydWN0OmZ1bmN0aW9uKCl7dGhpcy5fX3BhcmVudC5fX2NvbnN0cnVjdC5jYWxsKHRoaXMpO3RoaXMudmE9djt2PXYrMSYyMTQ3NDgzNjQ3fHwxfSxkZWNvZGU6ZnVuY3Rpb24obil7bGV0IHU9WGE7dS50b3RhbCsrO3ZhciBEPXRoaXMsQj1uZXcgSW1hZ2U7Qi5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbbl0se3R5cGU6XCJpbWFnZS9wbmdcIn0pKTtCLm9ubG9hZD1mdW5jdGlvbigpe0QuVGE9QjtELlZhPWZhLllhKEIpO0Quc2l6ZShCLndpZHRoLEIuaGVpZ2h0KTt1LmxvYWRlZCsrO2lmKHUubG9hZGVkPT09dS50b3RhbCl7Y29uc3QgRT11LnJlYWR5O0UmJihFKCksdS5yZWFkeT1udWxsKX19fX0pLEY9ZS5leHRlbmQoXCJDYW52YXNSZW5kZXJQYXRoXCIse19fY29uc3RydWN0OmZ1bmN0aW9uKCl7dGhpcy5fX3BhcmVudC5fX2NvbnN0cnVjdC5jYWxsKHRoaXMpO1xudGhpcy5nYT1uZXcgUGF0aDJEfSxyZXdpbmQ6ZnVuY3Rpb24oKXt0aGlzLmdhPW5ldyBQYXRoMkR9LGFkZFBhdGg6ZnVuY3Rpb24obix1LEQsQixFLEcsQSl7dmFyIEM9dGhpcy5nYSxSPUMuYWRkUGF0aDtuPW4uZ2E7Y29uc3QgSz1uZXcgRE9NTWF0cml4O0suYT11O0suYj1EO0suYz1CO0suZD1FO0suZT1HO0suZj1BO1IuY2FsbChDLG4sSyl9LGZpbGxSdWxlOmZ1bmN0aW9uKG4pe3RoaXMuQ2E9bn0sbW92ZVRvOmZ1bmN0aW9uKG4sdSl7dGhpcy5nYS5tb3ZlVG8obix1KX0sbGluZVRvOmZ1bmN0aW9uKG4sdSl7dGhpcy5nYS5saW5lVG8obix1KX0sY3ViaWNUbzpmdW5jdGlvbihuLHUsRCxCLEUsRyl7dGhpcy5nYS5iZXppZXJDdXJ2ZVRvKG4sdSxELEIsRSxHKX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmdhLmNsb3NlUGF0aCgpfX0pLEk9Zi5leHRlbmQoXCJDYW52YXNSZW5kZXJQYWludFwiLHtjb2xvcjpmdW5jdGlvbihuKXt0aGlzLkRhPWEobil9LHRoaWNrbmVzczpmdW5jdGlvbihuKXt0aGlzLldhPVxubn0sam9pbjpmdW5jdGlvbihuKXtzd2l0Y2gobil7Y2FzZSBsLm1pdGVyOnRoaXMudWE9XCJtaXRlclwiO2JyZWFrO2Nhc2UgbC5yb3VuZDp0aGlzLnVhPVwicm91bmRcIjticmVhaztjYXNlIGwuYmV2ZWw6dGhpcy51YT1cImJldmVsXCJ9fSxjYXA6ZnVuY3Rpb24obil7c3dpdGNoKG4pe2Nhc2UgZy5idXR0OnRoaXMudGE9XCJidXR0XCI7YnJlYWs7Y2FzZSBnLnJvdW5kOnRoaXMudGE9XCJyb3VuZFwiO2JyZWFrO2Nhc2UgZy5zcXVhcmU6dGhpcy50YT1cInNxdWFyZVwifX0sc3R5bGU6ZnVuY3Rpb24obil7dGhpcy5VYT1ufSxibGVuZE1vZGU6ZnVuY3Rpb24obil7dGhpcy5TYT1iKG4pfSxsaW5lYXJHcmFkaWVudDpmdW5jdGlvbihuLHUsRCxCKXt0aGlzLm9hPXtQYTpuLFFhOnUsSGE6RCxJYTpCLHphOltdfX0scmFkaWFsR3JhZGllbnQ6ZnVuY3Rpb24obix1LEQsQil7dGhpcy5vYT17UGE6bixRYTp1LEhhOkQsSWE6Qix6YTpbXSxtYjohMH19LGFkZFN0b3A6ZnVuY3Rpb24obix1KXt0aGlzLm9hLnphLnB1c2goe2NvbG9yOm4sXG5zdG9wOnV9KX0sY29tcGxldGVHcmFkaWVudDpmdW5jdGlvbigpe30sZHJhdzpmdW5jdGlvbihuLHUsRCl7bGV0IEI9dGhpcy5VYTt2YXIgRT10aGlzLkRhLEc9dGhpcy5vYTtuLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj10aGlzLlNhO2lmKG51bGwhPUcpe0U9Ry5QYTt2YXIgQT1HLlFhO2NvbnN0IFI9Ry5IYTt2YXIgQz1HLklhO2NvbnN0IEs9Ry56YTtHLm1iPyhHPVItRSxDLT1BLEU9bi5jcmVhdGVSYWRpYWxHcmFkaWVudChFLEEsMCxFLEEsTWF0aC5zcXJ0KEcqRytDKkMpKSk6RT1uLmNyZWF0ZUxpbmVhckdyYWRpZW50KEUsQSxSLEMpO2ZvcihsZXQgVT0wLEw9Sy5sZW5ndGg7VTxMO1UrKylBPUtbVV0sRS5hZGRDb2xvclN0b3AoQS5zdG9wLGEoQS5jb2xvcikpO3RoaXMuRGE9RTt0aGlzLm9hPW51bGx9c3dpdGNoKEIpe2Nhc2UgcjpuLnN0cm9rZVN0eWxlPUU7bi5saW5lV2lkdGg9dGhpcy5XYTtuLmxpbmVDYXA9dGhpcy50YTtuLmxpbmVKb2luPXRoaXMudWE7bi5zdHJva2UodSk7XG5icmVhaztjYXNlIHA6bi5maWxsU3R5bGU9RSxuLmZpbGwodSxEKX19fSk7Y29uc3Qgdz1uZXcgU2V0O2xldCB6PW51bGwsSj1bXSxQPTAsWD0wO3ZhciB5PVJpdmUuQ2FudmFzUmVuZGVyZXI9aC5leHRlbmQoXCJSZW5kZXJlclwiLHtfX2NvbnN0cnVjdDpmdW5jdGlvbihuKXt0aGlzLl9fcGFyZW50Ll9fY29uc3RydWN0LmNhbGwodGhpcyk7dGhpcy5mYT1bMSwwLDAsMSwwLDBdO3RoaXMuWj1uLmdldENvbnRleHQoXCIyZFwiKTt0aGlzLkJhPW47dGhpcy5iYT1bXX0sc2F2ZTpmdW5jdGlvbigpe3RoaXMuZmEucHVzaCguLi50aGlzLmZhLnNsaWNlKHRoaXMuZmEubGVuZ3RoLTYpKTt0aGlzLmJhLnB1c2godGhpcy5aLnNhdmUuYmluZCh0aGlzLlopKX0scmVzdG9yZTpmdW5jdGlvbigpe2NvbnN0IG49dGhpcy5mYS5sZW5ndGgtNjtpZig2Pm4pdGhyb3dcInJlc3RvcmUoKSBjYWxsZWQgd2l0aG91dCBtYXRjaGluZyBzYXZlKCkuXCI7dGhpcy5mYS5zcGxpY2Uobik7dGhpcy5iYS5wdXNoKHRoaXMuWi5yZXN0b3JlLmJpbmQodGhpcy5aKSl9LFxudHJhbnNmb3JtOmZ1bmN0aW9uKG4sdSxELEIsRSxHKXtjb25zdCBBPXRoaXMuZmEsQz1BLmxlbmd0aC02O0Euc3BsaWNlKEMsNixBW0NdKm4rQVtDKzJdKnUsQVtDKzFdKm4rQVtDKzNdKnUsQVtDXSpEK0FbQysyXSpCLEFbQysxXSpEK0FbQyszXSpCLEFbQ10qRStBW0MrMl0qRytBW0MrNF0sQVtDKzFdKkUrQVtDKzNdKkcrQVtDKzVdKTt0aGlzLmJhLnB1c2godGhpcy5aLnRyYW5zZm9ybS5iaW5kKHRoaXMuWixuLHUsRCxCLEUsRykpfSxyb3RhdGU6ZnVuY3Rpb24obil7Y29uc3QgdT1NYXRoLnNpbihuKTtuPU1hdGguY29zKG4pO3RoaXMudHJhbnNmb3JtKG4sdSwtdSxuLDAsMCl9LF9kcmF3UGF0aDpmdW5jdGlvbihuLHUpe3RoaXMuYmEucHVzaCh1LmRyYXcuYmluZCh1LHRoaXMuWixuLmdhLG4uQ2E9PT10P1wiZXZlbm9kZFwiOlwibm9uemVyb1wiKSl9LGRyYXdJbWFnZTpmdW5jdGlvbihuLC4uLnUpe3ZhciBEPXRoaXMuWjt0aGlzLmJhLnB1c2goZnVuY3Rpb24oKXtELmRyYXdJbWFnZShuLFxuLi4udSl9KX0sX2RyYXdSaXZlSW1hZ2U6ZnVuY3Rpb24obix1LEQpe3ZhciBCPW4uVGE7aWYoQil7dmFyIEU9dGhpcy5aLEc9Yih1KTt0aGlzLmJhLnB1c2goZnVuY3Rpb24oKXtFLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1HO0UuZ2xvYmFsQWxwaGE9RDtFLmRyYXdJbWFnZShCLDAsMCk7RS5nbG9iYWxBbHBoYT0xfSl9fSxfZ2V0TWF0cml4OmZ1bmN0aW9uKG4pe2NvbnN0IHU9dGhpcy5mYSxEPXUubGVuZ3RoLTY7Zm9yKGxldCBCPTA7Nj5COysrQiluW0JdPXVbRCtCXX0sX2RyYXdJbWFnZU1lc2g6ZnVuY3Rpb24obix1LEQsQixFLEcsQSxDLFIsSyl7dmFyIFU9dGhpcy5aLmNhbnZhcy53aWR0aCxMPXRoaXMuWi5jYW52YXMuaGVpZ2h0O2NvbnN0IHBiPVItQSxxYj1LLUM7QT1NYXRoLm1heChBLDApO0M9TWF0aC5tYXgoQywwKTtSPU1hdGgubWluKFIsVSk7Sz1NYXRoLm1pbihLLEwpO2NvbnN0IHNhPVItQSx0YT1LLUM7Y29uc29sZS5hc3NlcnQoc2E8PU1hdGgubWluKHBiLFUpKTtcbmNvbnNvbGUuYXNzZXJ0KHRhPD1NYXRoLm1pbihxYixMKSk7aWYoISgwPj1zYXx8MD49dGEpKXtSPXNhPHBifHx0YTxxYjtVPUs9MTt2YXIgaWE9TWF0aC5jZWlsKHNhKkspLGphPU1hdGguY2VpbCh0YSpVKTtMPWZhLm9iKCk7aWE+TCYmKEsqPUwvaWEsaWE9TCk7amE+TCYmKFUqPUwvamEsamE9TCk7enx8KHo9bmV3IG0uRHluYW1pY1JlY3Rhbml6ZXIoTCksei5yZXNldCg1MTIsNTEyKSk7TD16LmFkZFJlY3QoaWEsamEpOzA+TCYmKGMoKSx3LmFkZCh0aGlzKSxMPXouYWRkUmVjdChpYSxqYSksY29uc29sZS5hc3NlcnQoMDw9TCkpO3ZhciByYj1MJjY1NTM1LHNiPUw+PjE2O0oucHVzaCh7bGE6dGhpcy5mYS5zbGljZSh0aGlzLmZhLmxlbmd0aC02KSxpbWFnZTpuLEVhOnJiLEZhOnNiLHBiOkEscWI6Qyx5YjppYSxLYTpqYSxyYTpLLHNhOlUsQWE6bmV3IEZsb2F0MzJBcnJheShCKSxSYTpuZXcgRmxvYXQzMkFycmF5KEUpLGluZGljZXM6bmV3IFVpbnQxNkFycmF5KEcpLHJiOlIsT2E6bi52YTw8XG4xfChSPzE6MCl9KTtQKz1CLmxlbmd0aDtYKz1HLmxlbmd0aDt2YXIgbmE9dGhpcy5aLFliPWIodSk7dGhpcy5iYS5wdXNoKGZ1bmN0aW9uKCl7bmEuc2F2ZSgpO25hLnJlc2V0VHJhbnNmb3JtKCk7bmEuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVliO25hLmdsb2JhbEFscGhhPUQ7bmEuZHJhd0ltYWdlKGZhLmNhbnZhcygpLHJiLHNiLGlhLGphLEEsQyxzYSx0YSk7bmEucmVzdG9yZSgpfSl9fSxfY2xpcFBhdGg6ZnVuY3Rpb24obil7dGhpcy5iYS5wdXNoKHRoaXMuWi5jbGlwLmJpbmQodGhpcy5aLG4uZ2Esbi5DYT09PXQ/XCJldmVub2RkXCI6XCJub256ZXJvXCIpKX0sY2xlYXI6ZnVuY3Rpb24oKXt3LmFkZCh0aGlzKTt0aGlzLmJhLnB1c2godGhpcy5aLmNsZWFyUmVjdC5iaW5kKHRoaXMuWiwwLDAsdGhpcy5CYS53aWR0aCx0aGlzLkJhLmhlaWdodCkpfSxmbHVzaDpmdW5jdGlvbigpe30sdHJhbnNsYXRlOmZ1bmN0aW9uKG4sdSl7dGhpcy50cmFuc2Zvcm0oMSwwLDAsMSxuLHUpfX0pO1xuUml2ZS5tYWtlUmVuZGVyZXI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyB5KG4pfTtSaXZlLnJlbmRlckZhY3Rvcnk9e21ha2VSZW5kZXJQYWludDpmdW5jdGlvbigpe3JldHVybiBuZXcgSX0sbWFrZVJlbmRlclBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZ9LG1ha2VSZW5kZXJJbWFnZTpmdW5jdGlvbigpe3JldHVybiBuZXcgcX19O2xldCBkYT1SaXZlLmxvYWQsWGE9bnVsbDtSaXZlLmxvYWQ9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHUpe2xldCBEPW51bGw7WGE9e3RvdGFsOjAsbG9hZGVkOjAscmVhZHk6ZnVuY3Rpb24oKXt1KEQpfX07RD1kYShuKTswPT1YYS50b3RhbCYmdShEKX0pfTtkPW5ldyBjYTtSaXZlLnJlcXVlc3RBbmltYXRpb25GcmFtZT1kLnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKGQpO1JpdmUuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZC5jYW5jZWxBbmltYXRpb25GcmFtZS5iaW5kKGQpO1JpdmUuZW5hYmxlRlBTQ291bnRlcj1kLmNiLmJpbmQoZCk7XG5SaXZlLmRpc2FibGVGUFNDb3VudGVyPWQuJGE7ZC5MYT1jO1JpdmUuY2xlYW51cD1mdW5jdGlvbigpe3omJnouZGVsZXRlKCl9fTt2YXIgaGE9T2JqZWN0LmFzc2lnbih7fSxtKSxrYT1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93LGxhPVwiZnVuY3Rpb25cIj09dHlwZW9mIGltcG9ydFNjcmlwdHMseD1cIlwiLG1hLG9hO1xuaWYoa2F8fGxhKWxhP3g9c2VsZi5sb2NhdGlvbi5ocmVmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKHg9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLF9zY3JpcHREaXImJih4PV9zY3JpcHREaXIpLDAhPT14LmluZGV4T2YoXCJibG9iOlwiKT94PXguc3Vic3RyKDAseC5yZXBsYWNlKC9bPyNdLiovLFwiXCIpLmxhc3RJbmRleE9mKFwiL1wiKSsxKTp4PVwiXCIsbGEmJihvYT1iPT57dmFyIGE9bmV3IFhNTEh0dHBSZXF1ZXN0O2Eub3BlbihcIkdFVFwiLGIsITEpO2EucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIjthLnNlbmQobnVsbCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KGEucmVzcG9uc2UpfSksbWE9KGIsYSxjKT0+e3ZhciBkPW5ldyBYTUxIdHRwUmVxdWVzdDtkLm9wZW4oXCJHRVRcIixiLCEwKTtkLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCI7ZC5vbmxvYWQ9KCk9PnsyMDA9PWQuc3RhdHVzfHwwPT1kLnN0YXR1cyYmZC5yZXNwb25zZT9cbmEoZC5yZXNwb25zZSk6YygpfTtkLm9uZXJyb3I9YztkLnNlbmQobnVsbCl9O3ZhciBwYT1tLnByaW50fHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLHFhPW0ucHJpbnRFcnJ8fGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpO09iamVjdC5hc3NpZ24obSxoYSk7aGE9bnVsbDt2YXIgcmE7bS53YXNtQmluYXJ5JiYocmE9bS53YXNtQmluYXJ5KTt2YXIgbm9FeGl0UnVudGltZT1tLm5vRXhpdFJ1bnRpbWV8fCEwO1wib2JqZWN0XCIhPXR5cGVvZiBXZWJBc3NlbWJseSYmdWEoXCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkXCIpO3ZhciB2YSx3YT0hMSx4YT1cInVuZGVmaW5lZFwiIT10eXBlb2YgVGV4dERlY29kZXI/bmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTp2b2lkIDA7XG5mdW5jdGlvbiB5YShiLGEsYyl7dmFyIGQ9YStjO2ZvcihjPWE7YltjXSYmIShjPj1kKTspKytjO2lmKDE2PGMtYSYmYi5idWZmZXImJnhhKXJldHVybiB4YS5kZWNvZGUoYi5zdWJhcnJheShhLGMpKTtmb3IoZD1cIlwiO2E8Yzspe3ZhciBlPWJbYSsrXTtpZihlJjEyOCl7dmFyIGY9YlthKytdJjYzO2lmKDE5Mj09KGUmMjI0KSlkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChlJjMxKTw8NnxmKTtlbHNle3ZhciBoPWJbYSsrXSY2MztlPTIyND09KGUmMjQwKT8oZSYxNSk8PDEyfGY8PDZ8aDooZSY3KTw8MTh8Zjw8MTJ8aDw8NnxiW2ErK10mNjM7NjU1MzY+ZT9kKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpOihlLT02NTUzNixkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGU+PjEwLDU2MzIwfGUmMTAyMykpfX1lbHNlIGQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZSl9cmV0dXJuIGR9dmFyIHphLEFhLEgsQmEsQ2EsRGEsTSxFYSxGYTtcbmZ1bmN0aW9uIEdhKCl7dmFyIGI9dmEuYnVmZmVyO3phPWI7bS5IRUFQOD1BYT1uZXcgSW50OEFycmF5KGIpO20uSEVBUDE2PUJhPW5ldyBJbnQxNkFycmF5KGIpO20uSEVBUDMyPURhPW5ldyBJbnQzMkFycmF5KGIpO20uSEVBUFU4PUg9bmV3IFVpbnQ4QXJyYXkoYik7bS5IRUFQVTE2PUNhPW5ldyBVaW50MTZBcnJheShiKTttLkhFQVBVMzI9TT1uZXcgVWludDMyQXJyYXkoYik7bS5IRUFQRjMyPUVhPW5ldyBGbG9hdDMyQXJyYXkoYik7bS5IRUFQRjY0PUZhPW5ldyBGbG9hdDY0QXJyYXkoYil9dmFyIEhhLElhPVtdLEphPVtdLEthPVtdO2Z1bmN0aW9uIExhKCl7dmFyIGI9bS5wcmVSdW4uc2hpZnQoKTtJYS51bnNoaWZ0KGIpfXZhciBNYT0wLE5hPW51bGwsT2E9bnVsbDtcbmZ1bmN0aW9uIHVhKGIpe2lmKG0ub25BYm9ydCltLm9uQWJvcnQoYik7Yj1cIkFib3J0ZWQoXCIrYitcIilcIjtxYShiKTt3YT0hMDtiPW5ldyBXZWJBc3NlbWJseS5SdW50aW1lRXJyb3IoYitcIi4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby5cIik7YmEoYik7dGhyb3cgYjt9ZnVuY3Rpb24gUGEoKXtyZXR1cm4gTi5zdGFydHNXaXRoKFwiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LFwiKX12YXIgTjtOPVwiY2FudmFzX2FkdmFuY2VkLndhc21cIjtpZighUGEoKSl7dmFyIFFhPU47Tj1tLmxvY2F0ZUZpbGU/bS5sb2NhdGVGaWxlKFFhLHgpOngrUWF9ZnVuY3Rpb24gUmEoKXt2YXIgYj1OO3RyeXtpZihiPT1OJiZyYSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmEpO2lmKG9hKXJldHVybiBvYShiKTt0aHJvd1wiYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWRcIjt9Y2F0Y2goYSl7dWEoYSl9fVxuZnVuY3Rpb24gU2EoKXtpZighcmEmJihrYXx8bGEpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBmZXRjaCYmIU4uc3RhcnRzV2l0aChcImZpbGU6Ly9cIikpcmV0dXJuIGZldGNoKE4se2NyZWRlbnRpYWxzOlwic2FtZS1vcmlnaW5cIn0pLnRoZW4oZnVuY3Rpb24oYil7aWYoIWIub2spdGhyb3dcImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJ1wiK04rXCInXCI7cmV0dXJuIGIuYXJyYXlCdWZmZXIoKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIFJhKCl9KTtpZihtYSlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYixhKXttYShOLGZ1bmN0aW9uKGMpe2IobmV3IFVpbnQ4QXJyYXkoYykpfSxhKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFJhKCl9KX1mdW5jdGlvbiBUYShiKXtmb3IoOzA8Yi5sZW5ndGg7KWIuc2hpZnQoKShtKX1cbmZ1bmN0aW9uIFVhKGIpe2lmKHZvaWQgMD09PWIpcmV0dXJuXCJfdW5rbm93blwiO2I9Yi5yZXBsYWNlKC9bXmEtekEtWjAtOV9dL2csXCIkXCIpO3ZhciBhPWIuY2hhckNvZGVBdCgwKTtyZXR1cm4gNDg8PWEmJjU3Pj1hP1wiX1wiK2I6Yn1mdW5jdGlvbiBWYShiLGEpe2I9VWEoYik7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfX12YXIgTz1be30se3ZhbHVlOnZvaWQgMH0se3ZhbHVlOm51bGx9LHt2YWx1ZTohMH0se3ZhbHVlOiExfV0sV2E9W107XG5mdW5jdGlvbiBZYShiKXt2YXIgYT1FcnJvcixjPVZhKGIsZnVuY3Rpb24oZCl7dGhpcy5uYW1lPWI7dGhpcy5tZXNzYWdlPWQ7ZD1FcnJvcihkKS5zdGFjazt2b2lkIDAhPT1kJiYodGhpcy5zdGFjaz10aGlzLnRvU3RyaW5nKCkrXCJcXG5cIitkLnJlcGxhY2UoL15FcnJvcig6W15cXG5dKik/XFxuLyxcIlwiKSl9KTtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKTtjLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jO2MucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMubWVzc2FnZT90aGlzLm5hbWU6dGhpcy5uYW1lK1wiOiBcIit0aGlzLm1lc3NhZ2V9O3JldHVybiBjfXZhciBaYT12b2lkIDA7ZnVuY3Rpb24gUShiKXt0aHJvdyBuZXcgWmEoYik7fVxudmFyICRhPWI9PntifHxRKFwiQ2Fubm90IHVzZSBkZWxldGVkIHZhbC4gaGFuZGxlID0gXCIrYik7cmV0dXJuIE9bYl0udmFsdWV9LFM9Yj0+e3N3aXRjaChiKXtjYXNlIHZvaWQgMDpyZXR1cm4gMTtjYXNlIG51bGw6cmV0dXJuIDI7Y2FzZSAhMDpyZXR1cm4gMztjYXNlICExOnJldHVybiA0O2RlZmF1bHQ6dmFyIGE9V2EubGVuZ3RoP1dhLnBvcCgpOk8ubGVuZ3RoO09bYV09e3lhOjEsdmFsdWU6Yn07cmV0dXJuIGF9fSxhYj12b2lkIDAsYmI9dm9pZCAwO2Z1bmN0aW9uIFQoYil7Zm9yKHZhciBhPVwiXCI7SFtiXTspYSs9YmJbSFtiKytdXTtyZXR1cm4gYX12YXIgY2I9W107ZnVuY3Rpb24gZGIoKXtmb3IoO2NiLmxlbmd0aDspe3ZhciBiPWNiLnBvcCgpO2IuVS5rYT0hMTtiW1wiZGVsZXRlXCJdKCl9fXZhciBlYj12b2lkIDAsVj17fTtcbmZ1bmN0aW9uIGZiKGIsYSl7Zm9yKHZvaWQgMD09PWEmJlEoXCJwdHIgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWRcIik7Yi4kOylhPWIubmEoYSksYj1iLiQ7cmV0dXJuIGF9dmFyIGdiPXt9O2Z1bmN0aW9uIGhiKGIpe2I9aWIoYik7dmFyIGE9VChiKTtqYihiKTtyZXR1cm4gYX1mdW5jdGlvbiBrYihiLGEpe3ZhciBjPWdiW2JdO3ZvaWQgMD09PWMmJlEoYStcIiBoYXMgdW5rbm93biB0eXBlIFwiK2hiKGIpKTtyZXR1cm4gY31mdW5jdGlvbiBsYigpe312YXIgbWI9ITE7ZnVuY3Rpb24gbmIoYil7LS1iLmNvdW50LnZhbHVlOzA9PT1iLmNvdW50LnZhbHVlJiYoYi5hYT9iLmRhLmhhKGIuYWEpOmIuWC5WLmhhKGIuVykpfWZ1bmN0aW9uIG9iKGIsYSxjKXtpZihhPT09YylyZXR1cm4gYjtpZih2b2lkIDA9PT1jLiQpcmV0dXJuIG51bGw7Yj1vYihiLGEsYy4kKTtyZXR1cm4gbnVsbD09PWI/bnVsbDpjLmFiKGIpfXZhciB0Yj17fTtcbmZ1bmN0aW9uIHViKGIsYSl7YT1mYihiLGEpO3JldHVybiBWW2FdfXZhciB2Yj12b2lkIDA7ZnVuY3Rpb24gd2IoYil7dGhyb3cgbmV3IHZiKGIpO31mdW5jdGlvbiB4YihiLGEpe2EuWCYmYS5XfHx3YihcIm1ha2VDbGFzc0hhbmRsZSByZXF1aXJlcyBwdHIgYW5kIHB0clR5cGVcIik7ISFhLmRhIT09ISFhLmFhJiZ3YihcIkJvdGggc21hcnRQdHJUeXBlIGFuZCBzbWFydFB0ciBtdXN0IGJlIHNwZWNpZmllZFwiKTthLmNvdW50PXt2YWx1ZToxfTtyZXR1cm4geWIoT2JqZWN0LmNyZWF0ZShiLHtVOnt2YWx1ZTphfX0pKX1cbmZ1bmN0aW9uIHliKGIpe2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnkpcmV0dXJuIHliPWE9PmEsYjttYj1uZXcgRmluYWxpemF0aW9uUmVnaXN0cnkoYT0+e25iKGEuVSl9KTt5Yj1hPT57dmFyIGM9YS5VO2MuYWEmJm1iLnJlZ2lzdGVyKGEse1U6Y30sYSk7cmV0dXJuIGF9O2xiPWE9PnttYi51bnJlZ2lzdGVyKGEpfTtyZXR1cm4geWIoYil9dmFyIHpiPXt9O2Z1bmN0aW9uIEFiKGIpe2Zvcig7Yi5sZW5ndGg7KXt2YXIgYT1iLnBvcCgpO2IucG9wKCkoYSl9fWZ1bmN0aW9uIEJiKGIpe3JldHVybiB0aGlzLmZyb21XaXJlVHlwZShEYVtiPj4yXSl9dmFyIENiPXt9LERiPXt9O1xuZnVuY3Rpb24gVyhiLGEsYyl7ZnVuY3Rpb24gZChnKXtnPWMoZyk7Zy5sZW5ndGghPT1iLmxlbmd0aCYmd2IoXCJNaXNtYXRjaGVkIHR5cGUgY29udmVydGVyIGNvdW50XCIpO2Zvcih2YXIgbD0wO2w8Yi5sZW5ndGg7KytsKVkoYltsXSxnW2xdKX1iLmZvckVhY2goZnVuY3Rpb24oZyl7RGJbZ109YX0pO3ZhciBlPUFycmF5KGEubGVuZ3RoKSxmPVtdLGg9MDthLmZvckVhY2goKGcsbCk9PntnYi5oYXNPd25Qcm9wZXJ0eShnKT9lW2xdPWdiW2ddOihmLnB1c2goZyksQ2IuaGFzT3duUHJvcGVydHkoZyl8fChDYltnXT1bXSksQ2JbZ10ucHVzaCgoKT0+e2VbbF09Z2JbZ107KytoO2g9PT1mLmxlbmd0aCYmZChlKX0pKX0pOzA9PT1mLmxlbmd0aCYmZChlKX1cbmZ1bmN0aW9uIEViKGIpe3N3aXRjaChiKXtjYXNlIDE6cmV0dXJuIDA7Y2FzZSAyOnJldHVybiAxO2Nhc2UgNDpyZXR1cm4gMjtjYXNlIDg6cmV0dXJuIDM7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biB0eXBlIHNpemU6IFwiK2IpO319XG5mdW5jdGlvbiBZKGIsYSxjPXt9KXtpZighKFwiYXJnUGFja0FkdmFuY2VcImluIGEpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJyZWdpc3RlclR5cGUgcmVnaXN0ZXJlZEluc3RhbmNlIHJlcXVpcmVzIGFyZ1BhY2tBZHZhbmNlXCIpO3ZhciBkPWEubmFtZTtifHxRKCd0eXBlIFwiJytkKydcIiBtdXN0IGhhdmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIHR5cGVpZCBwb2ludGVyJyk7aWYoZ2IuaGFzT3duUHJvcGVydHkoYikpe2lmKGMubGIpcmV0dXJuO1EoXCJDYW5ub3QgcmVnaXN0ZXIgdHlwZSAnXCIrZCtcIicgdHdpY2VcIil9Z2JbYl09YTtkZWxldGUgRGJbYl07Q2IuaGFzT3duUHJvcGVydHkoYikmJihhPUNiW2JdLGRlbGV0ZSBDYltiXSxhLmZvckVhY2goZT0+ZSgpKSl9ZnVuY3Rpb24gRmIoYil7UShiLlUuWC5WLm5hbWUrXCIgaW5zdGFuY2UgYWxyZWFkeSBkZWxldGVkXCIpfWZ1bmN0aW9uIEdiKCl7fVxuZnVuY3Rpb24gSGIoYixhLGMpe2lmKHZvaWQgMD09PWJbYV0uWSl7dmFyIGQ9YlthXTtiW2FdPWZ1bmN0aW9uKCl7YlthXS5ZLmhhc093blByb3BlcnR5KGFyZ3VtZW50cy5sZW5ndGgpfHxRKFwiRnVuY3Rpb24gJ1wiK2MrXCInIGNhbGxlZCB3aXRoIGFuIGludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyAoXCIrYXJndW1lbnRzLmxlbmd0aCtcIikgLSBleHBlY3RzIG9uZSBvZiAoXCIrYlthXS5ZK1wiKSFcIik7cmV0dXJuIGJbYV0uWVthcmd1bWVudHMubGVuZ3RoXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2JbYV0uWT1bXTtiW2FdLllbZC5qYV09ZH19XG5mdW5jdGlvbiBJYihiLGEsYyl7bS5oYXNPd25Qcm9wZXJ0eShiKT8oKHZvaWQgMD09PWN8fHZvaWQgMCE9PW1bYl0uWSYmdm9pZCAwIT09bVtiXS5ZW2NdKSYmUShcIkNhbm5vdCByZWdpc3RlciBwdWJsaWMgbmFtZSAnXCIrYitcIicgdHdpY2VcIiksSGIobSxiLGIpLG0uaGFzT3duUHJvcGVydHkoYykmJlEoXCJDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgb3ZlcmxvYWRzIG9mIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBudW1iZXIgb2YgYXJndW1lbnRzIChcIitjK1wiKSFcIiksbVtiXS5ZW2NdPWEpOihtW2JdPWEsdm9pZCAwIT09YyYmKG1bYl0uemI9YykpfWZ1bmN0aW9uIEpiKGIsYSxjLGQsZSxmLGgsZyl7dGhpcy5uYW1lPWI7dGhpcy5jb25zdHJ1Y3Rvcj1hO3RoaXMuZWE9Yzt0aGlzLmhhPWQ7dGhpcy4kPWU7dGhpcy5nYj1mO3RoaXMubmE9aDt0aGlzLmFiPWc7dGhpcy5NYT1bXX1cbmZ1bmN0aW9uIEtiKGIsYSxjKXtmb3IoO2EhPT1jOylhLm5hfHxRKFwiRXhwZWN0ZWQgbnVsbCBvciBpbnN0YW5jZSBvZiBcIitjLm5hbWUrXCIsIGdvdCBhbiBpbnN0YW5jZSBvZiBcIithLm5hbWUpLGI9YS5uYShiKSxhPWEuJDtyZXR1cm4gYn1mdW5jdGlvbiBMYihiLGEpe2lmKG51bGw9PT1hKXJldHVybiB0aGlzLndhJiZRKFwibnVsbCBpcyBub3QgYSB2YWxpZCBcIit0aGlzLm5hbWUpLDA7YS5VfHxRKCdDYW5ub3QgcGFzcyBcIicrTWIoYSkrJ1wiIGFzIGEgJyt0aGlzLm5hbWUpO2EuVS5XfHxRKFwiQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgXCIrdGhpcy5uYW1lKTtyZXR1cm4gS2IoYS5VLlcsYS5VLlguVix0aGlzLlYpfVxuZnVuY3Rpb24gTmIoYixhKXtpZihudWxsPT09YSl7dGhpcy53YSYmUShcIm51bGwgaXMgbm90IGEgdmFsaWQgXCIrdGhpcy5uYW1lKTtpZih0aGlzLnFhKXt2YXIgYz10aGlzLnhhKCk7bnVsbCE9PWImJmIucHVzaCh0aGlzLmhhLGMpO3JldHVybiBjfXJldHVybiAwfWEuVXx8USgnQ2Fubm90IHBhc3MgXCInK01iKGEpKydcIiBhcyBhICcrdGhpcy5uYW1lKTthLlUuV3x8UShcIkNhbm5vdCBwYXNzIGRlbGV0ZWQgb2JqZWN0IGFzIGEgcG9pbnRlciBvZiB0eXBlIFwiK3RoaXMubmFtZSk7IXRoaXMucGEmJmEuVS5YLnBhJiZRKFwiQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSBcIisoYS5VLmRhP2EuVS5kYS5uYW1lOmEuVS5YLm5hbWUpK1wiIHRvIHBhcmFtZXRlciB0eXBlIFwiK3RoaXMubmFtZSk7Yz1LYihhLlUuVyxhLlUuWC5WLHRoaXMuVik7aWYodGhpcy5xYSlzd2l0Y2godm9pZCAwPT09YS5VLmFhJiZRKFwiUGFzc2luZyByYXcgcG9pbnRlciB0byBzbWFydCBwb2ludGVyIGlzIGlsbGVnYWxcIiksXG50aGlzLnhiKXtjYXNlIDA6YS5VLmRhPT09dGhpcz9jPWEuVS5hYTpRKFwiQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSBcIisoYS5VLmRhP2EuVS5kYS5uYW1lOmEuVS5YLm5hbWUpK1wiIHRvIHBhcmFtZXRlciB0eXBlIFwiK3RoaXMubmFtZSk7YnJlYWs7Y2FzZSAxOmM9YS5VLmFhO2JyZWFrO2Nhc2UgMjppZihhLlUuZGE9PT10aGlzKWM9YS5VLmFhO2Vsc2V7dmFyIGQ9YS5jbG9uZSgpO2M9dGhpcy50YihjLFMoZnVuY3Rpb24oKXtkW1wiZGVsZXRlXCJdKCl9KSk7bnVsbCE9PWImJmIucHVzaCh0aGlzLmhhLGMpfWJyZWFrO2RlZmF1bHQ6UShcIlVuc3VwcG9ydGluZyBzaGFyaW5nIHBvbGljeVwiKX1yZXR1cm4gY31cbmZ1bmN0aW9uIE9iKGIsYSl7aWYobnVsbD09PWEpcmV0dXJuIHRoaXMud2EmJlEoXCJudWxsIGlzIG5vdCBhIHZhbGlkIFwiK3RoaXMubmFtZSksMDthLlV8fFEoJ0Nhbm5vdCBwYXNzIFwiJytNYihhKSsnXCIgYXMgYSAnK3RoaXMubmFtZSk7YS5VLld8fFEoXCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSBcIit0aGlzLm5hbWUpO2EuVS5YLnBhJiZRKFwiQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSBcIithLlUuWC5uYW1lK1wiIHRvIHBhcmFtZXRlciB0eXBlIFwiK3RoaXMubmFtZSk7cmV0dXJuIEtiKGEuVS5XLGEuVS5YLlYsdGhpcy5WKX1cbmZ1bmN0aW9uIFBiKGIsYSxjLGQpe3RoaXMubmFtZT1iO3RoaXMuVj1hO3RoaXMud2E9Yzt0aGlzLnBhPWQ7dGhpcy5xYT0hMTt0aGlzLmhhPXRoaXMudGI9dGhpcy54YT10aGlzLk5hPXRoaXMueGI9dGhpcy5zYj12b2lkIDA7dm9pZCAwIT09YS4kP3RoaXMudG9XaXJlVHlwZT1OYjoodGhpcy50b1dpcmVUeXBlPWQ/TGI6T2IsdGhpcy5jYT1udWxsKX1mdW5jdGlvbiBRYihiLGEsYyl7bS5oYXNPd25Qcm9wZXJ0eShiKXx8d2IoXCJSZXBsYWNpbmcgbm9uZXhpc3RhbnQgcHVibGljIHN5bWJvbFwiKTt2b2lkIDAhPT1tW2JdLlkmJnZvaWQgMCE9PWM/bVtiXS5ZW2NdPWE6KG1bYl09YSxtW2JdLmphPWMpfVxuZnVuY3Rpb24gUmIoYixhKXt2YXIgYz1bXTtyZXR1cm4gZnVuY3Rpb24oKXtjLmxlbmd0aD0wO09iamVjdC5hc3NpZ24oYyxhcmd1bWVudHMpO2lmKGIuaW5jbHVkZXMoXCJqXCIpKXt2YXIgZD1tW1wiZHluQ2FsbF9cIitiXTtkPWMmJmMubGVuZ3RoP2QuYXBwbHkobnVsbCxbYV0uY29uY2F0KGMpKTpkLmNhbGwobnVsbCxhKX1lbHNlIGQ9SGEuZ2V0KGEpLmFwcGx5KG51bGwsYyk7cmV0dXJuIGR9fWZ1bmN0aW9uIFooYixhKXtiPVQoYik7dmFyIGM9Yi5pbmNsdWRlcyhcImpcIik/UmIoYixhKTpIYS5nZXQoYSk7XCJmdW5jdGlvblwiIT10eXBlb2YgYyYmUShcInVua25vd24gZnVuY3Rpb24gcG9pbnRlciB3aXRoIHNpZ25hdHVyZSBcIitiK1wiOiBcIithKTtyZXR1cm4gY312YXIgU2I9dm9pZCAwO1xuZnVuY3Rpb24gVGIoYixhKXtmdW5jdGlvbiBjKGYpe2VbZl18fGdiW2ZdfHwoRGJbZl0/RGJbZl0uZm9yRWFjaChjKTooZC5wdXNoKGYpLGVbZl09ITApKX12YXIgZD1bXSxlPXt9O2EuZm9yRWFjaChjKTt0aHJvdyBuZXcgU2IoYitcIjogXCIrZC5tYXAoaGIpLmpvaW4oW1wiLCBcIl0pKTt9XG5mdW5jdGlvbiBVYihiLGEsYyxkLGUpe3ZhciBmPWEubGVuZ3RoOzI+ZiYmUShcImFyZ1R5cGVzIGFycmF5IHNpemUgbWlzbWF0Y2ghIE11c3QgYXQgbGVhc3QgZ2V0IHJldHVybiB2YWx1ZSBhbmQgJ3RoaXMnIHR5cGVzIVwiKTt2YXIgaD1udWxsIT09YVsxXSYmbnVsbCE9PWMsZz0hMTtmb3IoYz0xO2M8YS5sZW5ndGg7KytjKWlmKG51bGwhPT1hW2NdJiZ2b2lkIDA9PT1hW2NdLmNhKXtnPSEwO2JyZWFrfXZhciBsPVwidm9pZFwiIT09YVswXS5uYW1lLGs9Zi0yLHA9QXJyYXkoaykscj1bXSx0PVtdO3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGghPT1rJiZRKFwiZnVuY3Rpb24gXCIrYitcIiBjYWxsZWQgd2l0aCBcIithcmd1bWVudHMubGVuZ3RoK1wiIGFyZ3VtZW50cywgZXhwZWN0ZWQgXCIraytcIiBhcmdzIVwiKTt0Lmxlbmd0aD0wO3IubGVuZ3RoPWg/MjoxO3JbMF09ZTtpZihoKXt2YXIgdj1hWzFdLnRvV2lyZVR5cGUodCx0aGlzKTtyWzFdPXZ9Zm9yKHZhciBxPTA7cTxrOysrcSlwW3FdPVxuYVtxKzJdLnRvV2lyZVR5cGUodCxhcmd1bWVudHNbcV0pLHIucHVzaChwW3FdKTtxPWQuYXBwbHkobnVsbCxyKTtpZihnKUFiKHQpO2Vsc2UgZm9yKHZhciBGPWg/MToyO0Y8YS5sZW5ndGg7RisrKXt2YXIgST0xPT09Rj92OnBbRi0yXTtudWxsIT09YVtGXS5jYSYmYVtGXS5jYShJKX12PWw/YVswXS5mcm9tV2lyZVR5cGUocSk6dm9pZCAwO3JldHVybiB2fX1mdW5jdGlvbiBWYihiLGEpe2Zvcih2YXIgYz1bXSxkPTA7ZDxiO2QrKyljLnB1c2goTVthKzQqZD4+Ml0pO3JldHVybiBjfVxuZnVuY3Rpb24gV2IoYixhLGMpe2IgaW5zdGFuY2VvZiBPYmplY3R8fFEoYysnIHdpdGggaW52YWxpZCBcInRoaXNcIjogJytiKTtiIGluc3RhbmNlb2YgYS5WLmNvbnN0cnVjdG9yfHxRKGMrJyBpbmNvbXBhdGlibGUgd2l0aCBcInRoaXNcIiBvZiB0eXBlICcrYi5jb25zdHJ1Y3Rvci5uYW1lKTtiLlUuV3x8UShcImNhbm5vdCBjYWxsIGVtc2NyaXB0ZW4gYmluZGluZyBtZXRob2QgXCIrYytcIiBvbiBkZWxldGVkIG9iamVjdFwiKTtyZXR1cm4gS2IoYi5VLlcsYi5VLlguVixhLlYpfWZ1bmN0aW9uIFhiKGIpezQ8YiYmMD09PS0tT1tiXS55YSYmKE9bYl09dm9pZCAwLFdhLnB1c2goYikpfVxuZnVuY3Rpb24gWmIoYixhLGMpe3N3aXRjaChhKXtjYXNlIDA6cmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLmZyb21XaXJlVHlwZSgoYz9BYTpIKVtkXSl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKChjP0JhOkNhKVtkPj4xXSl9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKChjP0RhOk0pW2Q+PjJdKX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBpbnRlZ2VyIHR5cGU6IFwiK2IpO319ZnVuY3Rpb24gTWIoYil7aWYobnVsbD09PWIpcmV0dXJuXCJudWxsXCI7dmFyIGE9dHlwZW9mIGI7cmV0dXJuXCJvYmplY3RcIj09PWF8fFwiYXJyYXlcIj09PWF8fFwiZnVuY3Rpb25cIj09PWE/Yi50b1N0cmluZygpOlwiXCIrYn1cbmZ1bmN0aW9uICRiKGIsYSl7c3dpdGNoKGEpe2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKEVhW2M+PjJdKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoRmFbYz4+M10pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGZsb2F0IHR5cGU6IFwiK2IpO319XG5mdW5jdGlvbiBhYyhiLGEsYyl7c3dpdGNoKGEpe2Nhc2UgMDpyZXR1cm4gYz9mdW5jdGlvbihkKXtyZXR1cm4gQWFbZF19OmZ1bmN0aW9uKGQpe3JldHVybiBIW2RdfTtjYXNlIDE6cmV0dXJuIGM/ZnVuY3Rpb24oZCl7cmV0dXJuIEJhW2Q+PjFdfTpmdW5jdGlvbihkKXtyZXR1cm4gQ2FbZD4+MV19O2Nhc2UgMjpyZXR1cm4gYz9mdW5jdGlvbihkKXtyZXR1cm4gRGFbZD4+Ml19OmZ1bmN0aW9uKGQpe3JldHVybiBNW2Q+PjJdfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGludGVnZXIgdHlwZTogXCIrYik7fX12YXIgYmM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFRleHREZWNvZGVyP25ldyBUZXh0RGVjb2RlcihcInV0Zi0xNmxlXCIpOnZvaWQgMDtcbmZ1bmN0aW9uIGNjKGIsYSl7dmFyIGM9Yj4+MTtmb3IodmFyIGQ9YythLzI7IShjPj1kKSYmQ2FbY107KSsrYztjPDw9MTtpZigzMjxjLWImJmJjKXJldHVybiBiYy5kZWNvZGUoSC5zdWJhcnJheShiLGMpKTtjPVwiXCI7Zm9yKGQ9MDshKGQ+PWEvMik7KytkKXt2YXIgZT1CYVtiKzIqZD4+MV07aWYoMD09ZSlicmVhaztjKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpfXJldHVybiBjfWZ1bmN0aW9uIGRjKGIsYSxjKXt2b2lkIDA9PT1jJiYoYz0yMTQ3NDgzNjQ3KTtpZigyPmMpcmV0dXJuIDA7Yy09Mjt2YXIgZD1hO2M9YzwyKmIubGVuZ3RoP2MvMjpiLmxlbmd0aDtmb3IodmFyIGU9MDtlPGM7KytlKUJhW2E+PjFdPWIuY2hhckNvZGVBdChlKSxhKz0yO0JhW2E+PjFdPTA7cmV0dXJuIGEtZH1mdW5jdGlvbiBlYyhiKXtyZXR1cm4gMipiLmxlbmd0aH1cbmZ1bmN0aW9uIGZjKGIsYSl7Zm9yKHZhciBjPTAsZD1cIlwiOyEoYz49YS80KTspe3ZhciBlPURhW2IrNCpjPj4yXTtpZigwPT1lKWJyZWFrOysrYzs2NTUzNjw9ZT8oZS09NjU1MzYsZCs9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxlPj4xMCw1NjMyMHxlJjEwMjMpKTpkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpfXJldHVybiBkfWZ1bmN0aW9uIGdjKGIsYSxjKXt2b2lkIDA9PT1jJiYoYz0yMTQ3NDgzNjQ3KTtpZig0PmMpcmV0dXJuIDA7dmFyIGQ9YTtjPWQrYy00O2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7KytlKXt2YXIgZj1iLmNoYXJDb2RlQXQoZSk7aWYoNTUyOTY8PWYmJjU3MzQzPj1mKXt2YXIgaD1iLmNoYXJDb2RlQXQoKytlKTtmPTY1NTM2KygoZiYxMDIzKTw8MTApfGgmMTAyM31EYVthPj4yXT1mO2ErPTQ7aWYoYSs0PmMpYnJlYWt9RGFbYT4+Ml09MDtyZXR1cm4gYS1kfVxuZnVuY3Rpb24gaGMoYil7Zm9yKHZhciBhPTAsYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1iLmNoYXJDb2RlQXQoYyk7NTUyOTY8PWQmJjU3MzQzPj1kJiYrK2M7YSs9NH1yZXR1cm4gYX12YXIgaWM9e307ZnVuY3Rpb24gamMoYil7dmFyIGE9aWNbYl07cmV0dXJuIHZvaWQgMD09PWE/VChiKTphfXZhciBrYz1bXTtmdW5jdGlvbiBsYyhiKXt2YXIgYT1rYy5sZW5ndGg7a2MucHVzaChiKTtyZXR1cm4gYX1mdW5jdGlvbiBtYyhiLGEpe2Zvcih2YXIgYz1BcnJheShiKSxkPTA7ZDxiOysrZCljW2RdPWtiKE1bYSs0KmQ+PjJdLFwicGFyYW1ldGVyIFwiK2QpO3JldHVybiBjfXZhciBuYz1bXSxvYz1bbnVsbCxbXSxbXV07WmE9bS5CaW5kaW5nRXJyb3I9WWEoXCJCaW5kaW5nRXJyb3JcIik7bS5jb3VudF9lbXZhbF9oYW5kbGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPTAsYT01O2E8Ty5sZW5ndGg7KythKXZvaWQgMCE9PU9bYV0mJisrYjtyZXR1cm4gYn07XG5tLmdldF9maXJzdF9lbXZhbD1mdW5jdGlvbigpe2Zvcih2YXIgYj01O2I8Ty5sZW5ndGg7KytiKWlmKHZvaWQgMCE9PU9bYl0pcmV0dXJuIE9bYl07cmV0dXJuIG51bGx9O2FiPW0uUHVyZVZpcnR1YWxFcnJvcj1ZYShcIlB1cmVWaXJ0dWFsRXJyb3JcIik7Zm9yKHZhciBwYz1BcnJheSgyNTYpLHFjPTA7MjU2PnFjOysrcWMpcGNbcWNdPVN0cmluZy5mcm9tQ2hhckNvZGUocWMpO2JiPXBjO20uZ2V0SW5oZXJpdGVkSW5zdGFuY2VDb3VudD1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyhWKS5sZW5ndGh9O20uZ2V0TGl2ZUluaGVyaXRlZEluc3RhbmNlcz1mdW5jdGlvbigpe3ZhciBiPVtdLGE7Zm9yKGEgaW4gVilWLmhhc093blByb3BlcnR5KGEpJiZiLnB1c2goVlthXSk7cmV0dXJuIGJ9O20uZmx1c2hQZW5kaW5nRGVsZXRlcz1kYjttLnNldERlbGF5RnVuY3Rpb249ZnVuY3Rpb24oYil7ZWI9YjtjYi5sZW5ndGgmJmViJiZlYihkYil9O3ZiPW0uSW50ZXJuYWxFcnJvcj1ZYShcIkludGVybmFsRXJyb3JcIik7XG5HYi5wcm90b3R5cGUuaXNBbGlhc09mPWZ1bmN0aW9uKGIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIEdiJiZiIGluc3RhbmNlb2YgR2IpKXJldHVybiExO3ZhciBhPXRoaXMuVS5YLlYsYz10aGlzLlUuVyxkPWIuVS5YLlY7Zm9yKGI9Yi5VLlc7YS4kOyljPWEubmEoYyksYT1hLiQ7Zm9yKDtkLiQ7KWI9ZC5uYShiKSxkPWQuJDtyZXR1cm4gYT09PWQmJmM9PT1ifTtHYi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt0aGlzLlUuV3x8RmIodGhpcyk7aWYodGhpcy5VLm1hKXJldHVybiB0aGlzLlUuY291bnQudmFsdWUrPTEsdGhpczt2YXIgYj15YixhPU9iamVjdCxjPWEuY3JlYXRlLGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLGU9dGhpcy5VO2I9YihjLmNhbGwoYSxkLHtVOnt2YWx1ZTp7Y291bnQ6ZS5jb3VudCxrYTplLmthLG1hOmUubWEsVzplLlcsWDplLlgsYWE6ZS5hYSxkYTplLmRhfX19KSk7Yi5VLmNvdW50LnZhbHVlKz0xO2IuVS5rYT0hMTtyZXR1cm4gYn07XG5HYi5wcm90b3R5cGVbXCJkZWxldGVcIl09ZnVuY3Rpb24oKXt0aGlzLlUuV3x8RmIodGhpcyk7dGhpcy5VLmthJiYhdGhpcy5VLm1hJiZRKFwiT2JqZWN0IGFscmVhZHkgc2NoZWR1bGVkIGZvciBkZWxldGlvblwiKTtsYih0aGlzKTtuYih0aGlzLlUpO3RoaXMuVS5tYXx8KHRoaXMuVS5hYT12b2lkIDAsdGhpcy5VLlc9dm9pZCAwKX07R2IucHJvdG90eXBlLmlzRGVsZXRlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLlUuV307R2IucHJvdG90eXBlLmRlbGV0ZUxhdGVyPWZ1bmN0aW9uKCl7dGhpcy5VLld8fEZiKHRoaXMpO3RoaXMuVS5rYSYmIXRoaXMuVS5tYSYmUShcIk9iamVjdCBhbHJlYWR5IHNjaGVkdWxlZCBmb3IgZGVsZXRpb25cIik7Y2IucHVzaCh0aGlzKTsxPT09Y2IubGVuZ3RoJiZlYiYmZWIoZGIpO3RoaXMuVS5rYT0hMDtyZXR1cm4gdGhpc307UGIucHJvdG90eXBlLmhiPWZ1bmN0aW9uKGIpe3RoaXMuTmEmJihiPXRoaXMuTmEoYikpO3JldHVybiBifTtcblBiLnByb3RvdHlwZS5HYT1mdW5jdGlvbihiKXt0aGlzLmhhJiZ0aGlzLmhhKGIpfTtQYi5wcm90b3R5cGUuYXJnUGFja0FkdmFuY2U9ODtQYi5wcm90b3R5cGUucmVhZFZhbHVlRnJvbVBvaW50ZXI9QmI7UGIucHJvdG90eXBlLmRlbGV0ZU9iamVjdD1mdW5jdGlvbihiKXtpZihudWxsIT09YiliW1wiZGVsZXRlXCJdKCl9O1xuUGIucHJvdG90eXBlLmZyb21XaXJlVHlwZT1mdW5jdGlvbihiKXtmdW5jdGlvbiBhKCl7cmV0dXJuIHRoaXMucWE/eGIodGhpcy5WLmVhLHtYOnRoaXMuc2IsVzpjLGRhOnRoaXMsYWE6Yn0pOnhiKHRoaXMuVi5lYSx7WDp0aGlzLFc6Yn0pfXZhciBjPXRoaXMuaGIoYik7aWYoIWMpcmV0dXJuIHRoaXMuR2EoYiksbnVsbDt2YXIgZD11Yih0aGlzLlYsYyk7aWYodm9pZCAwIT09ZCl7aWYoMD09PWQuVS5jb3VudC52YWx1ZSlyZXR1cm4gZC5VLlc9YyxkLlUuYWE9YixkLmNsb25lKCk7ZD1kLmNsb25lKCk7dGhpcy5HYShiKTtyZXR1cm4gZH1kPXRoaXMuVi5nYihjKTtkPXRiW2RdO2lmKCFkKXJldHVybiBhLmNhbGwodGhpcyk7ZD10aGlzLnBhP2QuWGE6ZC5wb2ludGVyVHlwZTt2YXIgZT1vYihjLHRoaXMuVixkLlYpO3JldHVybiBudWxsPT09ZT9hLmNhbGwodGhpcyk6dGhpcy5xYT94YihkLlYuZWEse1g6ZCxXOmUsZGE6dGhpcyxhYTpifSk6eGIoZC5WLmVhLHtYOmQsVzplfSl9O1xuU2I9bS5VbmJvdW5kVHlwZUVycm9yPVlhKFwiVW5ib3VuZFR5cGVFcnJvclwiKTtcbnZhciBzYz17RzpmdW5jdGlvbihiLGEsYyl7Yj1UKGIpO2E9a2IoYSxcIndyYXBwZXJcIik7Yz0kYShjKTt2YXIgZD1bXS5zbGljZSxlPWEuVixmPWUuZWEsaD1lLiQuZWEsZz1lLiQuY29uc3RydWN0b3I7Yj1WYShiLGZ1bmN0aW9uKCl7ZS4kLk1hLmZvckVhY2goZnVuY3Rpb24oayl7aWYodGhpc1trXT09PWhba10pdGhyb3cgbmV3IGFiKFwiUHVyZSB2aXJ0dWFsIGZ1bmN0aW9uIFwiK2srXCIgbXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBKYXZhU2NyaXB0XCIpO30uYmluZCh0aGlzKSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfX3BhcmVudFwiLHt2YWx1ZTpmfSk7dGhpcy5fX2NvbnN0cnVjdC5hcHBseSh0aGlzLGQuY2FsbChhcmd1bWVudHMpKX0pO2YuX19jb25zdHJ1Y3Q9ZnVuY3Rpb24oKXt0aGlzPT09ZiYmUShcIlBhc3MgY29ycmVjdCAndGhpcycgdG8gX19jb25zdHJ1Y3RcIik7dmFyIGs9Zy5pbXBsZW1lbnQuYXBwbHkodm9pZCAwLFt0aGlzXS5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKTtcbmxiKGspO3ZhciBwPWsuVTtrLm5vdGlmeU9uRGVzdHJ1Y3Rpb24oKTtwLm1hPSEwO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse1U6e3ZhbHVlOnB9fSk7eWIodGhpcyk7az1wLlc7az1mYihlLGspO1YuaGFzT3duUHJvcGVydHkoayk/UShcIlRyaWVkIHRvIHJlZ2lzdGVyIHJlZ2lzdGVyZWQgaW5zdGFuY2U6IFwiK2spOlZba109dGhpc307Zi5fX2Rlc3RydWN0PWZ1bmN0aW9uKCl7dGhpcz09PWYmJlEoXCJQYXNzIGNvcnJlY3QgJ3RoaXMnIHRvIF9fZGVzdHJ1Y3RcIik7bGIodGhpcyk7dmFyIGs9dGhpcy5VLlc7az1mYihlLGspO1YuaGFzT3duUHJvcGVydHkoayk/ZGVsZXRlIFZba106UShcIlRyaWVkIHRvIHVucmVnaXN0ZXIgdW5yZWdpc3RlcmVkIGluc3RhbmNlOiBcIitrKX07Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShmKTtmb3IodmFyIGwgaW4gYyliLnByb3RvdHlwZVtsXT1jW2xdO3JldHVybiBTKGIpfSxKOmZ1bmN0aW9uKGIpe3ZhciBhPXpiW2JdO2RlbGV0ZSB6YltiXTtcbnZhciBjPWEueGEsZD1hLmhhLGU9YS5KYSxmPWUubWFwKGg9Pmgua2IpLmNvbmNhdChlLm1hcChoPT5oLnZiKSk7VyhbYl0sZixoPT57dmFyIGc9e307ZS5mb3JFYWNoKChsLGspPT57dmFyIHA9aFtrXSxyPWwuaWIsdD1sLmpiLHY9aFtrK2UubGVuZ3RoXSxxPWwudWIsRj1sLndiO2dbbC5lYl09e3JlYWQ6ST0+cC5mcm9tV2lyZVR5cGUocih0LEkpKSx3cml0ZTooSSx3KT0+e3ZhciB6PVtdO3EoRixJLHYudG9XaXJlVHlwZSh6LHcpKTtBYih6KX19fSk7cmV0dXJuW3tuYW1lOmEubmFtZSxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24obCl7dmFyIGs9e30scDtmb3IocCBpbiBnKWtbcF09Z1twXS5yZWFkKGwpO2QobCk7cmV0dXJuIGt9LHRvV2lyZVR5cGU6ZnVuY3Rpb24obCxrKXtmb3IodmFyIHAgaW4gZylpZighKHAgaW4gaykpdGhyb3cgbmV3IFR5cGVFcnJvcignTWlzc2luZyBmaWVsZDogIFwiJytwKydcIicpO3ZhciByPWMoKTtmb3IocCBpbiBnKWdbcF0ud3JpdGUocixrW3BdKTtudWxsIT09XG5sJiZsLnB1c2goZCxyKTtyZXR1cm4gcn0sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpCYixjYTpkfV19KX0sejpmdW5jdGlvbigpe30sRTpmdW5jdGlvbihiLGEsYyxkLGUpe3ZhciBmPUViKGMpO2E9VChhKTtZKGIse25hbWU6YSxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oaCl7cmV0dXJuISFofSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGgsZyl7cmV0dXJuIGc/ZDplfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOmZ1bmN0aW9uKGgpe2lmKDE9PT1jKXZhciBnPUFhO2Vsc2UgaWYoMj09PWMpZz1CYTtlbHNlIGlmKDQ9PT1jKWc9RGE7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBib29sZWFuIHR5cGUgc2l6ZTogXCIrYSk7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKGdbaD4+Zl0pfSxjYTpudWxsfSl9LGU6ZnVuY3Rpb24oYixhLGMsZCxlLGYsaCxnLGwsayxwLHIsdCl7cD1UKHApO2Y9WihlLGYpO2cmJihnPVooaCxnKSk7ayYmKGs9XG5aKGwsaykpO3Q9WihyLHQpO3ZhciB2PVVhKHApO0liKHYsZnVuY3Rpb24oKXtUYihcIkNhbm5vdCBjb25zdHJ1Y3QgXCIrcCtcIiBkdWUgdG8gdW5ib3VuZCB0eXBlc1wiLFtkXSl9KTtXKFtiLGEsY10sZD9bZF06W10sZnVuY3Rpb24ocSl7cT1xWzBdO2lmKGQpe3ZhciBGPXEuVjt2YXIgST1GLmVhfWVsc2UgST1HYi5wcm90b3R5cGU7cT1WYSh2LGZ1bmN0aW9uKCl7aWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpIT09dyl0aHJvdyBuZXcgWmEoXCJVc2UgJ25ldycgdG8gY29uc3RydWN0IFwiK3ApO2lmKHZvaWQgMD09PXouaWEpdGhyb3cgbmV3IFphKHArXCIgaGFzIG5vIGFjY2Vzc2libGUgY29uc3RydWN0b3JcIik7dmFyIFA9ei5pYVthcmd1bWVudHMubGVuZ3RoXTtpZih2b2lkIDA9PT1QKXRocm93IG5ldyBaYShcIlRyaWVkIHRvIGludm9rZSBjdG9yIG9mIFwiK3ArXCIgd2l0aCBpbnZhbGlkIG51bWJlciBvZiBwYXJhbWV0ZXJzIChcIithcmd1bWVudHMubGVuZ3RoK1wiKSAtIGV4cGVjdGVkIChcIitcbk9iamVjdC5rZXlzKHouaWEpLnRvU3RyaW5nKCkrXCIpIHBhcmFtZXRlcnMgaW5zdGVhZCFcIik7cmV0dXJuIFAuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7dmFyIHc9T2JqZWN0LmNyZWF0ZShJLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6cX19KTtxLnByb3RvdHlwZT13O3ZhciB6PW5ldyBKYihwLHEsdyx0LEYsZixnLGspO0Y9bmV3IFBiKHAseiwhMCwhMSk7ST1uZXcgUGIocCtcIipcIix6LCExLCExKTt2YXIgSj1uZXcgUGIocCtcIiBjb25zdCpcIix6LCExLCEwKTt0YltiXT17cG9pbnRlclR5cGU6SSxYYTpKfTtRYih2LHEpO3JldHVybltGLEksSl19KX0sazpmdW5jdGlvbihiLGEsYyxkLGUsZixoKXt2YXIgZz1WYihjLGQpO2E9VChhKTtmPVooZSxmKTtXKFtdLFtiXSxmdW5jdGlvbihsKXtmdW5jdGlvbiBrKCl7VGIoXCJDYW5ub3QgY2FsbCBcIitwK1wiIGR1ZSB0byB1bmJvdW5kIHR5cGVzXCIsZyl9bD1sWzBdO3ZhciBwPWwubmFtZStcIi5cIithO2Euc3RhcnRzV2l0aChcIkBAXCIpJiYoYT1TeW1ib2xbYS5zdWJzdHJpbmcoMildKTtcbnZhciByPWwuVi5jb25zdHJ1Y3Rvcjt2b2lkIDA9PT1yW2FdPyhrLmphPWMtMSxyW2FdPWspOihIYihyLGEscCksclthXS5ZW2MtMV09ayk7VyhbXSxnLGZ1bmN0aW9uKHQpe3Q9VWIocCxbdFswXSxudWxsXS5jb25jYXQodC5zbGljZSgxKSksbnVsbCxmLGgpO3ZvaWQgMD09PXJbYV0uWT8odC5qYT1jLTEsclthXT10KTpyW2FdLllbYy0xXT10O3JldHVybltdfSk7cmV0dXJuW119KX0sczpmdW5jdGlvbihiLGEsYyxkLGUsZixoLGcpe2E9VChhKTtmPVooZSxmKTtXKFtdLFtiXSxmdW5jdGlvbihsKXtsPWxbMF07dmFyIGs9bC5uYW1lK1wiLlwiK2EscD17Z2V0OmZ1bmN0aW9uKCl7VGIoXCJDYW5ub3QgYWNjZXNzIFwiK2srXCIgZHVlIHRvIHVuYm91bmQgdHlwZXNcIixbY10pfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH07cC5zZXQ9Zz8oKT0+e1RiKFwiQ2Fubm90IGFjY2VzcyBcIitrK1wiIGR1ZSB0byB1bmJvdW5kIHR5cGVzXCIsW2NdKX06KCk9PntRKGsrXCIgaXMgYSByZWFkLW9ubHkgcHJvcGVydHlcIil9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGwuVi5jb25zdHJ1Y3RvcixhLHApO1coW10sW2NdLGZ1bmN0aW9uKHIpe3I9clswXTt2YXIgdD17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZnJvbVdpcmVUeXBlKGYoZCkpfSxlbnVtZXJhYmxlOiEwfTtnJiYoZz1aKGgsZyksdC5zZXQ9dj0+e3ZhciBxPVtdO2coZCxyLnRvV2lyZVR5cGUocSx2KSk7QWIocSl9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkobC5WLmNvbnN0cnVjdG9yLGEsdCk7cmV0dXJuW119KTtyZXR1cm5bXX0pfSxvOmZ1bmN0aW9uKGIsYSxjLGQsZSxmKXswPGF8fHVhKCk7dmFyIGg9VmIoYSxjKTtlPVooZCxlKTtXKFtdLFtiXSxmdW5jdGlvbihnKXtnPWdbMF07dmFyIGw9XCJjb25zdHJ1Y3RvciBcIitnLm5hbWU7dm9pZCAwPT09Zy5WLmlhJiYoZy5WLmlhPVtdKTtpZih2b2lkIDAhPT1nLlYuaWFbYS0xXSl0aHJvdyBuZXcgWmEoXCJDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgY29uc3RydWN0b3JzIHdpdGggaWRlbnRpY2FsIG51bWJlciBvZiBwYXJhbWV0ZXJzIChcIitcbihhLTEpK1wiKSBmb3IgY2xhc3MgJ1wiK2cubmFtZStcIichIE92ZXJsb2FkIHJlc29sdXRpb24gaXMgY3VycmVudGx5IG9ubHkgcGVyZm9ybWVkIHVzaW5nIHRoZSBwYXJhbWV0ZXIgY291bnQsIG5vdCBhY3R1YWwgdHlwZSBpbmZvIVwiKTtnLlYuaWFbYS0xXT0oKT0+e1RiKFwiQ2Fubm90IGNvbnN0cnVjdCBcIitnLm5hbWUrXCIgZHVlIHRvIHVuYm91bmQgdHlwZXNcIixoKX07VyhbXSxoLGZ1bmN0aW9uKGspe2suc3BsaWNlKDEsMCxudWxsKTtnLlYuaWFbYS0xXT1VYihsLGssbnVsbCxlLGYpO3JldHVybltdfSk7cmV0dXJuW119KX0sYTpmdW5jdGlvbihiLGEsYyxkLGUsZixoLGcpe3ZhciBsPVZiKGMsZCk7YT1UKGEpO2Y9WihlLGYpO1coW10sW2JdLGZ1bmN0aW9uKGspe2Z1bmN0aW9uIHAoKXtUYihcIkNhbm5vdCBjYWxsIFwiK3IrXCIgZHVlIHRvIHVuYm91bmQgdHlwZXNcIixsKX1rPWtbMF07dmFyIHI9ay5uYW1lK1wiLlwiK2E7YS5zdGFydHNXaXRoKFwiQEBcIikmJihhPVN5bWJvbFthLnN1YnN0cmluZygyKV0pO1xuZyYmay5WLk1hLnB1c2goYSk7dmFyIHQ9ay5WLmVhLHY9dFthXTt2b2lkIDA9PT12fHx2b2lkIDA9PT12LlkmJnYuY2xhc3NOYW1lIT09ay5uYW1lJiZ2LmphPT09Yy0yPyhwLmphPWMtMixwLmNsYXNzTmFtZT1rLm5hbWUsdFthXT1wKTooSGIodCxhLHIpLHRbYV0uWVtjLTJdPXApO1coW10sbCxmdW5jdGlvbihxKXtxPVViKHIscSxrLGYsaCk7dm9pZCAwPT09dFthXS5ZPyhxLmphPWMtMix0W2FdPXEpOnRbYV0uWVtjLTJdPXE7cmV0dXJuW119KTtyZXR1cm5bXX0pfSxkOmZ1bmN0aW9uKGIsYSxjLGQsZSxmLGgsZyxsLGspe2E9VChhKTtlPVooZCxlKTtXKFtdLFtiXSxmdW5jdGlvbihwKXtwPXBbMF07dmFyIHI9cC5uYW1lK1wiLlwiK2EsdD17Z2V0OmZ1bmN0aW9uKCl7VGIoXCJDYW5ub3QgYWNjZXNzIFwiK3IrXCIgZHVlIHRvIHVuYm91bmQgdHlwZXNcIixbYyxoXSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTt0LnNldD1sPygpPT57VGIoXCJDYW5ub3QgYWNjZXNzIFwiK3IrXCIgZHVlIHRvIHVuYm91bmQgdHlwZXNcIixcbltjLGhdKX06KCk9PntRKHIrXCIgaXMgYSByZWFkLW9ubHkgcHJvcGVydHlcIil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShwLlYuZWEsYSx0KTtXKFtdLGw/W2MsaF06W2NdLGZ1bmN0aW9uKHYpe3ZhciBxPXZbMF0sRj17Z2V0OmZ1bmN0aW9uKCl7dmFyIHc9V2IodGhpcyxwLHIrXCIgZ2V0dGVyXCIpO3JldHVybiBxLmZyb21XaXJlVHlwZShlKGYsdykpfSxlbnVtZXJhYmxlOiEwfTtpZihsKXtsPVooZyxsKTt2YXIgST12WzFdO0Yuc2V0PWZ1bmN0aW9uKHcpe3ZhciB6PVdiKHRoaXMscCxyK1wiIHNldHRlclwiKSxKPVtdO2woayx6LEkudG9XaXJlVHlwZShKLHcpKTtBYihKKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHAuVi5lYSxhLEYpO3JldHVybltdfSk7cmV0dXJuW119KX0sRDpmdW5jdGlvbihiLGEpe2E9VChhKTtZKGIse25hbWU6YSxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oYyl7dmFyIGQ9JGEoYyk7WGIoYyk7cmV0dXJuIGR9LHRvV2lyZVR5cGU6ZnVuY3Rpb24oYyxkKXtyZXR1cm4gUyhkKX0sXG5hcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOkJiLGNhOm51bGx9KX0sbDpmdW5jdGlvbihiLGEsYyxkKXtmdW5jdGlvbiBlKCl7fWM9RWIoYyk7YT1UKGEpO2UudmFsdWVzPXt9O1koYix7bmFtZTphLGNvbnN0cnVjdG9yOmUsZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKGYpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnZhbHVlc1tmXX0sdG9XaXJlVHlwZTpmdW5jdGlvbihmLGgpe3JldHVybiBoLnZhbHVlfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOlpiKGEsYyxkKSxjYTpudWxsfSk7SWIoYSxlKX0sYzpmdW5jdGlvbihiLGEsYyl7dmFyIGQ9a2IoYixcImVudW1cIik7YT1UKGEpO2I9ZC5jb25zdHJ1Y3RvcjtkPU9iamVjdC5jcmVhdGUoZC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUse3ZhbHVlOnt2YWx1ZTpjfSxjb25zdHJ1Y3Rvcjp7dmFsdWU6VmEoZC5uYW1lK1wiX1wiK2EsZnVuY3Rpb24oKXt9KX19KTtiLnZhbHVlc1tjXT1kO2JbYV09ZH0sdTpmdW5jdGlvbihiLFxuYSxjKXtjPUViKGMpO2E9VChhKTtZKGIse25hbWU6YSxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oZCl7cmV0dXJuIGR9LHRvV2lyZVR5cGU6ZnVuY3Rpb24oZCxlKXtyZXR1cm4gZX0sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjokYihhLGMpLGNhOm51bGx9KX0scTpmdW5jdGlvbihiLGEsYyxkLGUsZil7dmFyIGg9VmIoYSxjKTtiPVQoYik7ZT1aKGQsZSk7SWIoYixmdW5jdGlvbigpe1RiKFwiQ2Fubm90IGNhbGwgXCIrYitcIiBkdWUgdG8gdW5ib3VuZCB0eXBlc1wiLGgpfSxhLTEpO1coW10saCxmdW5jdGlvbihnKXtRYihiLFViKGIsW2dbMF0sbnVsbF0uY29uY2F0KGcuc2xpY2UoMSkpLG51bGwsZSxmKSxhLTEpO3JldHVybltdfSl9LGo6ZnVuY3Rpb24oYixhLGMsZCxlKXthPVQoYSk7LTE9PT1lJiYoZT00Mjk0OTY3Mjk1KTtlPUViKGMpO3ZhciBmPWc9Pmc7aWYoMD09PWQpe3ZhciBoPTMyLTgqYztmPWc9Pmc8PGg+Pj5ofWM9YS5pbmNsdWRlcyhcInVuc2lnbmVkXCIpP1xuZnVuY3Rpb24oZyxsKXtyZXR1cm4gbD4+PjB9OmZ1bmN0aW9uKGcsbCl7cmV0dXJuIGx9O1koYix7bmFtZTphLGZyb21XaXJlVHlwZTpmLHRvV2lyZVR5cGU6YyxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOmFjKGEsZSwwIT09ZCksY2E6bnVsbH0pfSxnOmZ1bmN0aW9uKGIsYSxjKXtmdW5jdGlvbiBkKGYpe2Y+Pj0yO3ZhciBoPU07cmV0dXJuIG5ldyBlKHphLGhbZisxXSxoW2ZdKX12YXIgZT1bSW50OEFycmF5LFVpbnQ4QXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXldW2FdO2M9VChjKTtZKGIse25hbWU6Yyxmcm9tV2lyZVR5cGU6ZCxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOmR9LHtsYjohMH0pfSx2OmZ1bmN0aW9uKGIsYSl7YT1UKGEpO3ZhciBjPVwic3RkOjpzdHJpbmdcIj09PWE7WShiLHtuYW1lOmEsZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKGQpe3ZhciBlPVxuTVtkPj4yXSxmPWQrNDtpZihjKWZvcih2YXIgaD1mLGc9MDtnPD1lOysrZyl7dmFyIGw9ZitnO2lmKGc9PWV8fDA9PUhbbF0pe2g9aD95YShILGgsbC1oKTpcIlwiO2lmKHZvaWQgMD09PWspdmFyIGs9aDtlbHNlIGsrPVN0cmluZy5mcm9tQ2hhckNvZGUoMCksays9aDtoPWwrMX19ZWxzZXtrPUFycmF5KGUpO2ZvcihnPTA7ZzxlOysrZylrW2ddPVN0cmluZy5mcm9tQ2hhckNvZGUoSFtmK2ddKTtrPWsuam9pbihcIlwiKX1qYihkKTtyZXR1cm4ga30sdG9XaXJlVHlwZTpmdW5jdGlvbihkLGUpe2UgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGU9bmV3IFVpbnQ4QXJyYXkoZSkpO3ZhciBmLGg9XCJzdHJpbmdcIj09dHlwZW9mIGU7aHx8ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fGUgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheXx8ZSBpbnN0YW5jZW9mIEludDhBcnJheXx8UShcIkNhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gc3RkOjpzdHJpbmdcIik7aWYoYyYmaCl7dmFyIGc9MDtmb3IoZj1cbjA7ZjxlLmxlbmd0aDsrK2Ype3ZhciBsPWUuY2hhckNvZGVBdChmKTsxMjc+PWw/ZysrOjIwNDc+PWw/Zys9Mjo1NTI5Njw9bCYmNTczNDM+PWw/KGcrPTQsKytmKTpnKz0zfWY9Z31lbHNlIGY9ZS5sZW5ndGg7Zz1yYyg0K2YrMSk7bD1nKzQ7TVtnPj4yXT1mO2lmKGMmJmgpe2lmKGg9bCxsPWYrMSxmPUgsMDxsKXtsPWgrbC0xO2Zvcih2YXIgaz0wO2s8ZS5sZW5ndGg7KytrKXt2YXIgcD1lLmNoYXJDb2RlQXQoayk7aWYoNTUyOTY8PXAmJjU3MzQzPj1wKXt2YXIgcj1lLmNoYXJDb2RlQXQoKytrKTtwPTY1NTM2KygocCYxMDIzKTw8MTApfHImMTAyM31pZigxMjc+PXApe2lmKGg+PWwpYnJlYWs7ZltoKytdPXB9ZWxzZXtpZigyMDQ3Pj1wKXtpZihoKzE+PWwpYnJlYWs7ZltoKytdPTE5MnxwPj42fWVsc2V7aWYoNjU1MzU+PXApe2lmKGgrMj49bClicmVhaztmW2grK109MjI0fHA+PjEyfWVsc2V7aWYoaCszPj1sKWJyZWFrO2ZbaCsrXT0yNDB8cD4+MTg7ZltoKytdPTEyOHxwPj4xMiZcbjYzfWZbaCsrXT0xMjh8cD4+NiY2M31mW2grK109MTI4fHAmNjN9fWZbaF09MH19ZWxzZSBpZihoKWZvcihoPTA7aDxmOysraClrPWUuY2hhckNvZGVBdChoKSwyNTU8ayYmKGpiKGwpLFEoXCJTdHJpbmcgaGFzIFVURi0xNiBjb2RlIHVuaXRzIHRoYXQgZG8gbm90IGZpdCBpbiA4IGJpdHNcIikpLEhbbCtoXT1rO2Vsc2UgZm9yKGg9MDtoPGY7KytoKUhbbCtoXT1lW2hdO251bGwhPT1kJiZkLnB1c2goamIsZyk7cmV0dXJuIGd9LGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6QmIsY2E6ZnVuY3Rpb24oZCl7amIoZCl9fSl9LHQ6ZnVuY3Rpb24oYixhLGMpe2M9VChjKTtpZigyPT09YSl7dmFyIGQ9Y2M7dmFyIGU9ZGM7dmFyIGY9ZWM7dmFyIGg9KCk9PkNhO3ZhciBnPTF9ZWxzZSA0PT09YSYmKGQ9ZmMsZT1nYyxmPWhjLGg9KCk9Pk0sZz0yKTtZKGIse25hbWU6Yyxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24obCl7Zm9yKHZhciBrPU1bbD4+Ml0scD1oKCkscix0PWwrNCx2PVxuMDt2PD1rOysrdil7dmFyIHE9bCs0K3YqYTtpZih2PT1rfHwwPT1wW3E+PmddKXQ9ZCh0LHEtdCksdm9pZCAwPT09cj9yPXQ6KHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoMCkscis9dCksdD1xK2F9amIobCk7cmV0dXJuIHJ9LHRvV2lyZVR5cGU6ZnVuY3Rpb24obCxrKXtcInN0cmluZ1wiIT10eXBlb2YgayYmUShcIkNhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gQysrIHN0cmluZyB0eXBlIFwiK2MpO3ZhciBwPWYoaykscj1yYyg0K3ArYSk7TVtyPj4yXT1wPj5nO2UoayxyKzQscCthKTtudWxsIT09bCYmbC5wdXNoKGpiLHIpO3JldHVybiByfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOkJiLGNhOmZ1bmN0aW9uKGwpe2piKGwpfX0pfSxMOmZ1bmN0aW9uKGIsYSxjLGQsZSxmKXt6YltiXT17bmFtZTpUKGEpLHhhOlooYyxkKSxoYTpaKGUsZiksSmE6W119fSxLOmZ1bmN0aW9uKGIsYSxjLGQsZSxmLGgsZyxsLGspe3piW2JdLkphLnB1c2goe2ViOlQoYSksa2I6YyxpYjpaKGQsXG5lKSxqYjpmLHZiOmgsdWI6WihnLGwpLHdiOmt9KX0sRjpmdW5jdGlvbihiLGEpe2E9VChhKTtZKGIse25iOiEwLG5hbWU6YSxhcmdQYWNrQWR2YW5jZTowLGZyb21XaXJlVHlwZTpmdW5jdGlvbigpe30sdG9XaXJlVHlwZTpmdW5jdGlvbigpe319KX0scjpmdW5jdGlvbihiLGEsYyl7Yj0kYShiKTthPWtiKGEsXCJlbXZhbDo6YXNcIik7dmFyIGQ9W10sZT1TKGQpO01bYz4+Ml09ZTtyZXR1cm4gYS50b1dpcmVUeXBlKGQsYil9LHc6ZnVuY3Rpb24oYixhLGMsZCxlKXtiPWtjW2JdO2E9JGEoYSk7Yz1qYyhjKTt2YXIgZj1bXTtNW2Q+PjJdPVMoZik7cmV0dXJuIGIoYSxjLGYsZSl9LGk6ZnVuY3Rpb24oYixhLGMsZCl7Yj1rY1tiXTthPSRhKGEpO2M9amMoYyk7YihhLGMsbnVsbCxkKX0sZjpYYixoOmZ1bmN0aW9uKGIsYSl7dmFyIGM9bWMoYixhKSxkPWNbMF07YT1kLm5hbWUrXCJfJFwiK2Muc2xpY2UoMSkubWFwKGZ1bmN0aW9uKGgpe3JldHVybiBoLm5hbWV9KS5qb2luKFwiX1wiKStcIiRcIjt2YXIgZT1cbm5jW2FdO2lmKHZvaWQgMCE9PWUpcmV0dXJuIGU7dmFyIGY9QXJyYXkoYi0xKTtlPWxjKChoLGcsbCxrKT0+e2Zvcih2YXIgcD0wLHI9MDtyPGItMTsrK3IpZltyXT1jW3IrMV0ucmVhZFZhbHVlRnJvbVBvaW50ZXIoaytwKSxwKz1jW3IrMV0uYXJnUGFja0FkdmFuY2U7aD1oW2ddLmFwcGx5KGgsZik7Zm9yKHI9MDtyPGItMTsrK3IpY1tyKzFdLlphJiZjW3IrMV0uWmEoZltyXSk7aWYoIWQubmIpcmV0dXJuIGQudG9XaXJlVHlwZShsLGgpfSk7cmV0dXJuIG5jW2FdPWV9LHA6ZnVuY3Rpb24oYil7Yj1qYyhiKTtyZXR1cm4gUyhtW2JdKX0sSTpmdW5jdGlvbihiLGEpe2I9JGEoYik7YT0kYShhKTtyZXR1cm4gUyhiW2FdKX0sbTpmdW5jdGlvbihiKXs0PGImJihPW2JdLnlhKz0xKX0sSDpmdW5jdGlvbihiKXtyZXR1cm4gUyhqYyhiKSl9LG46ZnVuY3Rpb24oYil7dmFyIGE9JGEoYik7QWIoYSk7WGIoYil9LHg6ZnVuY3Rpb24oYixhKXtiPWtiKGIsXCJfZW12YWxfdGFrZV92YWx1ZVwiKTtiPVxuYi5yZWFkVmFsdWVGcm9tUG9pbnRlcihhKTtyZXR1cm4gUyhiKX0sYjpmdW5jdGlvbigpe3VhKFwiXCIpfSxBOmZ1bmN0aW9uKGIpe3ZhciBhPUgubGVuZ3RoO2I+Pj49MDtpZigyMTQ3NDgzNjQ4PGIpcmV0dXJuITE7Zm9yKHZhciBjPTE7ND49YztjKj0yKXt2YXIgZD1hKigxKy4yL2MpO2Q9TWF0aC5taW4oZCxiKzEwMDY2MzI5Nik7dmFyIGU9TWF0aDtkPU1hdGgubWF4KGIsZCk7ZT1lLm1pbi5jYWxsKGUsMjE0NzQ4MzY0OCxkKyg2NTUzNi1kJTY1NTM2KSU2NTUzNik7YTp7dHJ5e3ZhLmdyb3coZS16YS5ieXRlTGVuZ3RoKzY1NTM1Pj4+MTYpO0dhKCk7dmFyIGY9MTticmVhayBhfWNhdGNoKGgpe31mPXZvaWQgMH1pZihmKXJldHVybiEwfXJldHVybiExfSxDOmZ1bmN0aW9uKCl7cmV0dXJuIDUyfSx5OmZ1bmN0aW9uKCl7cmV0dXJuIDcwfSxCOmZ1bmN0aW9uKGIsYSxjLGQpe2Zvcih2YXIgZT0wLGY9MDtmPGM7ZisrKXt2YXIgaD1NW2E+PjJdLGc9TVthKzQ+PjJdO2ErPTg7Zm9yKHZhciBsPVxuMDtsPGc7bCsrKXt2YXIgaz1IW2grbF0scD1vY1tiXTswPT09a3x8MTA9PT1rPygoMT09PWI/cGE6cWEpKHlhKHAsMCkpLHAubGVuZ3RoPTApOnAucHVzaChrKX1lKz1nfU1bZD4+Ml09ZTtyZXR1cm4gMH19O1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihlKXttLmFzbT1lLmV4cG9ydHM7dmE9bS5hc20uTTtHYSgpO0hhPW0uYXNtLlM7SmEudW5zaGlmdChtLmFzbS5OKTtNYS0tO20ubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmbS5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKE1hKTswPT1NYSYmKG51bGwhPT1OYSYmKGNsZWFySW50ZXJ2YWwoTmEpLE5hPW51bGwpLE9hJiYoZT1PYSxPYT1udWxsLGUoKSkpfWZ1bmN0aW9uIGEoZSl7YihlLmluc3RhbmNlKX1mdW5jdGlvbiBjKGUpe3JldHVybiBTYSgpLnRoZW4oZnVuY3Rpb24oZil7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGYsZCl9KS50aGVuKGZ1bmN0aW9uKGYpe3JldHVybiBmfSkudGhlbihlLGZ1bmN0aW9uKGYpe3FhKFwiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogXCIrZik7dWEoZil9KX12YXIgZD17YTpzY307TWErKzttLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJm0ubW9uaXRvclJ1bkRlcGVuZGVuY2llcyhNYSk7XG5pZihtLmluc3RhbnRpYXRlV2FzbSl0cnl7cmV0dXJuIG0uaW5zdGFudGlhdGVXYXNtKGQsYil9Y2F0Y2goZSl7cWEoXCJNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiBcIitlKSxiYShlKX0oZnVuY3Rpb24oKXtyZXR1cm4gcmF8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nfHxQYSgpfHxOLnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBmZXRjaD9jKGEpOmZldGNoKE4se2NyZWRlbnRpYWxzOlwic2FtZS1vcmlnaW5cIn0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKGUsZCkudGhlbihhLGZ1bmN0aW9uKGYpe3FhKFwid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6IFwiK2YpO3FhKFwiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb25cIik7cmV0dXJuIGMoYSl9KX0pfSkoKS5jYXRjaChiYSk7XG5yZXR1cm57fX0pKCk7bS5fX193YXNtX2NhbGxfY3RvcnM9ZnVuY3Rpb24oKXtyZXR1cm4obS5fX193YXNtX2NhbGxfY3RvcnM9bS5hc20uTikuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgamI9bS5fZnJlZT1mdW5jdGlvbigpe3JldHVybihqYj1tLl9mcmVlPW0uYXNtLk8pLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scmM9bS5fbWFsbG9jPWZ1bmN0aW9uKCl7cmV0dXJuKHJjPW0uX21hbGxvYz1tLmFzbS5QKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGliPW0uX19fZ2V0VHlwZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4oaWI9bS5fX19nZXRUeXBlTmFtZT1tLmFzbS5RKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O20uX19lbWJpbmRfaW5pdGlhbGl6ZV9iaW5kaW5ncz1mdW5jdGlvbigpe3JldHVybihtLl9fZW1iaW5kX2luaXRpYWxpemVfYmluZGluZ3M9bS5hc20uUikuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtcbm0uZHluQ2FsbF9qaWppPWZ1bmN0aW9uKCl7cmV0dXJuKG0uZHluQ2FsbF9qaWppPW0uYXNtLlQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07dmFyIHRjO09hPWZ1bmN0aW9uIHVjKCl7dGN8fHZjKCk7dGN8fChPYT11Yyl9O1xuZnVuY3Rpb24gdmMoKXtmdW5jdGlvbiBiKCl7aWYoIXRjJiYodGM9ITAsbS5jYWxsZWRSdW49ITAsIXdhKSl7VGEoSmEpO2FhKG0pO2lmKG0ub25SdW50aW1lSW5pdGlhbGl6ZWQpbS5vblJ1bnRpbWVJbml0aWFsaXplZCgpO2lmKG0ucG9zdFJ1bilmb3IoXCJmdW5jdGlvblwiPT10eXBlb2YgbS5wb3N0UnVuJiYobS5wb3N0UnVuPVttLnBvc3RSdW5dKTttLnBvc3RSdW4ubGVuZ3RoOyl7dmFyIGE9bS5wb3N0UnVuLnNoaWZ0KCk7S2EudW5zaGlmdChhKX1UYShLYSl9fWlmKCEoMDxNYSkpe2lmKG0ucHJlUnVuKWZvcihcImZ1bmN0aW9uXCI9PXR5cGVvZiBtLnByZVJ1biYmKG0ucHJlUnVuPVttLnByZVJ1bl0pO20ucHJlUnVuLmxlbmd0aDspTGEoKTtUYShJYSk7MDxNYXx8KG0uc2V0U3RhdHVzPyhtLnNldFN0YXR1cyhcIlJ1bm5pbmcuLi5cIiksc2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXttLnNldFN0YXR1cyhcIlwiKX0sMSk7YigpfSwxKSk6YigpKX19XG5pZihtLnByZUluaXQpZm9yKFwiZnVuY3Rpb25cIj09dHlwZW9mIG0ucHJlSW5pdCYmKG0ucHJlSW5pdD1bbS5wcmVJbml0XSk7MDxtLnByZUluaXQubGVuZ3RoOyltLnByZUluaXQucG9wKCkoKTt2YygpO1xuXG5cbiAgcmV0dXJuIFJpdmUucmVhZHlcbn1cbik7XG59KSgpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBjb25zdCBfX1dFQlBBQ0tfREVGQVVMVF9FWFBPUlRfXyA9IChSaXZlKTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoKG1vZHVsZSkgPT4ge1xuXG5tb2R1bGUuZXhwb3J0cyA9IEpTT04ucGFyc2UoJ3tcIm5hbWVcIjpcIkByaXZlLWFwcC9jYW52YXNcIixcInZlcnNpb25cIjpcIjEuMi4wXCIsXCJkZXNjcmlwdGlvblwiOlwiUml2ZVxcJ3MgY2FudmFzIGJhc2VkIHdlYiBhcGkuXCIsXCJtYWluXCI6XCJyaXZlLmpzXCIsXCJob21lcGFnZVwiOlwiaHR0cHM6Ly9yaXZlLmFwcFwiLFwicmVwb3NpdG9yeVwiOntcInR5cGVcIjpcImdpdFwiLFwidXJsXCI6XCJodHRwczovL2dpdGh1Yi5jb20vcml2ZS1hcHAvcml2ZS13YXNtL3RyZWUvbWFzdGVyL2pzXCJ9LFwia2V5d29yZHNcIjpbXCJyaXZlXCIsXCJhbmltYXRpb25cIl0sXCJhdXRob3JcIjpcIlJpdmVcIixcImNvbnRyaWJ1dG9yc1wiOltcIkx1aWdpIFJvc3NvIDxsdWlnaUByaXZlLmFwcD4gKGh0dHBzOi8vcml2ZS5hcHApXCIsXCJNYXh3ZWxsIFRhbGJvdCA8bWF4QHJpdmUuYXBwPiAoaHR0cHM6Ly9yaXZlLmFwcClcIixcIkFydGh1ciBWaXZpYW4gPGFydGh1ckByaXZlLmFwcD4gKGh0dHBzOi8vcml2ZS5hcHApXCIsXCJVbWJlcnRvIFNvbm5pbm8gPHVtYmVydG9Acml2ZS5hcHA+IChodHRwczovL3JpdmUuYXBwKVwiLFwiTWF0dGhldyBTdWxsaXZhbiA8bWF0dC5qLnN1bGxpdmFuQGdtYWlsLmNvbT4gKG1haWx0bzptYXR0Lmouc3VsbGl2YW5AZ21haWwuY29tKVwiXSxcImxpY2Vuc2VcIjpcIk1JVFwiLFwiZmlsZXNcIjpbXCJyaXZlLmpzXCIsXCJyaXZlLmpzLm1hcFwiLFwicml2ZS53YXNtXCIsXCJyaXZlLmQudHNcIixcInJpdmVfYWR2YW5jZWQubWpzLmQudHNcIl0sXCJ0eXBpbmdzXCI6XCJyaXZlLmQudHNcIixcImRlcGVuZGVuY2llc1wiOnt9LFwiYnJvd3NlclwiOntcImZzXCI6ZmFsc2UsXCJwYXRoXCI6ZmFsc2V9fScpO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovICgoX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pID0+IHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIHtcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgXCJyZWdpc3RlclRvdWNoSW50ZXJhY3Rpb25zXCI6ICgpID0+ICgvKiByZWV4cG9ydCBzYWZlICovIF9yZWdpc3RlclRvdWNoSW50ZXJhY3Rpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18ucmVnaXN0ZXJUb3VjaEludGVyYWN0aW9ucylcbi8qIGhhcm1vbnkgZXhwb3J0ICovIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZWdpc3RlclRvdWNoSW50ZXJhY3Rpb25zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSA9PiB7XG5cbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0ICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCB7XG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFwicmVnaXN0ZXJUb3VjaEludGVyYWN0aW9uc1wiOiAoKSA9PiAoLyogYmluZGluZyAqLyByZWdpc3RlclRvdWNoSW50ZXJhY3Rpb25zKVxuLyogaGFybW9ueSBleHBvcnQgKi8gfSk7XG52YXIgX3RoaXMgPSB1bmRlZmluZWQ7XG4vKipcbiAqIFJldHVybnMgdGhlIGNsaWVudFggYW5kIGNsaWVudFkgcHJvcGVydGllcyBmcm9tIHRvdWNoIG9yIG1vdXNlIGV2ZW50cy4gQWxzb1xuICogY2FsbHMgcHJldmVudERlZmF1bHQoKSBvbiB0aGUgZXZlbnQgaWYgaXQgaXMgYSB0b3VjaHN0YXJ0IG9yIHRvdWNobW92ZSB0byBwcmV2ZW50XG4gKiBzY3JvbGxpbmcgdGhlIHBhZ2Ugb24gbW9iaWxlIGRldmljZXNcbiAqIEBwYXJhbSBldmVudCAtIEVpdGhlciBhIFRvdWNoRXZlbnQgb3IgYSBNb3VzZUV2ZW50XG4gKiBAcmV0dXJucyAtIENvb3JkaW5hdGVzIG9mIHRoZSBjbGllbnRYIGFuZCBjbGllbnRZIHByb3BlcnRpZXMgZnJvbSB0aGUgdG91Y2gvbW91c2UgZXZlbnRcbiAqL1xudmFyIGdldENsaWVudENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAoW1widG91Y2hzdGFydFwiLCBcInRvdWNobW92ZVwiXS5pbmRleE9mKGV2ZW50LnR5cGUpID4gLTEgJiZcbiAgICAgICAgKChfYSA9IGV2ZW50LnRvdWNoZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjbGllbnRYOiBldmVudC50b3VjaGVzWzBdLmNsaWVudFgsXG4gICAgICAgICAgICBjbGllbnRZOiBldmVudC50b3VjaGVzWzBdLmNsaWVudFksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IFwidG91Y2hlbmRcIiAmJlxuICAgICAgICAoKF9iID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjbGllbnRYOiBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgY2xpZW50WTogZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjbGllbnRYOiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgY2xpZW50WTogZXZlbnQuY2xpZW50WSxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBSZWdpc3RlcnMgbW91c2UgbW92ZS91cC9kb3duIGNhbGxiYWNrIGhhbmRsZXJzIG9uIHRoZSBjYW52YXMgdG8gc2VuZCBtZWFuaW5nZnVsIGNvb3JkaW5hdGVzIHRvXG4gKiB0aGUgc3RhdGUgbWFjaGluZSBwb2ludGVyIG1vdmUvdXAvZG93biBmdW5jdGlvbnMgYmFzZWQgb24gY3Vyc29yIGludGVyYWN0aW9uXG4gKi9cbnZhciByZWdpc3RlclRvdWNoSW50ZXJhY3Rpb25zID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNhbnZhcyA9IF9hLmNhbnZhcywgYXJ0Ym9hcmQgPSBfYS5hcnRib2FyZCwgX2IgPSBfYS5zdGF0ZU1hY2hpbmVzLCBzdGF0ZU1hY2hpbmVzID0gX2IgPT09IHZvaWQgMCA/IFtdIDogX2IsIHJlbmRlcmVyID0gX2EucmVuZGVyZXIsIHJpdmUgPSBfYS5yaXZlLCBmaXQgPSBfYS5maXQsIGFsaWdubWVudCA9IF9hLmFsaWdubWVudDtcbiAgICBpZiAoIWNhbnZhcyB8fFxuICAgICAgICAhc3RhdGVNYWNoaW5lcy5sZW5ndGggfHxcbiAgICAgICAgIXJlbmRlcmVyIHx8XG4gICAgICAgICFyaXZlIHx8XG4gICAgICAgICFhcnRib2FyZCB8fFxuICAgICAgICB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgcHJvY2Vzc0V2ZW50Q2FsbGJhY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGJvdW5kaW5nUmVjdCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBfYSA9IGdldENsaWVudENvb3JkaW5hdGVzKGV2ZW50KSwgY2xpZW50WCA9IF9hLmNsaWVudFgsIGNsaWVudFkgPSBfYS5jbGllbnRZO1xuICAgICAgICBpZiAoIWNsaWVudFggJiYgIWNsaWVudFkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FudmFzWCA9IGNsaWVudFggLSBib3VuZGluZ1JlY3QubGVmdDtcbiAgICAgICAgdmFyIGNhbnZhc1kgPSBjbGllbnRZIC0gYm91bmRpbmdSZWN0LnRvcDtcbiAgICAgICAgdmFyIGZvcndhcmRNYXRyaXggPSByaXZlLmNvbXB1dGVBbGlnbm1lbnQoZml0LCBhbGlnbm1lbnQsIHtcbiAgICAgICAgICAgIG1pblg6IDAsXG4gICAgICAgICAgICBtaW5ZOiAwLFxuICAgICAgICAgICAgbWF4WDogYm91bmRpbmdSZWN0LndpZHRoLFxuICAgICAgICAgICAgbWF4WTogYm91bmRpbmdSZWN0LmhlaWdodCxcbiAgICAgICAgfSwgYXJ0Ym9hcmQuYm91bmRzKTtcbiAgICAgICAgdmFyIGludmVydGVkTWF0cml4ID0gbmV3IHJpdmUuTWF0MkQoKTtcbiAgICAgICAgZm9yd2FyZE1hdHJpeC5pbnZlcnQoaW52ZXJ0ZWRNYXRyaXgpO1xuICAgICAgICB2YXIgY2FudmFzQ29vcmRpbmF0ZXNWZWN0b3IgPSBuZXcgcml2ZS5WZWMyRChjYW52YXNYLCBjYW52YXNZKTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybWVkVmVjdG9yID0gcml2ZS5tYXBYWShpbnZlcnRlZE1hdHJpeCwgY2FudmFzQ29vcmRpbmF0ZXNWZWN0b3IpO1xuICAgICAgICB2YXIgdHJhbnNmb3JtZWRYID0gdHJhbnNmb3JtZWRWZWN0b3IueCgpO1xuICAgICAgICB2YXIgdHJhbnNmb3JtZWRZID0gdHJhbnNmb3JtZWRWZWN0b3IueSgpO1xuICAgICAgICB0cmFuc2Zvcm1lZFZlY3Rvci5kZWxldGUoKTtcbiAgICAgICAgaW52ZXJ0ZWRNYXRyaXguZGVsZXRlKCk7XG4gICAgICAgIGNhbnZhc0Nvb3JkaW5hdGVzVmVjdG9yLmRlbGV0ZSgpO1xuICAgICAgICBmb3J3YXJkTWF0cml4LmRlbGV0ZSgpO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIC8vIFBvaW50ZXIgbW92aW5nL2hvdmVyaW5nIG9uIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGNhc2UgXCJ0b3VjaG1vdmVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZW92ZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZW91dFwiOlxuICAgICAgICAgICAgY2FzZSBcIm1vdXNlbW92ZVwiOiB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBzdGF0ZU1hY2hpbmVzXzEgPSBzdGF0ZU1hY2hpbmVzOyBfaSA8IHN0YXRlTWFjaGluZXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlTWFjaGluZSA9IHN0YXRlTWFjaGluZXNfMVtfaV07XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlTWFjaGluZS5wb2ludGVyTW92ZSh0cmFuc2Zvcm1lZFgsIHRyYW5zZm9ybWVkWSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUG9pbnRlciBjbGljayBpbml0aWF0ZWQgYnV0IG5vdCByZWxlYXNlZCB5ZXQgb24gdGhlIGNhbnZhc1xuICAgICAgICAgICAgY2FzZSBcInRvdWNoc3RhcnRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjoge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgc3RhdGVNYWNoaW5lc18yID0gc3RhdGVNYWNoaW5lczsgX2IgPCBzdGF0ZU1hY2hpbmVzXzIubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZU1hY2hpbmUgPSBzdGF0ZU1hY2hpbmVzXzJbX2JdO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZU1hY2hpbmUucG9pbnRlckRvd24odHJhbnNmb3JtZWRYLCB0cmFuc2Zvcm1lZFkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBvaW50ZXIgY2xpY2sgcmVsZWFzZWQgb24gdGhlIGNhbnZhc1xuICAgICAgICAgICAgY2FzZSBcInRvdWNoZW5kXCI6XG4gICAgICAgICAgICBjYXNlIFwibW91c2V1cFwiOiB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSAwLCBzdGF0ZU1hY2hpbmVzXzMgPSBzdGF0ZU1hY2hpbmVzOyBfYyA8IHN0YXRlTWFjaGluZXNfMy5sZW5ndGg7IF9jKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlTWFjaGluZSA9IHN0YXRlTWFjaGluZXNfM1tfY107XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlTWFjaGluZS5wb2ludGVyVXAodHJhbnNmb3JtZWRYLCB0cmFuc2Zvcm1lZFkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBjYWxsYmFjayA9IHByb2Nlc3NFdmVudENhbGxiYWNrLmJpbmQoX3RoaXMpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGNhbGxiYWNrKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIGNhbGxiYWNrKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBjYWxsYmFjayk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgY2FsbGJhY2spO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBjYWxsYmFjayk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgY2FsbGJhY2spO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBjYWxsYmFjayk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgY2FsbGJhY2spO1xuICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIGNhbGxiYWNrKTtcbiAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgY2FsbGJhY2spO1xuICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBjYWxsYmFjayk7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBjYWxsYmFjayk7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIGNhbGxiYWNrKTtcbiAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGNhbGxiYWNrKTtcbiAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBjYWxsYmFjayk7XG4gICAgfTtcbn07XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIFx0XSk7XG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcbi8qKioqKiovIFx0XHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcbi8qKioqKiovIFx0XHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi8gXHRcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyBcdC8qIHdlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyAqL1xuLyoqKioqKi8gXHQoKCkgPT4ge1xuLyoqKioqKi8gXHRcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuLyoqKioqKi8gXHRcdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHR9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovIFx0fSkoKTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdC8qIHdlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQgKi9cbi8qKioqKiovIFx0KCgpID0+IHtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpXG4vKioqKioqLyBcdH0pKCk7XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvKiB3ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0ICovXG4vKioqKioqLyBcdCgoKSA9PiB7XG4vKioqKioqLyBcdFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG4vKioqKioqLyBcdFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbi8qKioqKiovIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdH0pKCk7XG4vKioqKioqLyBcdFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0ge307XG4vLyBUaGlzIGVudHJ5IG5lZWQgdG8gYmUgd3JhcHBlZCBpbiBhbiBJSUZFIGJlY2F1c2UgaXQgbmVlZCB0byBiZSBpc29sYXRlZCBhZ2FpbnN0IG90aGVyIG1vZHVsZXMgaW4gdGhlIGNodW5rLlxuKCgpID0+IHtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0ICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCB7XG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFwiRml0XCI6ICgpID0+ICgvKiBiaW5kaW5nICovIEZpdCksXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFwiQWxpZ25tZW50XCI6ICgpID0+ICgvKiBiaW5kaW5nICovIEFsaWdubWVudCksXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFwiTGF5b3V0XCI6ICgpID0+ICgvKiBiaW5kaW5nICovIExheW91dCksXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFwiUnVudGltZUxvYWRlclwiOiAoKSA9PiAoLyogYmluZGluZyAqLyBSdW50aW1lTG9hZGVyKSxcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgXCJTdGF0ZU1hY2hpbmVJbnB1dFR5cGVcIjogKCkgPT4gKC8qIGJpbmRpbmcgKi8gU3RhdGVNYWNoaW5lSW5wdXRUeXBlKSxcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgXCJTdGF0ZU1hY2hpbmVJbnB1dFwiOiAoKSA9PiAoLyogYmluZGluZyAqLyBTdGF0ZU1hY2hpbmVJbnB1dCksXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFwiRXZlbnRUeXBlXCI6ICgpID0+ICgvKiBiaW5kaW5nICovIEV2ZW50VHlwZSksXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFwiTG9vcFR5cGVcIjogKCkgPT4gKC8qIGJpbmRpbmcgKi8gTG9vcFR5cGUpLFxuLyogaGFybW9ueSBleHBvcnQgKi8gICBcIlJpdmVcIjogKCkgPT4gKC8qIGJpbmRpbmcgKi8gUml2ZSksXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFwiVGVzdGluZ1wiOiAoKSA9PiAoLyogYmluZGluZyAqLyBUZXN0aW5nKVxuLyogaGFybW9ueSBleHBvcnQgKi8gfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3JpdmVfYWR2YW5jZWRfbWpzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIHBhY2thZ2VfanNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgX19hd2FpdGVyID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5cblxuXG4vLyAjcmVnaW9uIGxheW91dFxuLy8gRml0IG9wdGlvbnMgZm9yIHRoZSBjYW52YXNcbnZhciBGaXQ7XG4oZnVuY3Rpb24gKEZpdCkge1xuICAgIEZpdFtcIkNvdmVyXCJdID0gXCJjb3ZlclwiO1xuICAgIEZpdFtcIkNvbnRhaW5cIl0gPSBcImNvbnRhaW5cIjtcbiAgICBGaXRbXCJGaWxsXCJdID0gXCJmaWxsXCI7XG4gICAgRml0W1wiRml0V2lkdGhcIl0gPSBcImZpdFdpZHRoXCI7XG4gICAgRml0W1wiRml0SGVpZ2h0XCJdID0gXCJmaXRIZWlnaHRcIjtcbiAgICBGaXRbXCJOb25lXCJdID0gXCJub25lXCI7XG4gICAgRml0W1wiU2NhbGVEb3duXCJdID0gXCJzY2FsZURvd25cIjtcbn0pKEZpdCB8fCAoRml0ID0ge30pKTtcbi8vIEFsaWdubWVudCBvcHRpb25zIGZvciB0aGUgY2FudmFzXG52YXIgQWxpZ25tZW50O1xuKGZ1bmN0aW9uIChBbGlnbm1lbnQpIHtcbiAgICBBbGlnbm1lbnRbXCJDZW50ZXJcIl0gPSBcImNlbnRlclwiO1xuICAgIEFsaWdubWVudFtcIlRvcExlZnRcIl0gPSBcInRvcExlZnRcIjtcbiAgICBBbGlnbm1lbnRbXCJUb3BDZW50ZXJcIl0gPSBcInRvcENlbnRlclwiO1xuICAgIEFsaWdubWVudFtcIlRvcFJpZ2h0XCJdID0gXCJ0b3BSaWdodFwiO1xuICAgIEFsaWdubWVudFtcIkNlbnRlckxlZnRcIl0gPSBcImNlbnRlckxlZnRcIjtcbiAgICBBbGlnbm1lbnRbXCJDZW50ZXJSaWdodFwiXSA9IFwiY2VudGVyUmlnaHRcIjtcbiAgICBBbGlnbm1lbnRbXCJCb3R0b21MZWZ0XCJdID0gXCJib3R0b21MZWZ0XCI7XG4gICAgQWxpZ25tZW50W1wiQm90dG9tQ2VudGVyXCJdID0gXCJib3R0b21DZW50ZXJcIjtcbiAgICBBbGlnbm1lbnRbXCJCb3R0b21SaWdodFwiXSA9IFwiYm90dG9tUmlnaHRcIjtcbn0pKEFsaWdubWVudCB8fCAoQWxpZ25tZW50ID0ge30pKTtcbi8vIEFsaWdubWVudCBvcHRpb25zIGZvciBSaXZlIGFuaW1hdGlvbnMgaW4gYSBIVE1MIGNhbnZhc1xudmFyIExheW91dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMYXlvdXQocGFyYW1zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICB0aGlzLmZpdCA9IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5maXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IEZpdC5Db250YWluO1xuICAgICAgICB0aGlzLmFsaWdubWVudCA9IChfYiA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5hbGlnbm1lbnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IEFsaWdubWVudC5DZW50ZXI7XG4gICAgICAgIHRoaXMubWluWCA9IChfYyA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5taW5YKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAwO1xuICAgICAgICB0aGlzLm1pblkgPSAoX2QgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMubWluWSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogMDtcbiAgICAgICAgdGhpcy5tYXhYID0gKF9lID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLm1heFgpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IDA7XG4gICAgICAgIHRoaXMubWF4WSA9IChfZiA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5tYXhZKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAwO1xuICAgIH1cbiAgICAvLyBBbHRlcm5hdGl2ZSBjb25zdHJ1Y3RvciB0byBidWlsZCBhIExheW91dCBmcm9tIGFuIGludGVyZmFjZS9vYmplY3RcbiAgICBMYXlvdXQubmV3ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBmaXQgPSBfYS5maXQsIGFsaWdubWVudCA9IF9hLmFsaWdubWVudCwgbWluWCA9IF9hLm1pblgsIG1pblkgPSBfYS5taW5ZLCBtYXhYID0gX2EubWF4WCwgbWF4WSA9IF9hLm1heFk7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZDogcGxlYXNlIHVzZSBgbmV3IExheW91dCh7fSlgIGluc3RlYWRcIik7XG4gICAgICAgIHJldHVybiBuZXcgTGF5b3V0KHsgZml0OiBmaXQsIGFsaWdubWVudDogYWxpZ25tZW50LCBtaW5YOiBtaW5YLCBtaW5ZOiBtaW5ZLCBtYXhYOiBtYXhYLCBtYXhZOiBtYXhZIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBjb3B5IG9mIHRoZSBsYXlvdXQsIHJlcGxhY2luZyBhbnkgc3BlY2lmaWVkIHBhcmFtZXRlcnNcbiAgICAgKi9cbiAgICBMYXlvdXQucHJvdG90eXBlLmNvcHlXaXRoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBmaXQgPSBfYS5maXQsIGFsaWdubWVudCA9IF9hLmFsaWdubWVudCwgbWluWCA9IF9hLm1pblgsIG1pblkgPSBfYS5taW5ZLCBtYXhYID0gX2EubWF4WCwgbWF4WSA9IF9hLm1heFk7XG4gICAgICAgIHJldHVybiBuZXcgTGF5b3V0KHtcbiAgICAgICAgICAgIGZpdDogZml0ICE9PSBudWxsICYmIGZpdCAhPT0gdm9pZCAwID8gZml0IDogdGhpcy5maXQsXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IGFsaWdubWVudCAhPT0gbnVsbCAmJiBhbGlnbm1lbnQgIT09IHZvaWQgMCA/IGFsaWdubWVudCA6IHRoaXMuYWxpZ25tZW50LFxuICAgICAgICAgICAgbWluWDogbWluWCAhPT0gbnVsbCAmJiBtaW5YICE9PSB2b2lkIDAgPyBtaW5YIDogdGhpcy5taW5YLFxuICAgICAgICAgICAgbWluWTogbWluWSAhPT0gbnVsbCAmJiBtaW5ZICE9PSB2b2lkIDAgPyBtaW5ZIDogdGhpcy5taW5ZLFxuICAgICAgICAgICAgbWF4WDogbWF4WCAhPT0gbnVsbCAmJiBtYXhYICE9PSB2b2lkIDAgPyBtYXhYIDogdGhpcy5tYXhYLFxuICAgICAgICAgICAgbWF4WTogbWF4WSAhPT0gbnVsbCAmJiBtYXhZICE9PSB2b2lkIDAgPyBtYXhZIDogdGhpcy5tYXhZLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIFJldHVybnMgZml0IGZvciB0aGUgV2FzbSBydW50aW1lIGZvcm1hdFxuICAgIExheW91dC5wcm90b3R5cGUucnVudGltZUZpdCA9IGZ1bmN0aW9uIChyaXZlKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlZFJ1bnRpbWVGaXQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZWRSdW50aW1lRml0O1xuICAgICAgICB2YXIgZml0O1xuICAgICAgICBpZiAodGhpcy5maXQgPT09IEZpdC5Db3ZlcilcbiAgICAgICAgICAgIGZpdCA9IHJpdmUuRml0LmNvdmVyO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZpdCA9PT0gRml0LkNvbnRhaW4pXG4gICAgICAgICAgICBmaXQgPSByaXZlLkZpdC5jb250YWluO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZpdCA9PT0gRml0LkZpbGwpXG4gICAgICAgICAgICBmaXQgPSByaXZlLkZpdC5maWxsO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZpdCA9PT0gRml0LkZpdFdpZHRoKVxuICAgICAgICAgICAgZml0ID0gcml2ZS5GaXQuZml0V2lkdGg7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZml0ID09PSBGaXQuRml0SGVpZ2h0KVxuICAgICAgICAgICAgZml0ID0gcml2ZS5GaXQuZml0SGVpZ2h0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZpdCA9PT0gRml0LlNjYWxlRG93bilcbiAgICAgICAgICAgIGZpdCA9IHJpdmUuRml0LnNjYWxlRG93bjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZml0ID0gcml2ZS5GaXQubm9uZTtcbiAgICAgICAgdGhpcy5jYWNoZWRSdW50aW1lRml0ID0gZml0O1xuICAgICAgICByZXR1cm4gZml0O1xuICAgIH07XG4gICAgLy8gUmV0dXJucyBhbGlnbm1lbnQgZm9yIHRoZSBXYXNtIHJ1bnRpbWUgZm9ybWF0XG4gICAgTGF5b3V0LnByb3RvdHlwZS5ydW50aW1lQWxpZ25tZW50ID0gZnVuY3Rpb24gKHJpdmUpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkUnVudGltZUFsaWdubWVudClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFJ1bnRpbWVBbGlnbm1lbnQ7XG4gICAgICAgIHZhciBhbGlnbm1lbnQ7XG4gICAgICAgIGlmICh0aGlzLmFsaWdubWVudCA9PT0gQWxpZ25tZW50LlRvcExlZnQpXG4gICAgICAgICAgICBhbGlnbm1lbnQgPSByaXZlLkFsaWdubWVudC50b3BMZWZ0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmFsaWdubWVudCA9PT0gQWxpZ25tZW50LlRvcENlbnRlcilcbiAgICAgICAgICAgIGFsaWdubWVudCA9IHJpdmUuQWxpZ25tZW50LnRvcENlbnRlcjtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5hbGlnbm1lbnQgPT09IEFsaWdubWVudC5Ub3BSaWdodClcbiAgICAgICAgICAgIGFsaWdubWVudCA9IHJpdmUuQWxpZ25tZW50LnRvcFJpZ2h0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmFsaWdubWVudCA9PT0gQWxpZ25tZW50LkNlbnRlckxlZnQpXG4gICAgICAgICAgICBhbGlnbm1lbnQgPSByaXZlLkFsaWdubWVudC5jZW50ZXJMZWZ0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmFsaWdubWVudCA9PT0gQWxpZ25tZW50LkNlbnRlclJpZ2h0KVxuICAgICAgICAgICAgYWxpZ25tZW50ID0gcml2ZS5BbGlnbm1lbnQuY2VudGVyUmlnaHQ7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWxpZ25tZW50ID09PSBBbGlnbm1lbnQuQm90dG9tTGVmdClcbiAgICAgICAgICAgIGFsaWdubWVudCA9IHJpdmUuQWxpZ25tZW50LmJvdHRvbUxlZnQ7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWxpZ25tZW50ID09PSBBbGlnbm1lbnQuQm90dG9tQ2VudGVyKVxuICAgICAgICAgICAgYWxpZ25tZW50ID0gcml2ZS5BbGlnbm1lbnQuYm90dG9tQ2VudGVyO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmFsaWdubWVudCA9PT0gQWxpZ25tZW50LkJvdHRvbVJpZ2h0KVxuICAgICAgICAgICAgYWxpZ25tZW50ID0gcml2ZS5BbGlnbm1lbnQuYm90dG9tUmlnaHQ7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGFsaWdubWVudCA9IHJpdmUuQWxpZ25tZW50LmNlbnRlcjtcbiAgICAgICAgdGhpcy5jYWNoZWRSdW50aW1lQWxpZ25tZW50ID0gYWxpZ25tZW50O1xuICAgICAgICByZXR1cm4gYWxpZ25tZW50O1xuICAgIH07XG4gICAgcmV0dXJuIExheW91dDtcbn0oKSk7XG5cbi8vIFJ1bnRpbWUgc2luZ2xldG9uOyB1c2UgZ2V0SW5zdGFuY2UgdG8gcHJvdmlkZSBhIGNhbGxiYWNrIHRoYXQgcmV0dXJucyB0aGVcbi8vIFJpdmUgcnVudGltZVxudmFyIFJ1bnRpbWVMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLy8gQ2xhc3MgaXMgbmV2ZXIgaW5zdGFudGlhdGVkXG4gICAgZnVuY3Rpb24gUnVudGltZUxvYWRlcigpIHtcbiAgICB9XG4gICAgLy8gTG9hZHMgdGhlIHJ1bnRpbWVcbiAgICBSdW50aW1lTG9hZGVyLmxvYWRSdW50aW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfcml2ZV9hZHZhbmNlZF9tanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXy5kZWZhdWx0KHtcbiAgICAgICAgICAgIC8vIExvYWRzIFdhc20gYnVuZGxlXG4gICAgICAgICAgICBsb2NhdGVGaWxlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBSdW50aW1lTG9hZGVyLndhc21VUkw7IH0sXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJpdmUpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIFJ1bnRpbWVMb2FkZXIucnVudGltZSA9IHJpdmU7XG4gICAgICAgICAgICAvLyBGaXJlIGFsbCB0aGUgY2FsbGJhY2tzXG4gICAgICAgICAgICB3aGlsZSAoUnVudGltZUxvYWRlci5jYWxsQmFja1F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAoX2EgPSBSdW50aW1lTG9hZGVyLmNhbGxCYWNrUXVldWUuc2hpZnQoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hKFJ1bnRpbWVMb2FkZXIucnVudGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gUHJvdmlkZXMgYSBydW50aW1lIGluc3RhbmNlIHZpYSBhIGNhbGxiYWNrXG4gICAgUnVudGltZUxvYWRlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAvLyBJZiBpdCdzIG5vdCBsb2FkaW5nLCBzdGFydCBsb2FkaW5nIHJ1bnRpbWVcbiAgICAgICAgaWYgKCFSdW50aW1lTG9hZGVyLmlzTG9hZGluZykge1xuICAgICAgICAgICAgUnVudGltZUxvYWRlci5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgUnVudGltZUxvYWRlci5sb2FkUnVudGltZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghUnVudGltZUxvYWRlci5ydW50aW1lKSB7XG4gICAgICAgICAgICBSdW50aW1lTG9hZGVyLmNhbGxCYWNrUXVldWUucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjayhSdW50aW1lTG9hZGVyLnJ1bnRpbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBQcm92aWRlcyBhIHJ1bnRpbWUgaW5zdGFuY2UgdmlhIGEgcHJvbWlzZVxuICAgIFJ1bnRpbWVMb2FkZXIuYXdhaXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICByZXR1cm4gUnVudGltZUxvYWRlci5nZXRJbnN0YW5jZShmdW5jdGlvbiAocml2ZSkgeyByZXR1cm4gcmVzb2x2ZShyaXZlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gTWFudWFsbHkgc2V0cyB0aGUgd2FzbSB1cmxcbiAgICBSdW50aW1lTG9hZGVyLnNldFdhc21VcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIFJ1bnRpbWVMb2FkZXIud2FzbVVSTCA9IHVybDtcbiAgICB9O1xuICAgIC8vIEZsYWcgdG8gaW5kaWNhdGUgdGhhdCBsb2FkaW5nIGhhcyBzdGFydGVkL2NvbXBsZXRlZFxuICAgIFJ1bnRpbWVMb2FkZXIuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgLy8gTGlzdCBvZiBjYWxsYmFja3MgZm9yIHRoZSBydW50aW1lIHRoYXQgY29tZSBpbiB3aGlsZSBsb2FkaW5nXG4gICAgUnVudGltZUxvYWRlci5jYWxsQmFja1F1ZXVlID0gW107XG4gICAgLy8gUGF0aCB0byB0aGUgV2FzbSBmaWxlOyBkZWZhdWx0IHBhdGggd29ya3MgZm9yIHRlc3Rpbmcgb25seTtcbiAgICAvLyBpZiBlbWJlZGRlZCB3YXNtIGlzIHVzZWQgdGhlbiB0aGlzIGlzIG5ldmVyIHVzZWQuXG4gICAgUnVudGltZUxvYWRlci53YXNtVVJMID0gXCJodHRwczovL3VucGtnLmNvbS9cIiArIHBhY2thZ2VfanNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fLm5hbWUgKyBcIkBcIiArIHBhY2thZ2VfanNvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fLnZlcnNpb24gKyBcIi9yaXZlLndhc21cIjtcbiAgICByZXR1cm4gUnVudGltZUxvYWRlcjtcbn0oKSk7XG5cbi8vICNlbmRyZWdpb25cbi8vICNyZWdpb24gYW5pbWF0aW9uc1xuLy8gV3JhcHMgYW5pbWF0aW9ucyBhbmQgaW5zdGFuY2VzIGZyb20gdGhlIHJ1bnRpbWUgYW5kIGtlZXBzIHRyYWNrIG9mIHBsYXliYWNrXG4vLyBzdGF0ZVxudmFyIEFuaW1hdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGFuaW1hdGlvblxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7YW55fSBhbmltYXRpb246IHJ1bnRpbWUgYW5pbWF0aW9uIG9iamVjdFxuICAgICAqIEBwYXJhbSB7YW55fSBpbnN0YW5jZTogcnVudGltZSBhbmltYXRpb24gaW5zdGFuY2Ugb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gQW5pbWF0aW9uKGFuaW1hdGlvbiwgYXJ0Ym9hcmQsIHJ1bnRpbWUsIHBsYXlpbmcpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBhbmltYXRpb247XG4gICAgICAgIHRoaXMuYXJ0Ym9hcmQgPSBhcnRib2FyZDtcbiAgICAgICAgdGhpcy5wbGF5aW5nID0gcGxheWluZztcbiAgICAgICAgdGhpcy5sb29wQ291bnQgPSAwO1xuICAgICAgICAvLyBUaW1lIHRvIHdoaWNoIHRoZSBhbmltYXRpb24gc2hvdWxkIG1vdmUgdG8gb24gdGhlIG5leHQgcmVuZGVyXG4gICAgICAgIHRoaXMuc2NydWJUbyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgcnVudGltZS5MaW5lYXJBbmltYXRpb25JbnN0YW5jZShhbmltYXRpb24sIGFydGJvYXJkKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGlvbi5wcm90b3R5cGUsIFwibmFtZVwiLCB7XG4gICAgICAgIC8vIFJldHVybnMgdGhlIGFuaW1hdGlvbidzIG5hbWVcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb24ubmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRpb24ucHJvdG90eXBlLCBcInRpbWVcIiwge1xuICAgICAgICAvLyBSZXR1cm5zIHRoZSBhbmltYXRpb24ncyBjdXJyZW50IHRpbWVcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZS50aW1lO1xuICAgICAgICB9LFxuICAgICAgICAvLyBTZXRzIHRoZSBhbmltYXRpb24ncyBjdXJyZW50IHRpbWVcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UudGltZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGlvbi5wcm90b3R5cGUsIFwibG9vcFZhbHVlXCIsIHtcbiAgICAgICAgLy8gUmV0dXJucyB0aGUgYW5pbWF0aW9uJ3MgbG9vcCB0eXBlXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9uLmxvb3BWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkdmFuY2VzIHRoZSBhbmltYXRpb24gYnkgdGhlIGdpdmUgdGltZS4gSWYgdGhlIGFuaW1hdGlvbiBuZWVkcyBzY3J1YmJpbmcsXG4gICAgICogdGltZSBpcyBpZ25vcmVkIGFuZCB0aGUgc3RvcmVkIHNjcnViIHZhbHVlIGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHRpbWUgdGhlIHRpbWUgdG8gYWR2YW5jZSB0aGUgYW5pbWF0aW9uIGJ5IGlmIG5vIHNjcnViYmluZyByZXF1aXJlZFxuICAgICAqL1xuICAgIEFuaW1hdGlvbi5wcm90b3R5cGUuYWR2YW5jZSA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgIGlmICh0aGlzLnNjcnViVG8gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuYWR2YW5jZSh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UudGltZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLmFkdmFuY2UodGhpcy5zY3J1YlRvKTtcbiAgICAgICAgICAgIHRoaXMuc2NydWJUbyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGx5IGludGVycG9sYXRlZCBrZXlmcmFtZSB2YWx1ZXMgdG8gdGhlIGFydGJvYXJkLiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgY2FsbGluZ1xuICAgICAqIC5hZHZhbmNlKCkgb24gYW4gYW5pbWF0aW9uIGluc3RhbmNlIHNvIHRoYXQgbmV3IHZhbHVlcyBhcmUgYXBwbGllZCB0byBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBkb2VzIG5vdCBhZHZhbmNlIHRoZSBhcnRib2FyZCwgd2hpY2ggdXBkYXRlcyBhbGwgb2JqZWN0cyBvbiB0aGUgYXJ0Ym9hcmRcbiAgICAgKiBAcGFyYW0gbWl4IC0gTWl4IHZhbHVlIGZvciB0aGUgYW5pbWF0aW9uIGZyb20gMCB0byAxXG4gICAgICovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChtaXgpIHtcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5hcHBseShtaXgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGlvbi5wcm90b3R5cGUsIFwibmVlZHNTY3J1YlwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NydWJUbyAhPT0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIGJhY2tpbmcgV2FzbSBhbmltYXRpb24gaW5zdGFuY2U7IG9uY2UgdGhpcyBpcyBjYWxsZWQsIHRoaXNcbiAgICAgKiBhbmltYXRpb24gaXMgbm8gbW9yZS5cbiAgICAgKi9cbiAgICBBbmltYXRpb24ucHJvdG90eXBlLmNsZWFudXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UuZGVsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQW5pbWF0aW9uO1xufSgpKTtcbi8vICNlbmRyZWdpb25cbi8vICNyZWdpb24gc3RhdGUgbWFjaGluZXNcbnZhciBTdGF0ZU1hY2hpbmVJbnB1dFR5cGU7XG4oZnVuY3Rpb24gKFN0YXRlTWFjaGluZUlucHV0VHlwZSkge1xuICAgIFN0YXRlTWFjaGluZUlucHV0VHlwZVtTdGF0ZU1hY2hpbmVJbnB1dFR5cGVbXCJOdW1iZXJcIl0gPSA1Nl0gPSBcIk51bWJlclwiO1xuICAgIFN0YXRlTWFjaGluZUlucHV0VHlwZVtTdGF0ZU1hY2hpbmVJbnB1dFR5cGVbXCJUcmlnZ2VyXCJdID0gNThdID0gXCJUcmlnZ2VyXCI7XG4gICAgU3RhdGVNYWNoaW5lSW5wdXRUeXBlW1N0YXRlTWFjaGluZUlucHV0VHlwZVtcIkJvb2xlYW5cIl0gPSA1OV0gPSBcIkJvb2xlYW5cIjtcbn0pKFN0YXRlTWFjaGluZUlucHV0VHlwZSB8fCAoU3RhdGVNYWNoaW5lSW5wdXRUeXBlID0ge30pKTtcbi8qKlxuICogQW4gaW5wdXQgZm9yIGEgc3RhdGUgbWFjaGluZVxuICovXG52YXIgU3RhdGVNYWNoaW5lSW5wdXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVNYWNoaW5lSW5wdXQodHlwZSwgcnVudGltZUlucHV0KSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucnVudGltZUlucHV0ID0gcnVudGltZUlucHV0O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVNYWNoaW5lSW5wdXQucHJvdG90eXBlLCBcIm5hbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgaW5wdXRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucnVudGltZUlucHV0Lm5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVNYWNoaW5lSW5wdXQucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGlucHV0XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJ1bnRpbWVJbnB1dC52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBpbnB1dFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucnVudGltZUlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBGaXJlcyBhIHRyaWdnZXI7IGRvZXMgbm90aGluZyBvbiBOdW1iZXIgb3IgQm9vbGVhbiBpbnB1dCB0eXBlc1xuICAgICAqL1xuICAgIFN0YXRlTWFjaGluZUlucHV0LnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50eXBlID09PSBTdGF0ZU1hY2hpbmVJbnB1dFR5cGUuVHJpZ2dlcikge1xuICAgICAgICAgICAgdGhpcy5ydW50aW1lSW5wdXQuZmlyZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVNYWNoaW5lSW5wdXQ7XG59KCkpO1xuXG52YXIgU3RhdGVNYWNoaW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSBzdGF0ZU1hY2hpbmUgcnVudGltZSBzdGF0ZSBtYWNoaW5lIG9iamVjdFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBydW50aW1lIHN0YXRlIG1hY2hpbmUgaW5zdGFuY2Ugb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RhdGVNYWNoaW5lKHN0YXRlTWFjaGluZSwgcnVudGltZSwgcGxheWluZywgYXJ0Ym9hcmQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZU1hY2hpbmUgPSBzdGF0ZU1hY2hpbmU7XG4gICAgICAgIHRoaXMucGxheWluZyA9IHBsYXlpbmc7XG4gICAgICAgIHRoaXMuYXJ0Ym9hcmQgPSBhcnRib2FyZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlcyB0aGUgaW5wdXRzIGZyb20gdGhlIHJ1bnRpbWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5wdXRzID0gW107XG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgcnVudGltZS5TdGF0ZU1hY2hpbmVJbnN0YW5jZShzdGF0ZU1hY2hpbmUsIGFydGJvYXJkKTtcbiAgICAgICAgdGhpcy5pbml0SW5wdXRzKHJ1bnRpbWUpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVNYWNoaW5lLnByb3RvdHlwZSwgXCJuYW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZU1hY2hpbmUubmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZU1hY2hpbmUucHJvdG90eXBlLCBcInN0YXRlc0NoYW5nZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIGxpc3Qgb2Ygc3RhdGUgbmFtZXMgdGhhdCBoYXZlIGNoYW5nZWQgb24gdGhpcyBmcmFtZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pbnN0YW5jZS5zdGF0ZUNoYW5nZWRDb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuYW1lcy5wdXNoKHRoaXMuaW5zdGFuY2Uuc3RhdGVDaGFuZ2VkTmFtZUJ5SW5kZXgoaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5hbWVzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWR2YW5jZXMgdGhlIHN0YXRlIG1hY2hpbmUgaW5zdGFuY2UgYnkgYSBnaXZlbiB0aW1lLlxuICAgICAqIEBwYXJhbSB0aW1lIC0gdGhlIHRpbWUgdG8gYWR2YW5jZSB0aGUgYW5pbWF0aW9uIGJ5IGluIHNlY29uZHNcbiAgICAgKi9cbiAgICBTdGF0ZU1hY2hpbmUucHJvdG90eXBlLmFkdmFuY2UgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICB0aGlzLmluc3RhbmNlLmFkdmFuY2UodGltZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHJlZmVyZW5jZXMgdG8gdGhlIHN0YXRlIG1hY2hpbmUncyBpbnB1dHMgYW5kIGNhY2hlcyB0aGVtXG4gICAgICogQHBhcmFtIHJ1bnRpbWUgYW4gaW5zdGFuY2Ugb2YgdGhlIHJ1bnRpbWU7IG5lZWRlZCBmb3IgdGhlIFNNSUlucHV0IHR5cGVzXG4gICAgICovXG4gICAgU3RhdGVNYWNoaW5lLnByb3RvdHlwZS5pbml0SW5wdXRzID0gZnVuY3Rpb24gKHJ1bnRpbWUpIHtcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGlucHV0cyBmcm9tIHRoZSBydW50aW1lIGlmIHdlIGRvbid0IGhhdmUgdGhlbVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaW5zdGFuY2UuaW5wdXRDb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMuaW5zdGFuY2UuaW5wdXQoaSk7XG4gICAgICAgICAgICB0aGlzLmlucHV0cy5wdXNoKHRoaXMubWFwUnVudGltZUlucHV0KGlucHV0LCBydW50aW1lKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgYSBydW50aW1lIGlucHV0IHRvIGl0J3MgYXBwcm9wcmlhdGUgdHlwZVxuICAgICAqIEBwYXJhbSBpbnB1dFxuICAgICAqL1xuICAgIFN0YXRlTWFjaGluZS5wcm90b3R5cGUubWFwUnVudGltZUlucHV0ID0gZnVuY3Rpb24gKGlucHV0LCBydW50aW1lKSB7XG4gICAgICAgIGlmIChpbnB1dC50eXBlID09PSBydW50aW1lLlNNSUlucHV0LmJvb2wpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RhdGVNYWNoaW5lSW5wdXQoU3RhdGVNYWNoaW5lSW5wdXRUeXBlLkJvb2xlYW4sIGlucHV0LmFzQm9vbCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnB1dC50eXBlID09PSBydW50aW1lLlNNSUlucHV0Lm51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGF0ZU1hY2hpbmVJbnB1dChTdGF0ZU1hY2hpbmVJbnB1dFR5cGUuTnVtYmVyLCBpbnB1dC5hc051bWJlcigpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnB1dC50eXBlID09PSBydW50aW1lLlNNSUlucHV0LnRyaWdnZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RhdGVNYWNoaW5lSW5wdXQoU3RhdGVNYWNoaW5lSW5wdXRUeXBlLlRyaWdnZXIsIGlucHV0LmFzVHJpZ2dlcigpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgYmFja2luZyBXYXNtIHN0YXRlIG1hY2hpbmUgaW5zdGFuY2U7IG9uY2UgdGhpcyBpcyBjYWxsZWQsIHRoaXNcbiAgICAgKiBzdGF0ZSBtYWNoaW5lIGlzIG5vIG1vcmUuXG4gICAgICovXG4gICAgU3RhdGVNYWNoaW5lLnByb3RvdHlwZS5jbGVhbnVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmluc3RhbmNlLmRlbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlTWFjaGluZTtcbn0oKSk7XG4vLyAjZW5kcmVnaW9uXG4vLyAjcmVnaW9uIGFuaW1hdG9yXG4vKipcbiAqIE1hbmFnZXMgYW5pbWF0aW9uXG4gKi9cbnZhciBBbmltYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGFuaW1hdG9yXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHJ1bnRpbWUgUml2ZSBydW50aW1lOyBuZWVkZWQgdG8gaW5zdGFuY2UgYW5pbWF0aW9ucyAmIHN0YXRlIG1hY2hpbmVzXG4gICAgICogQHBhcmFtIGFydGJvYXJkIHRoZSBhcnRib2FyZCB0aGF0IGhvbGRzIGFsbCBhbmltYXRpb25zIGFuZCBzdGF0ZSBtYWNoaW5lc1xuICAgICAqIEBwYXJhbSBhbmltYXRpb25zIG9wdGlvbmFsIGxpc3Qgb2YgYW5pbWF0aW9uc1xuICAgICAqIEBwYXJhbSBzdGF0ZU1hY2hpbmVzIG9wdGlvbmFsIGxpc3Qgb2Ygc3RhdGUgbWFjaGluZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBbmltYXRvcihydW50aW1lLCBhcnRib2FyZCwgZXZlbnRNYW5hZ2VyLCBhbmltYXRpb25zLCBzdGF0ZU1hY2hpbmVzKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25zID09PSB2b2lkIDApIHsgYW5pbWF0aW9ucyA9IFtdOyB9XG4gICAgICAgIGlmIChzdGF0ZU1hY2hpbmVzID09PSB2b2lkIDApIHsgc3RhdGVNYWNoaW5lcyA9IFtdOyB9XG4gICAgICAgIHRoaXMucnVudGltZSA9IHJ1bnRpbWU7XG4gICAgICAgIHRoaXMuYXJ0Ym9hcmQgPSBhcnRib2FyZDtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIgPSBldmVudE1hbmFnZXI7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IGFuaW1hdGlvbnM7XG4gICAgICAgIHRoaXMuc3RhdGVNYWNoaW5lcyA9IHN0YXRlTWFjaGluZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYW5pbWF0aW9ucyBhbmQgc3RhdGUgbWFjaGluZXMgYnkgdGhlaXIgbmFtZXMuIElmIG5hbWVzIGFyZSBzaGFyZWRcbiAgICAgKiBiZXR3ZWVuIGFuaW1hdGlvbnMgJiBzdGF0ZSBtYWNoaW5lcywgdGhlbiB0aGUgZmlyc3Qgb25lIGZvdW5kIHdpbGwgYmVcbiAgICAgKiBjcmVhdGVkLiBCZXN0IG5vdCB0byB1c2UgdGhlIHNhbWUgbmFtZXMgZm9yIHRoZXNlIGluIHlvdXIgUml2ZSBmaWxlLlxuICAgICAqIEBwYXJhbSBhbmltYXRhYmxlIHRoZSBuYW1lKHMpIG9mIGFuaW1hdGlvbnMgYW5kIHN0YXRlIG1hY2hpbmVzIHRvIGFkZFxuICAgICAqIEByZXR1cm5zIGEgbGlzdCBvZiBuYW1lcyBvZiB0aGUgcGxheWluZyBhbmltYXRpb25zIGFuZCBzdGF0ZSBtYWNoaW5lc1xuICAgICAqL1xuICAgIEFuaW1hdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoYW5pbWF0YWJsZXMsIHBsYXlpbmcsIGZpcmVFdmVudCkge1xuICAgICAgICBpZiAoZmlyZUV2ZW50ID09PSB2b2lkIDApIHsgZmlyZUV2ZW50ID0gdHJ1ZTsgfVxuICAgICAgICBhbmltYXRhYmxlcyA9IG1hcFRvU3RyaW5nQXJyYXkoYW5pbWF0YWJsZXMpO1xuICAgICAgICAvLyBJZiBhbmltYXRhYmxlcyBpcyBlbXB0eSwgcGxheSBvciBwYXVzZSBldmVyeXRoaW5nXG4gICAgICAgIGlmIChhbmltYXRhYmxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7IHJldHVybiAoYS5wbGF5aW5nID0gcGxheWluZyk7IH0pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZU1hY2hpbmVzLmZvckVhY2goZnVuY3Rpb24gKG0pIHsgcmV0dXJuIChtLnBsYXlpbmcgPSBwbGF5aW5nKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBQbGF5L3BhdXNlIGFscmVhZHkgaW5zdGFuY2VkIGl0ZW1zLCBvciBjcmVhdGUgbmV3IGluc3RhbmNlc1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlZEFuaW1hdGlvbk5hbWVzID0gdGhpcy5hbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5uYW1lOyB9KTtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZWRNYWNoaW5lTmFtZXMgPSB0aGlzLnN0YXRlTWFjaGluZXMubWFwKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm5hbWU7IH0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBhSW5kZXggPSBpbnN0YW5jZWRBbmltYXRpb25OYW1lcy5pbmRleE9mKGFuaW1hdGFibGVzW2ldKTtcbiAgICAgICAgICAgICAgICB2YXIgbUluZGV4ID0gaW5zdGFuY2VkTWFjaGluZU5hbWVzLmluZGV4T2YoYW5pbWF0YWJsZXNbaV0pO1xuICAgICAgICAgICAgICAgIGlmIChhSW5kZXggPj0gMCB8fCBtSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYUluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFuaW1hdGlvbiBpcyBpbnN0YW5jZWQsIHBsYXkvcGF1c2UgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1thSW5kZXhdLnBsYXlpbmcgPSBwbGF5aW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhdGUgbWFjaGluZSBpcyBpbnN0YW5jZWQsIHBsYXkvcGF1c2UgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNYWNoaW5lc1ttSW5kZXhdLnBsYXlpbmcgPSBwbGF5aW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gY3JlYXRlIGEgbmV3IGFuaW1hdGlvbiBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbSA9IHRoaXMuYXJ0Ym9hcmQuYW5pbWF0aW9uQnlOYW1lKGFuaW1hdGFibGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuaW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdBbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKGFuaW0sIHRoaXMuYXJ0Ym9hcmQsIHRoaXMucnVudGltZSwgcGxheWluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNwbGF5IHRoZSBmaXJzdCBmcmFtZSBvZiB0aGUgc3BlY2lmaWVkIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QW5pbWF0aW9uLmFkdmFuY2UoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdBbmltYXRpb24uYXBwbHkoMS4wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKG5ld0FuaW1hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gY3JlYXRlIGEgbmV3IHN0YXRlIG1hY2hpbmUgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbSA9IHRoaXMuYXJ0Ym9hcmQuc3RhdGVNYWNoaW5lQnlOYW1lKGFuaW1hdGFibGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdTdGF0ZU1hY2hpbmUgPSBuZXcgU3RhdGVNYWNoaW5lKHNtLCB0aGlzLnJ1bnRpbWUsIHBsYXlpbmcsIHRoaXMuYXJ0Ym9hcmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVNYWNoaW5lcy5wdXNoKG5ld1N0YXRlTWFjaGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmlyZSBwbGF5L3BhdXNlZCBldmVudHMgZm9yIGFuaW1hdGlvbnNcbiAgICAgICAgaWYgKGZpcmVFdmVudCkge1xuICAgICAgICAgICAgaWYgKHBsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRXZlbnRUeXBlLlBsYXksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMucGxheWluZyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLmZpcmUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFdmVudFR5cGUuUGF1c2UsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMucGF1c2VkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwbGF5aW5nID8gdGhpcy5wbGF5aW5nIDogdGhpcy5wYXVzZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQbGF5IHRoZSBuYW1lZCBhbmltYXRpb25zL3N0YXRlIG1hY2hpbmVzXG4gICAgICogQHBhcmFtIGFuaW1hdGFibGVzIHRoZSBuYW1lcyBvZiB0aGUgYW5pbWF0aW9ucy9tYWNoaW5lcyB0byBwbGF5OyBwbGF5cyBhbGwgaWYgZW1wdHlcbiAgICAgKiBAcmV0dXJucyBhIGxpc3Qgb2YgdGhlIHBsYXlpbmcgaXRlbXNcbiAgICAgKi9cbiAgICBBbmltYXRvci5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uIChhbmltYXRhYmxlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQoYW5pbWF0YWJsZXMsIHRydWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGF1c2VzIG5hbWVkIGFuaW1hdGlvbnMgYW5kIHN0YXRlIG1hY2hpbmVzLCBvciBldmVyeXRoaW5nIGlmIG5vdGhpbmcgaXNcbiAgICAgKiBzcGVjaWZpZWRcbiAgICAgKiBAcGFyYW0gYW5pbWF0YWJsZXMgbmFtZXMgb2YgdGhlIGFuaW1hdGlvbnMgYW5kIHN0YXRlIG1hY2hpbmVzIHRvIHBhdXNlXG4gICAgICogQHJldHVybnMgYSBsaXN0IG9mIG5hbWVzIG9mIHRoZSBhbmltYXRpb25zIGFuZCBzdGF0ZSBtYWNoaW5lcyBwYXVzZWRcbiAgICAgKi9cbiAgICBBbmltYXRvci5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoYW5pbWF0YWJsZXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGFuaW1hdGFibGVzLCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGltZSBvZiBuYW1lZCBhbmltYXRpb25zXG4gICAgICogQHBhcmFtIGFuaW1hdGlvbnMgbmFtZXMgb2YgdGhlIGFuaW1hdGlvbnMgdG8gc2NydWJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdGltZSBzY3J1YiB2YWx1ZSwgYSBmbG9hdGluZyBwb2ludCBudW1iZXIgdG8gd2hpY2ggdGhlIHBsYXloZWFkIGlzIGp1bXBlZFxuICAgICAqIEByZXR1cm5zIGEgbGlzdCBvZiBuYW1lcyBvZiB0aGUgYW5pbWF0aW9ucyB0aGF0IHdlcmUgc2NydWJiZWRcbiAgICAgKi9cbiAgICBBbmltYXRvci5wcm90b3R5cGUuc2NydWIgPSBmdW5jdGlvbiAoYW5pbWF0YWJsZXMsIHZhbHVlKSB7XG4gICAgICAgIHZhciBmb3JTY3J1YmJpbmcgPSB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICByZXR1cm4gYW5pbWF0YWJsZXMuaW5jbHVkZXMoYS5uYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvclNjcnViYmluZy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7IHJldHVybiAoYS5zY3J1YlRvID0gdmFsdWUpOyB9KTtcbiAgICAgICAgcmV0dXJuIGZvclNjcnViYmluZy5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEubmFtZTsgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0b3IucHJvdG90eXBlLCBcInBsYXlpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIGxpc3Qgb2YgbmFtZXMgb2YgYWxsIGFuaW1hdGlvbnMgYW5kIHN0YXRlIG1hY2hpbmVzIGN1cnJlbnRseVxuICAgICAgICAgKiBwbGF5aW5nXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLnBsYXlpbmc7IH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5uYW1lOyB9KVxuICAgICAgICAgICAgICAgIC5jb25jYXQodGhpcy5zdGF0ZU1hY2hpbmVzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5wbGF5aW5nOyB9KS5tYXAoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubmFtZTsgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdG9yLnByb3RvdHlwZSwgXCJwYXVzZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIGxpc3Qgb2YgbmFtZXMgb2YgYWxsIGFuaW1hdGlvbnMgYW5kIHN0YXRlIG1hY2hpbmVzIGN1cnJlbnRseVxuICAgICAgICAgKiBwYXVzZWRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9uc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuICFhLnBsYXlpbmc7IH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5uYW1lOyB9KVxuICAgICAgICAgICAgICAgIC5jb25jYXQodGhpcy5zdGF0ZU1hY2hpbmVzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gIW0ucGxheWluZzsgfSkubWFwKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm5hbWU7IH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCByZW1vdmVzIGFsbCBuYW1lZCBhbmltYXRpb25zIGFuZCBzdGF0ZSBtYWNoaW5lc1xuICAgICAqIEBwYXJhbSBhbmltYXRhYmxlcyBhbmltYXRpb25zIGFuZCBzdGF0ZSBtYWNoaW5lcyB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJucyBhIGxpc3Qgb2YgbmFtZXMgb2YgcmVtb3ZlZCBpdGVtc1xuICAgICAqL1xuICAgIEFuaW1hdG9yLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKGFuaW1hdGFibGVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGFuaW1hdGFibGVzID0gbWFwVG9TdHJpbmdBcnJheShhbmltYXRhYmxlcyk7XG4gICAgICAgIC8vIElmIG5vdGhpbmcncyBzcGVjaWZpZWQsIHdpcGUgdGhlbSBvdXQsIGFsbCBvZiB0aGVtXG4gICAgICAgIHZhciByZW1vdmVkTmFtZXMgPSBbXTtcbiAgICAgICAgLy8gU3RvcCBldmVyeXRoaW5nXG4gICAgICAgIGlmIChhbmltYXRhYmxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJlbW92ZWROYW1lcyA9IHRoaXMuYW5pbWF0aW9uc1xuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEubmFtZTsgfSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KHRoaXMuc3RhdGVNYWNoaW5lcy5tYXAoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubmFtZTsgfSkpO1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgYmVmb3JlIGVtcHR5aW5nIHRoZSBhcnJheXNcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmNsZWFudXAoKTsgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlTWFjaGluZXMuZm9yRWFjaChmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5jbGVhbnVwKCk7IH0pO1xuICAgICAgICAgICAgLy8gRW1wdHkgb3V0IHRoZSBhcnJheXNcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UoMCwgdGhpcy5hbmltYXRpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlTWFjaGluZXMuc3BsaWNlKDAsIHRoaXMuc3RhdGVNYWNoaW5lcy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIG9ubHkgdGhlIG5hbWVkIGFuaW1hdGlvbnMvc3RhdGUgbWFjaGluZXNcbiAgICAgICAgICAgIHZhciBhbmltYXRpb25zVG9SZW1vdmUgPSB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGFibGVzLmluY2x1ZGVzKGEubmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFuaW1hdGlvbnNUb1JlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgYS5jbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYW5pbWF0aW9ucy5zcGxpY2UoX3RoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGEpLCAxKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG1hY2hpbmVzVG9SZW1vdmUgPSB0aGlzLnN0YXRlTWFjaGluZXMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGFibGVzLmluY2x1ZGVzKG0ubmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1hY2hpbmVzVG9SZW1vdmUuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgIG0uY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlTWFjaGluZXMuc3BsaWNlKF90aGlzLnN0YXRlTWFjaGluZXMuaW5kZXhPZihtKSwgMSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlbW92ZWROYW1lcyA9IGFuaW1hdGlvbnNUb1JlbW92ZVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEubmFtZTsgfSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KG1hY2hpbmVzVG9SZW1vdmUubWFwKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm5hbWU7IH0pKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlKHtcbiAgICAgICAgICAgIHR5cGU6IEV2ZW50VHlwZS5TdG9wLFxuICAgICAgICAgICAgZGF0YTogcmVtb3ZlZE5hbWVzLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBsaXN0IG9mIGFuaW1hdGlvbnMgcmVtb3ZlZFxuICAgICAgICByZXR1cm4gcmVtb3ZlZE5hbWVzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdG9yLnByb3RvdHlwZSwgXCJpc1BsYXlpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0cnVlIGlmIGF0IGxlYXN0IG9uZSBhbmltYXRpb24gaXMgYWN0aXZlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5hbmltYXRpb25zLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJyKSB7IHJldHVybiBhY2MgfHwgY3Vyci5wbGF5aW5nOyB9LCBmYWxzZSkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWFjaGluZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cnIpIHsgcmV0dXJuIGFjYyB8fCBjdXJyLnBsYXlpbmc7IH0sIGZhbHNlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0b3IucHJvdG90eXBlLCBcImlzUGF1c2VkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiBhbGwgYW5pbWF0aW9ucyBhcmUgcGF1c2VkIGFuZCB0aGVyZSdzIGF0IGxlYXN0IG9uZSBhbmltYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICghdGhpcy5pc1BsYXlpbmcgJiZcbiAgICAgICAgICAgICAgICAodGhpcy5hbmltYXRpb25zLmxlbmd0aCA+IDAgfHwgdGhpcy5zdGF0ZU1hY2hpbmVzLmxlbmd0aCA+IDApKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRvci5wcm90b3R5cGUsIFwiaXNTdG9wcGVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgbm8gcGxheWluZyBvciBwYXVzZWQgYW5pbWF0aW9ucy9zdGF0ZSBtYWNoaW5lc1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmxlbmd0aCA9PT0gMCAmJiB0aGlzLnN0YXRlTWFjaGluZXMubGVuZ3RoID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUgYXJlIG5vIGFuaW1hdGlvbnMgb3Igc3RhdGUgbWFjaGluZXMsIGFkZCB0aGUgZmlyc3Qgb25lIGZvdW5kXG4gICAgICogQHJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGFuaW1hdGlvbiBvciBzdGF0ZSBtYWNoaW5lIGluc3RhbmNlZFxuICAgICAqL1xuICAgIEFuaW1hdG9yLnByb3RvdHlwZS5hdExlYXN0T25lID0gZnVuY3Rpb24gKHBsYXlpbmcsIGZpcmVFdmVudCkge1xuICAgICAgICBpZiAoZmlyZUV2ZW50ID09PSB2b2lkIDApIHsgZmlyZUV2ZW50ID0gdHJ1ZTsgfVxuICAgICAgICB2YXIgaW5zdGFuY2VkTmFtZTtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9ucy5sZW5ndGggPT09IDAgJiYgdGhpcy5zdGF0ZU1hY2hpbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXJ0Ym9hcmQuYW5pbWF0aW9uQ291bnQoKSA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGZpcnN0IGFuaW1hdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuYWRkKFsoaW5zdGFuY2VkTmFtZSA9IHRoaXMuYXJ0Ym9hcmQuYW5pbWF0aW9uQnlJbmRleCgwKS5uYW1lKV0sIHBsYXlpbmcsIGZpcmVFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmFydGJvYXJkLnN0YXRlTWFjaGluZUNvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBmaXJzdCBzdGF0ZSBtYWNoaW5lXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoWyhpbnN0YW5jZWROYW1lID0gdGhpcy5hcnRib2FyZC5zdGF0ZU1hY2hpbmVCeUluZGV4KDApLm5hbWUpXSwgcGxheWluZywgZmlyZUV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdGFuY2VkTmFtZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhbnkgYW5pbWF0aW9ucyBoYXZlIGxvb3BlZCBhbmQgaWYgc28sIGZpcmUgdGhlIGFwcHJvcHJpYXRlIGV2ZW50XG4gICAgICovXG4gICAgQW5pbWF0b3IucHJvdG90eXBlLmhhbmRsZUxvb3BpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLnBsYXlpbmc7IH0pOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF9hW19pXTtcbiAgICAgICAgICAgIC8vIEVtaXQgaWYgdGhlIGFuaW1hdGlvbiBsb29wZWRcbiAgICAgICAgICAgIGlmIChhbmltYXRpb24ubG9vcFZhbHVlID09PSAwICYmIGFuaW1hdGlvbi5sb29wQ291bnQpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24ubG9vcENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgb25lLXNob3Q7IGlmIGl0IGhhcyBlbmRlZCwgZGVsZXRlIHRoZSBpbnN0YW5jZVxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcChhbmltYXRpb24ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhbmltYXRpb24ubG9vcFZhbHVlID09PSAxICYmIGFuaW1hdGlvbi5sb29wQ291bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRXZlbnRUeXBlLkxvb3AsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgYW5pbWF0aW9uOiBhbmltYXRpb24ubmFtZSwgdHlwZTogTG9vcFR5cGUuTG9vcCB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5sb29wQ291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2FzbSBpbmRpY2F0ZXMgYSBsb29wIGF0IGVhY2ggdGltZSB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAgICAvLyBjaGFuZ2VzIGRpcmVjdGlvbiwgc28gYSBmdWxsIGxvb3AvbGFwIG9jY3VycyBldmVyeVxuICAgICAgICAgICAgLy8gdHdvIGxvb3AgY291bnRzXG4gICAgICAgICAgICBlbHNlIGlmIChhbmltYXRpb24ubG9vcFZhbHVlID09PSAyICYmIGFuaW1hdGlvbi5sb29wQ291bnQgPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIuZmlyZSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEV2ZW50VHlwZS5Mb29wLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGFuaW1hdGlvbjogYW5pbWF0aW9uLm5hbWUsIHR5cGU6IExvb3BUeXBlLlBpbmdQb25nIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLmxvb3BDb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBzdGF0ZXMgaGF2ZSBjaGFuZ2VkIGluIHN0YXRlIG1hY2hpbmVzIGFuZCBmaXJlcyBhIHN0YXRlY2hhbmdlXG4gICAgICogZXZlbnRcbiAgICAgKi9cbiAgICBBbmltYXRvci5wcm90b3R5cGUuaGFuZGxlU3RhdGVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGVzQ2hhbmdlZCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5zdGF0ZU1hY2hpbmVzLmZpbHRlcihmdW5jdGlvbiAoc20pIHsgcmV0dXJuIHNtLnBsYXlpbmc7IH0pOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHN0YXRlTWFjaGluZSA9IF9hW19pXTtcbiAgICAgICAgICAgIHN0YXRlc0NoYW5nZWQucHVzaC5hcHBseShzdGF0ZXNDaGFuZ2VkLCBzdGF0ZU1hY2hpbmUuc3RhdGVzQ2hhbmdlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlc0NoYW5nZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIuZmlyZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogRXZlbnRUeXBlLlN0YXRlQ2hhbmdlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHN0YXRlc0NoYW5nZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFuaW1hdG9yO1xufSgpKTtcbi8vICNlbmRyZWdpb25cbi8vICNyZWdpb24gZXZlbnRzXG4vKipcbiAqIFN1cHBvcnRlZCBldmVudCB0eXBlcyB0cmlnZ2VyZWQgaW4gUml2ZVxuICovXG52YXIgRXZlbnRUeXBlO1xuKGZ1bmN0aW9uIChFdmVudFR5cGUpIHtcbiAgICBFdmVudFR5cGVbXCJMb2FkXCJdID0gXCJsb2FkXCI7XG4gICAgRXZlbnRUeXBlW1wiTG9hZEVycm9yXCJdID0gXCJsb2FkZXJyb3JcIjtcbiAgICBFdmVudFR5cGVbXCJQbGF5XCJdID0gXCJwbGF5XCI7XG4gICAgRXZlbnRUeXBlW1wiUGF1c2VcIl0gPSBcInBhdXNlXCI7XG4gICAgRXZlbnRUeXBlW1wiU3RvcFwiXSA9IFwic3RvcFwiO1xuICAgIEV2ZW50VHlwZVtcIkxvb3BcIl0gPSBcImxvb3BcIjtcbiAgICBFdmVudFR5cGVbXCJEcmF3XCJdID0gXCJkcmF3XCI7XG4gICAgRXZlbnRUeXBlW1wiU3RhdGVDaGFuZ2VcIl0gPSBcInN0YXRlY2hhbmdlXCI7XG59KShFdmVudFR5cGUgfHwgKEV2ZW50VHlwZSA9IHt9KSk7XG4vKipcbiAqIExvb3BpbmcgdHlwZXM6IG9uZS1zaG90LCBsb29wLCBhbmQgcGluZy1wb25nXG4gKi9cbnZhciBMb29wVHlwZTtcbihmdW5jdGlvbiAoTG9vcFR5cGUpIHtcbiAgICBMb29wVHlwZVtcIk9uZVNob3RcIl0gPSBcIm9uZXNob3RcIjtcbiAgICBMb29wVHlwZVtcIkxvb3BcIl0gPSBcImxvb3BcIjtcbiAgICBMb29wVHlwZVtcIlBpbmdQb25nXCJdID0gXCJwaW5ncG9uZ1wiO1xufSkoTG9vcFR5cGUgfHwgKExvb3BUeXBlID0ge30pKTtcbi8vIE1hbmFnZXMgUml2ZSBldmVudHMgYW5kIGxpc3RlbmVyc1xudmFyIEV2ZW50TWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFdmVudE1hbmFnZXIobGlzdGVuZXJzKSB7XG4gICAgICAgIGlmIChsaXN0ZW5lcnMgPT09IHZvaWQgMCkgeyBsaXN0ZW5lcnMgPSBbXTsgfVxuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgICB9XG4gICAgLy8gR2V0cyBsaXN0ZW5lcnMgb2Ygc3BlY2lmaWVkIHR5cGVcbiAgICBFdmVudE1hbmFnZXIucHJvdG90eXBlLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUudHlwZSA9PT0gdHlwZTsgfSk7XG4gICAgfTtcbiAgICAvLyBBZGRzIGEgbGlzdGVuZXJcbiAgICBFdmVudE1hbmFnZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmluY2x1ZGVzKGxpc3RlbmVyKSkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBsaXN0ZW5lclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciB0aGUgbGlzdGVuZXIgd2l0aCB0aGUgY2FsbGJhY2sgdG8gYmUgcmVtb3ZlZFxuICAgICAqL1xuICAgIEV2ZW50TWFuYWdlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIC8vIFdlIGNhbid0IHNpbXBseSBsb29rIGZvciB0aGUgbGlzdGVuZXIgYXMgaXQnbGwgYmUgYSBkaWZmZXJlbnQgaW5zdGFuY2UgdG9cbiAgICAgICAgLy8gb25lIG9yaWdpbmFsbHkgc3Vic2NyaWJlZC4gRmluZCBhbGwgdGhlIGxpc3RlbmVycyBvZiB0aGUgcmlnaHQgdHlwZSBhbmRcbiAgICAgICAgLy8gdGhlbiBjaGVjayB0aGVpciBjYWxsYmFja3Mgd2hpY2ggc2hvdWxkIG1hdGNoLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudExpc3RlbmVyID0gdGhpcy5saXN0ZW5lcnNbaV07XG4gICAgICAgICAgICBpZiAoY3VycmVudExpc3RlbmVyLnR5cGUgPT09IGxpc3RlbmVyLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudExpc3RlbmVyLmNhbGxiYWNrID09PSBsaXN0ZW5lci5jYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBsaXN0ZW5lcnMgb2Ygc3BlY2lmaWVkIHR5cGUsIG9yIGV2ZXJ5IGxpc3RlbmVyIGlmIG5vIHR5cGUgaXNcbiAgICAgKiBzcGVjaWZpZWRcbiAgICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiBsaXN0ZW5lcnMgdG8gY2xlYXIsIG9yIGFsbCBsaXN0ZW5lcnMgaWYgbm90XG4gICAgICogc3BlY2lmaWVkXG4gICAgICovXG4gICAgRXZlbnRNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSgwLCB0aGlzLmxpc3RlbmVycy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChsKSB7IHJldHVybiBsLnR5cGUgPT09IHR5cGU7IH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGwpIHsgcmV0dXJuIF90aGlzLnJlbW92ZShsKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEZpcmVzIGFuIGV2ZW50XG4gICAgRXZlbnRNYW5hZ2VyLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudExpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzKGV2ZW50LnR5cGUpO1xuICAgICAgICBldmVudExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIuY2FsbGJhY2soZXZlbnQpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBFdmVudE1hbmFnZXI7XG59KCkpO1xuLy8gTWFuYWdlcyBhIHF1ZXVlIG9mIHRhc2tzXG52YXIgVGFza1F1ZXVlTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYXNrUXVldWVNYW5hZ2VyKGV2ZW50TWFuYWdlcikge1xuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlciA9IGV2ZW50TWFuYWdlcjtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH1cbiAgICAvLyBBZGRzIGEgdGFzayB0b3AgdGhlIHF1ZXVlXG4gICAgVGFza1F1ZXVlTWFuYWdlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKHRhc2spO1xuICAgIH07XG4gICAgLy8gUHJvY2Vzc2VzIGFsbCB0YXNrcyBpbiB0aGUgcXVldWVcbiAgICBUYXNrUXVldWVNYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmICh0YXNrID09PSBudWxsIHx8IHRhc2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhc2suYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGFzay5hY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXNrID09PSBudWxsIHx8IHRhc2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhc2suZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlKHRhc2suZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGFza1F1ZXVlTWFuYWdlcjtcbn0oKSk7XG52YXIgUml2ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSaXZlKHBhcmFtcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFRyYWNrcyBpZiBhIFJpdmUgZmlsZSBpcyBsb2FkZWRcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrcyBpZiBhIFJpdmUgZmlsZSBpcyBsb2FkZWQ7IHdlIG5lZWQgdGhpcyBpbiBhZGRpdGlvbiB0byBsb2FkZWQgYXMgc29tZVxuICAgICAgICAgKiBjb21tYW5kcyAoZS5nLiBjb250ZW50cykgY2FuIGJlIGNhbGxlZCBhcyBzb29uIGFzIHRoZSBmaWxlIGlzIGxvYWRlZC5cbiAgICAgICAgICogSG93ZXZlciwgcGxheWJhY2sgY29tbWFuZHMgbmVlZCB0byBiZSBxdWV1ZWQgYW5kIHJ1biBpbiBvcmRlciBvbmNlIGluaXRpYWxcbiAgICAgICAgICogYW5pbWF0aW9ucyBhbmQgYXV0b3BsYXkgaGFzIGJlZW4gc29ydGVkIG91dC4gVGhpcyBhcHBsaWVzIHRvIHBsYXksIHBhdXNlLFxuICAgICAgICAgKiBhbmQgc3RhcnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlYWR5Rm9yUGxheWluZyA9IGZhbHNlO1xuICAgICAgICAvLyBSdW50aW1lIGFydGJvYXJkXG4gICAgICAgIHRoaXMuYXJ0Ym9hcmQgPSBudWxsO1xuICAgICAgICAvLyBwbGFjZSB0byBjbGVhciB1cCBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5ldmVudENsZWFudXAgPSBudWxsO1xuICAgICAgICB0aGlzLnNob3VsZERpc2FibGVSaXZlTGlzdGVuZXJzID0gZmFsc2U7XG4gICAgICAgIC8vIER1cmF0aW9ucyB0byBnZW5lcmF0ZSBhIGZyYW1lIGZvciB0aGUgbGFzdCBzZWNvbmQuIFVzZWQgZm9yIHBlcmZvcm1hbmNlIHByb2ZpbGluZy5cbiAgICAgICAgdGhpcy5kdXJhdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5mcmFtZVRpbWVzID0gW107XG4gICAgICAgIHRoaXMuZnJhbWVDb3VudCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJlIGRyYXcgdG8gdHJhY2sgd2hlbiBhIHNlY29uZCBvZiBhY3RpdmUgcmVuZGVyaW5nIHRpbWUgaGFzIHBhc3NlZC5cbiAgICAgICAgICogVXNlZCBmb3IgZGVidWdnaW5nIHB1cnBvc2VzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlclNlY29uZFRpbWVyID0gMDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBwYXJhbXMuY2FudmFzO1xuICAgICAgICB0aGlzLnNyYyA9IHBhcmFtcy5zcmM7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gcGFyYW1zLmJ1ZmZlcjtcbiAgICAgICAgdGhpcy5sYXlvdXQgPSAoX2EgPSBwYXJhbXMubGF5b3V0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgTGF5b3V0KCk7XG4gICAgICAgIHRoaXMuc2hvdWxkRGlzYWJsZVJpdmVMaXN0ZW5lcnMgPSAhIXBhcmFtcy5zaG91bGREaXNhYmxlUml2ZUxpc3RlbmVycztcbiAgICAgICAgLy8gTmV3IGV2ZW50IG1hbmFnZW1lbnQgc3lzdGVtXG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuICAgICAgICBpZiAocGFyYW1zLm9uTG9hZClcbiAgICAgICAgICAgIHRoaXMub24oRXZlbnRUeXBlLkxvYWQsIHBhcmFtcy5vbkxvYWQpO1xuICAgICAgICBpZiAocGFyYW1zLm9uTG9hZEVycm9yKVxuICAgICAgICAgICAgdGhpcy5vbihFdmVudFR5cGUuTG9hZEVycm9yLCBwYXJhbXMub25Mb2FkRXJyb3IpO1xuICAgICAgICBpZiAocGFyYW1zLm9uUGxheSlcbiAgICAgICAgICAgIHRoaXMub24oRXZlbnRUeXBlLlBsYXksIHBhcmFtcy5vblBsYXkpO1xuICAgICAgICBpZiAocGFyYW1zLm9uUGF1c2UpXG4gICAgICAgICAgICB0aGlzLm9uKEV2ZW50VHlwZS5QYXVzZSwgcGFyYW1zLm9uUGF1c2UpO1xuICAgICAgICBpZiAocGFyYW1zLm9uU3RvcClcbiAgICAgICAgICAgIHRoaXMub24oRXZlbnRUeXBlLlN0b3AsIHBhcmFtcy5vblN0b3ApO1xuICAgICAgICBpZiAocGFyYW1zLm9uTG9vcClcbiAgICAgICAgICAgIHRoaXMub24oRXZlbnRUeXBlLkxvb3AsIHBhcmFtcy5vbkxvb3ApO1xuICAgICAgICBpZiAocGFyYW1zLm9uU3RhdGVDaGFuZ2UpXG4gICAgICAgICAgICB0aGlzLm9uKEV2ZW50VHlwZS5TdGF0ZUNoYW5nZSwgcGFyYW1zLm9uU3RhdGVDaGFuZ2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVXNlIGNhbWVsQ2FzZSdkIHZlcnNpb25zIGluc3RlYWQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocGFyYW1zLm9ubG9hZCAmJiAhcGFyYW1zLm9uTG9hZClcbiAgICAgICAgICAgIHRoaXMub24oRXZlbnRUeXBlLkxvYWQsIHBhcmFtcy5vbmxvYWQpO1xuICAgICAgICBpZiAocGFyYW1zLm9ubG9hZGVycm9yICYmICFwYXJhbXMub25Mb2FkRXJyb3IpXG4gICAgICAgICAgICB0aGlzLm9uKEV2ZW50VHlwZS5Mb2FkRXJyb3IsIHBhcmFtcy5vbmxvYWRlcnJvcik7XG4gICAgICAgIGlmIChwYXJhbXMub25wbGF5ICYmICFwYXJhbXMub25QbGF5KVxuICAgICAgICAgICAgdGhpcy5vbihFdmVudFR5cGUuUGxheSwgcGFyYW1zLm9ucGxheSk7XG4gICAgICAgIGlmIChwYXJhbXMub25wYXVzZSAmJiAhcGFyYW1zLm9uUGF1c2UpXG4gICAgICAgICAgICB0aGlzLm9uKEV2ZW50VHlwZS5QYXVzZSwgcGFyYW1zLm9ucGF1c2UpO1xuICAgICAgICBpZiAocGFyYW1zLm9uc3RvcCAmJiAhcGFyYW1zLm9uU3RvcClcbiAgICAgICAgICAgIHRoaXMub24oRXZlbnRUeXBlLlN0b3AsIHBhcmFtcy5vbnN0b3ApO1xuICAgICAgICBpZiAocGFyYW1zLm9ubG9vcCAmJiAhcGFyYW1zLm9uTG9vcClcbiAgICAgICAgICAgIHRoaXMub24oRXZlbnRUeXBlLkxvb3AsIHBhcmFtcy5vbmxvb3ApO1xuICAgICAgICBpZiAocGFyYW1zLm9uc3RhdGVjaGFuZ2UgJiYgIXBhcmFtcy5vblN0YXRlQ2hhbmdlKVxuICAgICAgICAgICAgdGhpcy5vbihFdmVudFR5cGUuU3RhdGVDaGFuZ2UsIHBhcmFtcy5vbnN0YXRlY2hhbmdlKTtcbiAgICAgICAgLy8gSG9vayB1cCB0aGUgdGFzayBxdWV1ZVxuICAgICAgICB0aGlzLnRhc2tRdWV1ZSA9IG5ldyBUYXNrUXVldWVNYW5hZ2VyKHRoaXMuZXZlbnRNYW5hZ2VyKTtcbiAgICAgICAgdGhpcy5pbml0KHtcbiAgICAgICAgICAgIHNyYzogdGhpcy5zcmMsXG4gICAgICAgICAgICBidWZmZXI6IHRoaXMuYnVmZmVyLFxuICAgICAgICAgICAgYXV0b3BsYXk6IHBhcmFtcy5hdXRvcGxheSxcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IHBhcmFtcy5hbmltYXRpb25zLFxuICAgICAgICAgICAgc3RhdGVNYWNoaW5lczogcGFyYW1zLnN0YXRlTWFjaGluZXMsXG4gICAgICAgICAgICBhcnRib2FyZDogcGFyYW1zLmFydGJvYXJkLFxuICAgICAgICAgICAgdXNlT2Zmc2NyZWVuUmVuZGVyZXI6IHBhcmFtcy51c2VPZmZzY3JlZW5SZW5kZXJlcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEFsdGVybmF0aXZlIGNvbnN0cnVjdG9yIHRvIGJ1aWxkIGEgUml2ZSBpbnN0YW5jZSBmcm9tIGFuIGludGVyZmFjZS9vYmplY3RcbiAgICBSaXZlLm5ldyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVGhpcyBmdW5jdGlvbiBpcyBkZXByZWNhdGVkOiBwbGVhc2UgdXNlIGBuZXcgUml2ZSh7fSlgIGluc3RlYWRcIik7XG4gICAgICAgIHJldHVybiBuZXcgUml2ZShwYXJhbXMpO1xuICAgIH07XG4gICAgLy8gSW5pdGlhbGl6ZXMgdGhlIFJpdmUgb2JqZWN0IGVpdGhlciBmcm9tIGNvbnN0cnVjdG9yIG9yIGxvYWQoKVxuICAgIFJpdmUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHNyYyA9IF9hLnNyYywgYnVmZmVyID0gX2EuYnVmZmVyLCBhbmltYXRpb25zID0gX2EuYW5pbWF0aW9ucywgc3RhdGVNYWNoaW5lcyA9IF9hLnN0YXRlTWFjaGluZXMsIGFydGJvYXJkID0gX2EuYXJ0Ym9hcmQsIF9iID0gX2EuYXV0b3BsYXksIGF1dG9wbGF5ID0gX2IgPT09IHZvaWQgMCA/IGZhbHNlIDogX2IsIF9jID0gX2EudXNlT2Zmc2NyZWVuUmVuZGVyZXIsIHVzZU9mZnNjcmVlblJlbmRlcmVyID0gX2MgPT09IHZvaWQgMCA/IGZhbHNlIDogX2M7XG4gICAgICAgIHRoaXMuc3JjID0gc3JjO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgLy8gSWYgbm8gc291cmNlIGZpbGUgdXJsIHNwZWNpZmllZCwgaXQncyBhIGJ1c3RcbiAgICAgICAgaWYgKCF0aGlzLnNyYyAmJiAhdGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihSaXZlLm1pc3NpbmdFcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExpc3Qgb2YgYW5pbWF0aW9ucyB0aGF0IHNob3VsZCBiZSBpbml0aWFsaXplZC5cbiAgICAgICAgdmFyIHN0YXJ0aW5nQW5pbWF0aW9uTmFtZXMgPSBtYXBUb1N0cmluZ0FycmF5KGFuaW1hdGlvbnMpO1xuICAgICAgICAvLyBMaXN0IG9mIHN0YXRlIG1hY2hpbmVzIHRoYXQgc2hvdWxkIGJlIGluaXRpYWxpemVkXG4gICAgICAgIHZhciBzdGFydGluZ1N0YXRlTWFjaGluZU5hbWVzID0gbWFwVG9TdHJpbmdBcnJheShzdGF0ZU1hY2hpbmVzKTtcbiAgICAgICAgLy8gRW5zdXJlIGxvYWRlZCBpcyBtYXJrZWQgYXMgZmFsc2UgaWYgbG9hZGluZyBuZXcgZmlsZVxuICAgICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlYWR5Rm9yUGxheWluZyA9IGZhbHNlO1xuICAgICAgICAvLyBFbnN1cmUgdGhlIHJ1bnRpbWUgaXMgbG9hZGVkXG4gICAgICAgIFJ1bnRpbWVMb2FkZXIuYXdhaXRJbnN0YW5jZSgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocnVudGltZSkge1xuICAgICAgICAgICAgX3RoaXMucnVudGltZSA9IHJ1bnRpbWU7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIGNhbnZhcyB3aGVyZSB5b3Ugd2FudCB0byByZW5kZXIgdGhlIGFuaW1hdGlvbiBhbmQgY3JlYXRlIGEgcmVuZGVyZXJcbiAgICAgICAgICAgIF90aGlzLnJlbmRlcmVyID0gX3RoaXMucnVudGltZS5tYWtlUmVuZGVyZXIoX3RoaXMuY2FudmFzLCB1c2VPZmZzY3JlZW5SZW5kZXJlcik7XG4gICAgICAgICAgICAvLyBJbml0aWFsIHNpemUgYWRqdXN0bWVudCBiYXNlZCBvbiBkZXZpY2VQaXhlbFJhdGlvIGlmIG5vIHdpZHRoL2hlaWdodCBhcmVcbiAgICAgICAgICAgIC8vIHNwZWNpZmllZCBleHBsaWNpdGx5XG4gICAgICAgICAgICBpZiAoIShfdGhpcy5jYW52YXMud2lkdGggfHwgX3RoaXMuY2FudmFzLmhlaWdodCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNpemVEcmF3aW5nU3VyZmFjZVRvQ2FudmFzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMb2FkIFJpdmUgZGF0YSBmcm9tIGEgc291cmNlIHVyaSBvciBhIGRhdGEgYnVmZmVyXG4gICAgICAgICAgICBfdGhpcy5pbml0RGF0YShhcnRib2FyZCwgc3RhcnRpbmdBbmltYXRpb25OYW1lcywgc3RhcnRpbmdTdGF0ZU1hY2hpbmVOYW1lcywgYXV0b3BsYXkpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2V0dXBSaXZlTGlzdGVuZXJzKCk7IH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJpdmUucHJvdG90eXBlLnNldHVwUml2ZUxpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZERpc2FibGVSaXZlTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB2YXIgYWN0aXZlU3RhdGVNYWNoaW5lcyA9ICh0aGlzLmFuaW1hdG9yLnN0YXRlTWFjaGluZXMgfHwgW10pXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc20pIHsgcmV0dXJuIHNtLnBsYXlpbmcgJiYgX3RoaXMucnVudGltZS5oYXNMaXN0ZW5lcnMoc20uaW5zdGFuY2UpOyB9KVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHNtKSB7IHJldHVybiBzbS5pbnN0YW5jZTsgfSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50Q2xlYW51cCA9ICgwLF91dGlsc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fLnJlZ2lzdGVyVG91Y2hJbnRlcmFjdGlvbnMpKHtcbiAgICAgICAgICAgICAgICBjYW52YXM6IHRoaXMuY2FudmFzLFxuICAgICAgICAgICAgICAgIGFydGJvYXJkOiB0aGlzLmFydGJvYXJkLFxuICAgICAgICAgICAgICAgIHN0YXRlTWFjaGluZXM6IGFjdGl2ZVN0YXRlTWFjaGluZXMsXG4gICAgICAgICAgICAgICAgcmVuZGVyZXI6IHRoaXMucmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgcml2ZTogdGhpcy5ydW50aW1lLFxuICAgICAgICAgICAgICAgIGZpdDogdGhpcy5fbGF5b3V0LnJ1bnRpbWVGaXQodGhpcy5ydW50aW1lKSxcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IHRoaXMuX2xheW91dC5ydW50aW1lQWxpZ25tZW50KHRoaXMucnVudGltZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gSW5pdGlhbGl6ZXMgcnVudGltZSB3aXRoIFJpdmUgZGF0YSBhbmQgcHJlcHMgZm9yIHBsYXlpbmdcbiAgICBSaXZlLnByb3RvdHlwZS5pbml0RGF0YSA9IGZ1bmN0aW9uIChhcnRib2FyZE5hbWUsIGFuaW1hdGlvbk5hbWVzLCBzdGF0ZU1hY2hpbmVOYW1lcywgYXV0b3BsYXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2IsIF9jLCBtc2c7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9kKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfZC5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3JjKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGxvYWRSaXZlRmlsZSh0aGlzLnNyYyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5idWZmZXIgPSBfZC5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZC5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvYWQgdGhlIFJpdmUgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgX2MgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5ydW50aW1lLmxvYWQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvYWQgdGhlIFJpdmUgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgX2MuZmlsZSA9IF9kLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbml0aWFsaXplIGFuZCBkcmF3IGZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0QXJ0Ym9hcmQoYXJ0Ym9hcmROYW1lLCBhbmltYXRpb25OYW1lcywgc3RhdGVNYWNoaW5lTmFtZXMsIGF1dG9wbGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFdmVyeXRoaW5nJ3Mgc2V0IHVwLCBlbWl0IGEgbG9hZCBldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRXZlbnRUeXBlLkxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IChfYSA9IHRoaXMuc3JjKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcImJ1ZmZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZsYWcgcmVhZHkgZm9yIHBsYXliYWNrIGNvbW1hbmRzIGFuZCBjbGVhciB0aGUgdGFzayBxdWV1ZTsgdGhpcyBvcmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGltcG9ydGFudCBvciBpdCBtYXkgaW5maW5pdGVseSByZWN1cnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkeUZvclBsYXlpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFza1F1ZXVlLnByb2Nlc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdGcmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlc29sdmUoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSBcIlByb2JsZW0gbG9hZGluZyBmaWxlOyBtYXkgYmUgY29ycnVwdCFcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4obXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlKHsgdHlwZTogRXZlbnRUeXBlLkxvYWRFcnJvciwgZGF0YTogbXNnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlamVjdChtc2cpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBJbml0aWFsaXplIGZvciBwbGF5YmFja1xuICAgIFJpdmUucHJvdG90eXBlLmluaXRBcnRib2FyZCA9IGZ1bmN0aW9uIChhcnRib2FyZE5hbWUsIGFuaW1hdGlvbk5hbWVzLCBzdGF0ZU1hY2hpbmVOYW1lcywgYXV0b3BsYXkpIHtcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGFydGJvYXJkXG4gICAgICAgIHZhciByb290QXJ0Ym9hcmQgPSBhcnRib2FyZE5hbWVcbiAgICAgICAgICAgID8gdGhpcy5maWxlLmFydGJvYXJkQnlOYW1lKGFydGJvYXJkTmFtZSlcbiAgICAgICAgICAgIDogdGhpcy5maWxlLmRlZmF1bHRBcnRib2FyZCgpO1xuICAgICAgICAvLyBDaGVjayB3ZSBoYXZlIGEgd29ya2luZyBhcnRib2FyZFxuICAgICAgICBpZiAoIXJvb3RBcnRib2FyZCkge1xuICAgICAgICAgICAgdmFyIG1zZyA9IFwiSW52YWxpZCBhcnRib2FyZCBuYW1lIG9yIG5vIGRlZmF1bHQgYXJ0Ym9hcmRcIjtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybihtc2cpO1xuICAgICAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIuZmlyZSh7IHR5cGU6IEV2ZW50VHlwZS5Mb2FkRXJyb3IsIGRhdGE6IG1zZyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFydGJvYXJkID0gcm9vdEFydGJvYXJkO1xuICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBhcnRib2FyZCBoYXMgYXQgbGVhc3QgMSBhbmltYXRpb25cbiAgICAgICAgaWYgKHRoaXMuYXJ0Ym9hcmQuYW5pbWF0aW9uQ291bnQoKSA8IDEpIHtcbiAgICAgICAgICAgIHZhciBtc2cgPSBcIkFydGJvYXJkIGhhcyBubyBhbmltYXRpb25zXCI7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5maXJlKHsgdHlwZTogRXZlbnRUeXBlLkxvYWRFcnJvciwgZGF0YTogbXNnIH0pO1xuICAgICAgICAgICAgdGhyb3cgbXNnO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGFuaW1hdG9yXG4gICAgICAgIHRoaXMuYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3IodGhpcy5ydW50aW1lLCB0aGlzLmFydGJvYXJkLCB0aGlzLmV2ZW50TWFuYWdlcik7XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGFuaW1hdGlvbnM7IGFzIGxvYWRlZCBoYXNuJ3QgaGFwcGVuZWQgeWV0LCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIHN1cHByZXNzIGZpcmluZyB0aGUgcGxheS9wYXVzZSBldmVudHMgdW50aWwgdGhlIGxvYWQgZXZlbnQgaGFzIGZpcmVkLiBUb1xuICAgICAgICAvLyBkbyB0aGlzIHdlIHRlbGwgdGhlIGFuaW1hdG9yIHRvIHN1cHByZXNzIGZpcmluZyBldmVudHMsIGFuZCBhZGQgZXZlbnRcbiAgICAgICAgLy8gZmlyaW5nIHRvIHRoZSB0YXNrIHF1ZXVlLlxuICAgICAgICB2YXIgaW5zdGFuY2VOYW1lcztcbiAgICAgICAgaWYgKGFuaW1hdGlvbk5hbWVzLmxlbmd0aCA+IDAgfHwgc3RhdGVNYWNoaW5lTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW5zdGFuY2VOYW1lcyA9IGFuaW1hdGlvbk5hbWVzLmNvbmNhdChzdGF0ZU1hY2hpbmVOYW1lcyk7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmFkZChpbnN0YW5jZU5hbWVzLCBhdXRvcGxheSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5zdGFuY2VOYW1lcyA9IFt0aGlzLmFuaW1hdG9yLmF0TGVhc3RPbmUoYXV0b3BsYXksIGZhbHNlKV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUXVldWUgdXAgZmlyaW5nIHRoZSBwbGF5YmFjayBldmVudHNcbiAgICAgICAgdGhpcy50YXNrUXVldWUuYWRkKHtcbiAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogYXV0b3BsYXkgPyBFdmVudFR5cGUuUGxheSA6IEV2ZW50VHlwZS5QYXVzZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBpbnN0YW5jZU5hbWVzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBEcmF3cyB0aGUgY3VycmVudCBhcnRib2FyZCBmcmFtZVxuICAgIFJpdmUucHJvdG90eXBlLmRyYXdGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGFydFJlbmRlcmluZygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhdyByZW5kZXJpbmcgbG9vcDsgcmVuZGVycyBhbmltYXRpb24gZnJhbWVzIGF0IHRoZSBjb3JyZWN0IHRpbWUgaW50ZXJ2YWwuXG4gICAgICogQHBhcmFtIHRpbWUgdGhlIHRpbWUgYXQgd2hpY2ggdG8gcmVuZGVyIGEgZnJhbWVcbiAgICAgKi9cbiAgICBSaXZlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKHRpbWUsIG9uU2Vjb25kKSB7XG4gICAgICAgIHZhciBiZWZvcmUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIGZyYW1lUmVxdWVzdElkLCBhcyB3ZSdyZSBub3cgcmVuZGVyaW5nIGEgZnJlc2ggZnJhbWVcbiAgICAgICAgdGhpcy5mcmFtZVJlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIC8vIE9uIHRoZSBmaXJzdCBwYXNzLCBtYWtlIHN1cmUgbGFzdFRpbWUgaGFzIGEgdmFsaWQgdmFsdWVcbiAgICAgICAgaWYgKCF0aGlzLmxhc3RSZW5kZXJUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RSZW5kZXJUaW1lID0gdGltZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgdGhlIG9uU2Vjb25kIGNhbGxiYWNrXG4gICAgICAgIHRoaXMucmVuZGVyU2Vjb25kVGltZXIgKz0gdGltZSAtIHRoaXMubGFzdFJlbmRlclRpbWU7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlclNlY29uZFRpbWVyID4gNTAwMCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJTZWNvbmRUaW1lciA9IDA7XG4gICAgICAgICAgICBvblNlY29uZCA9PT0gbnVsbCB8fCBvblNlY29uZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25TZWNvbmQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGVsYXBzZWQgdGltZSBiZXR3ZWVuIGZyYW1lcyBpbiBzZWNvbmRzXG4gICAgICAgIHZhciBlbGFwc2VkVGltZSA9ICh0aW1lIC0gdGhpcy5sYXN0UmVuZGVyVGltZSkgLyAxMDAwO1xuICAgICAgICB0aGlzLmxhc3RSZW5kZXJUaW1lID0gdGltZTtcbiAgICAgICAgLy8gLSBBZHZhbmNlIG5vbi1wYXVzZWQgYW5pbWF0aW9ucyBieSB0aGUgZWxhcHNlZCBudW1iZXIgb2Ygc2Vjb25kc1xuICAgICAgICAvLyAtIEFkdmFuY2UgYW55IGFuaW1hdGlvbnMgdGhhdCByZXF1aXJlIHNjcnViYmluZ1xuICAgICAgICAvLyAtIEFkdmFuY2UgdG8gdGhlIGZpcnN0IGZyYW1lIGV2ZW4gd2hlbiBhdXRvcGxheSBpcyBmYWxzZVxuICAgICAgICB2YXIgYWN0aXZlQW5pbWF0aW9ucyA9IHRoaXMuYW5pbWF0b3IuYW5pbWF0aW9uc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5wbGF5aW5nIHx8IGEubmVlZHNTY3J1YjsgfSlcbiAgICAgICAgICAgIC8vIFRoZSBzY3J1YmJlZCBhbmltYXRpb25zIG11c3QgYmUgYXBwbGllZCBmaXJzdCB0byBwcmV2ZW50IHdlaXJkIGFydGlmYWN0c1xuICAgICAgICAgICAgLy8gaWYgdGhlIHBsYXlpbmcgYW5pbWF0aW9ucyBjb25mbGljdCB3aXRoIHRoZSBzY3J1YmJlZCBhbmltYXRpbmcgYXR0cmlidWF0ZXMuXG4gICAgICAgICAgICAuc29ydChmdW5jdGlvbiAoZmlyc3QpIHsgcmV0dXJuIChmaXJzdC5uZWVkc1NjcnViID8gLTEgOiAxKTsgfSk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgYWN0aXZlQW5pbWF0aW9uc18xID0gYWN0aXZlQW5pbWF0aW9uczsgX2kgPCBhY3RpdmVBbmltYXRpb25zXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gYWN0aXZlQW5pbWF0aW9uc18xW19pXTtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5hZHZhbmNlKGVsYXBzZWRUaW1lKTtcbiAgICAgICAgICAgIGlmIChhbmltYXRpb24uaW5zdGFuY2UuZGlkTG9vcCkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5sb29wQ291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuaW1hdGlvbi5hcHBseSgxLjApO1xuICAgICAgICB9XG4gICAgICAgIC8vIC0gQWR2YW5jZSBub24tcGF1c2VkIHN0YXRlIG1hY2hpbmVzIGJ5IHRoZSBlbGFwc2VkIG51bWJlciBvZiBzZWNvbmRzXG4gICAgICAgIC8vIC0gQWR2YW5jZSB0byB0aGUgZmlyc3QgZnJhbWUgZXZlbiB3aGVuIGF1dG9wbGF5IGlzIGZhbHNlXG4gICAgICAgIHZhciBhY3RpdmVTdGF0ZU1hY2hpbmVzID0gdGhpcy5hbmltYXRvci5zdGF0ZU1hY2hpbmVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5wbGF5aW5nOyB9KTtcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBhY3RpdmVTdGF0ZU1hY2hpbmVzXzEgPSBhY3RpdmVTdGF0ZU1hY2hpbmVzOyBfYSA8IGFjdGl2ZVN0YXRlTWFjaGluZXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZU1hY2hpbmUgPSBhY3RpdmVTdGF0ZU1hY2hpbmVzXzFbX2FdO1xuICAgICAgICAgICAgc3RhdGVNYWNoaW5lLmFkdmFuY2UoZWxhcHNlZFRpbWUpO1xuICAgICAgICAgICAgLy8gc3RhdGVNYWNoaW5lLmluc3RhbmNlLmFwcGx5KHRoaXMuYXJ0Ym9hcmQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9uY2UgdGhlIGFuaW1hdGlvbnMgaGF2ZSBiZWVuIGFwcGxpZWQgdG8gdGhlIGFydGJvYXJkLCBhZHZhbmNlIGl0XG4gICAgICAgIC8vIGJ5IHRoZSBlbGFwc2VkIHRpbWUuXG4gICAgICAgIHRoaXMuYXJ0Ym9hcmQuYWR2YW5jZShlbGFwc2VkVGltZSk7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIC8vIENhbnZhcyBtdXN0IGJlIHdpcGVkIHRvIHByZXZlbnQgYXJ0aWZhY3RzXG4gICAgICAgIHJlbmRlcmVyLmNsZWFyKCk7XG4gICAgICAgIHJlbmRlcmVyLnNhdmUoKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSByZW5kZXJlciBhbGlnbm1lbnQgaWYgbmVjZXNzYXJ5XG4gICAgICAgIHRoaXMuYWxpZ25SZW5kZXJlcigpO1xuICAgICAgICB0aGlzLmFydGJvYXJkLmRyYXcocmVuZGVyZXIpO1xuICAgICAgICByZW5kZXJlci5yZXN0b3JlKCk7XG4gICAgICAgIHJlbmRlcmVyLmZsdXNoKCk7XG4gICAgICAgIC8vIENoZWNrIGZvciBhbnkgYW5pbWF0aW9ucyB0aGF0IGxvb3BlZFxuICAgICAgICB0aGlzLmFuaW1hdG9yLmhhbmRsZUxvb3BpbmcoKTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGFueSBzdGF0ZSBtYWNoaW5lcyB0aGF0IGhhZCBhIHN0YXRlIGNoYW5nZVxuICAgICAgICB0aGlzLmFuaW1hdG9yLmhhbmRsZVN0YXRlQ2hhbmdlcygpO1xuICAgICAgICAvLyBBZGQgZHVyYXRpb24gdG8gY3JlYXRlIGZyYW1lIHRvIGR1cmF0aW9ucyBhcnJheVxuICAgICAgICB0aGlzLmZyYW1lQ291bnQrKztcbiAgICAgICAgdmFyIGFmdGVyID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHRoaXMuZnJhbWVUaW1lcy5wdXNoKGFmdGVyKTtcbiAgICAgICAgdGhpcy5kdXJhdGlvbnMucHVzaChhZnRlciAtIGJlZm9yZSk7XG4gICAgICAgIHdoaWxlICh0aGlzLmZyYW1lVGltZXNbMF0gPD0gYWZ0ZXIgLSAxMDAwKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lVGltZXMuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb25zLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FsbGluZyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgd2lsbCByZXJ1biBkcmF3KCkgYXQgdGhlIGNvcnJlY3QgcmF0ZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc19BUEkvVHV0b3JpYWwvQmFzaWNfYW5pbWF0aW9uc1xuICAgICAgICBpZiAodGhpcy5hbmltYXRvci5pc1BsYXlpbmcpIHtcbiAgICAgICAgICAgIC8vIFJlcXVlc3QgYSBuZXcgcmVuZGVyaW5nIGZyYW1lXG4gICAgICAgICAgICB0aGlzLnN0YXJ0UmVuZGVyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hbmltYXRvci5pc1BhdXNlZCkge1xuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIGVuZCB0aW1lIHNvIG9uIHBsYXliYWNrIGl0IHN0YXJ0cyBhdCB0aGUgY29ycmVjdCBmcmFtZVxuICAgICAgICAgICAgdGhpcy5sYXN0UmVuZGVyVGltZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hbmltYXRvci5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIC8vIFJlc2V0IGFuaW1hdGlvbiBpbnN0YW5jZXMsIGFydGJvYXJkIGFuZCB0aW1lXG4gICAgICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgdGhpcyBwcm9wZXJseSB3aGVuIHdlIGhhdmUgaW5zdGFuY2luZ1xuICAgICAgICAgICAgLy8gdGhpcy5pbml0QXJ0Ym9hcmQoKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZHJhd0ZyYW1lKCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RSZW5kZXJUaW1lID0gMDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWxpZ24gdGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgUml2ZS5wcm90b3R5cGUuYWxpZ25SZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcmVuZGVyZXIgPSBfYS5yZW5kZXJlciwgcnVudGltZSA9IF9hLnJ1bnRpbWUsIF9sYXlvdXQgPSBfYS5fbGF5b3V0LCBhcnRib2FyZCA9IF9hLmFydGJvYXJkO1xuICAgICAgICAvLyBBbGlnbiB0aGluZ3MgdXAgc2FmZSBpbiB0aGUga25vd2xlZGdlIHdlIGNhbiByZXN0b3JlIGlmIGNoYW5nZWRcbiAgICAgICAgcmVuZGVyZXIuYWxpZ24oX2xheW91dC5ydW50aW1lRml0KHJ1bnRpbWUpLCBfbGF5b3V0LnJ1bnRpbWVBbGlnbm1lbnQocnVudGltZSksIHtcbiAgICAgICAgICAgIG1pblg6IF9sYXlvdXQubWluWCxcbiAgICAgICAgICAgIG1pblk6IF9sYXlvdXQubWluWSxcbiAgICAgICAgICAgIG1heFg6IF9sYXlvdXQubWF4WCxcbiAgICAgICAgICAgIG1heFk6IF9sYXlvdXQubWF4WSxcbiAgICAgICAgfSwgYXJ0Ym9hcmQuYm91bmRzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSaXZlLnByb3RvdHlwZSwgXCJmcHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmR1cmF0aW9ucy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUml2ZS5wcm90b3R5cGUsIFwiZnJhbWVUaW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kdXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuZHVyYXRpb25zLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0sIDApIC8gdGhpcy5kdXJhdGlvbnMubGVuZ3RoKS50b0ZpeGVkKDQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGFsbCBXYXNtLWdlbmVyYXRlZCBvYmplY3RzIHRoYXQgbmVlZCB0byBiZSBtYW51YWxseSBkZXN0cm95ZWQ6XG4gICAgICogYXJ0Ym9hcmQgaW5zdGFuY2VzLCBhbmltYXRpb24gaW5zdGFuY2VzLCBzdGF0ZSBtYWNoaW5lIGluc3RhbmNlcyxcbiAgICAgKiByZW5kZXJlciBpbnN0YW5jZSwgZmlsZSBhbmQgcnVudGltZS5cbiAgICAgKlxuICAgICAqIE9uY2UgdGhpcyBpcyBjYWxsZWQsIHlvdSB3aWxsIG5lZWQgdG8gaW5pdGlhbGlzZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGVcbiAgICAgKiBSaXZlIGNsYXNzXG4gICAgICovXG4gICAgUml2ZS5wcm90b3R5cGUuY2xlYW51cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgLy8gU3RvcCB0aGUgcmVuZGVyZXIgaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlbiBzdG9wcGVkLlxuICAgICAgICB0aGlzLnN0b3BSZW5kZXJpbmcoKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgYW55IGFydGJvYXJkLCBhbmltYXRpb24gb3Igc3RhdGUgbWFjaGluZSBpbnN0YW5jZXMuXG4gICAgICAgIHRoaXMuY2xlYW51cEluc3RhbmNlcygpO1xuICAgICAgICAvLyBEZWxldGUgdGhlIHJlbmRlcmVyXG4gICAgICAgIChfYSA9IHRoaXMucmVuZGVyZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWxldGUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIC8vIERlbGV0ZSB0aGUgcml2ZSBmaWxlXG4gICAgICAgIChfYiA9IHRoaXMuZmlsZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRlbGV0ZSgpO1xuICAgICAgICB0aGlzLmZpbGUgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGFueSBXYXNtLWdlbmVyYXRlZCBvYmplY3RzIHRoYXQgbmVlZCB0byBiZSBtYW51YWxseSBkZXN0cm95ZWQ6XG4gICAgICogYXJ0Ym9hcmQgaW5zdGFuY2VzLCBhbmltYXRpb24gaW5zdGFuY2VzLCBzdGF0ZSBtYWNoaW5lIGluc3RhbmNlcy5cbiAgICAgKlxuICAgICAqIE9uY2UgdGhpcyBpcyBjYWxsZWQsIHRoaW5ncyB3aWxsIG5lZWQgdG8gYmUgcmVpbml0aWFsaXplZCBvciBiYWQgdGhpbmdzXG4gICAgICogbWlnaHQgaGFwcGVuLlxuICAgICAqL1xuICAgIFJpdmUucHJvdG90eXBlLmNsZWFudXBJbnN0YW5jZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmV2ZW50Q2xlYW51cCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudENsZWFudXAoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWxldGUgYWxsIGFuaW1hdGlvbiBhbmQgc3RhdGUgbWFjaGluZSBpbnN0YW5jZXNcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIGlmICh0aGlzLmFydGJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmFydGJvYXJkLmRlbGV0ZSgpO1xuICAgICAgICAgICAgdGhpcy5hcnRib2FyZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFBsYXlzIHNwZWNpZmllZCBhbmltYXRpb25zOyBpZiBub25lIHNwZWNpZmllZCwgaXQgdW5wYXVzZXMgZXZlcnl0aGluZy5cbiAgICBSaXZlLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKGFuaW1hdGlvbk5hbWVzLCBhdXRvcGxheSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBhbmltYXRpb25OYW1lcyA9IG1hcFRvU3RyaW5nQXJyYXkoYW5pbWF0aW9uTmFtZXMpO1xuICAgICAgICAvLyBJZiB0aGUgZmlsZSdzIG5vdCBsb2FkZWQsIHF1ZXVlIHVwIHRoZSBwbGF5XG4gICAgICAgIGlmICghdGhpcy5yZWFkeUZvclBsYXlpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudGFza1F1ZXVlLmFkZCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wbGF5KGFuaW1hdGlvbk5hbWVzLCBhdXRvcGxheSk7IH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdG9yLnBsYXkoYW5pbWF0aW9uTmFtZXMpO1xuICAgICAgICBpZiAodGhpcy5ldmVudENsZWFudXApIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRDbGVhbnVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXR1cFJpdmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5zdGFydFJlbmRlcmluZygpO1xuICAgIH07XG4gICAgLy8gUGF1c2VzIHNwZWNpZmllZCBhbmltYXRpb25zOyBpZiBub25lIHNwZWNpZmllZCwgcGF1c2VzIGFsbC5cbiAgICBSaXZlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChhbmltYXRpb25OYW1lcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBhbmltYXRpb25OYW1lcyA9IG1hcFRvU3RyaW5nQXJyYXkoYW5pbWF0aW9uTmFtZXMpO1xuICAgICAgICAvLyBJZiB0aGUgZmlsZSdzIG5vdCBsb2FkZWQsIGVhcmx5IG91dCwgbm90aGluZyB0byBwYXVzZVxuICAgICAgICBpZiAoIXRoaXMucmVhZHlGb3JQbGF5aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnRhc2tRdWV1ZS5hZGQoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucGF1c2UoYW5pbWF0aW9uTmFtZXMpOyB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltYXRvci5wYXVzZShhbmltYXRpb25OYW1lcyk7XG4gICAgfTtcbiAgICBSaXZlLnByb3RvdHlwZS5zY3J1YiA9IGZ1bmN0aW9uIChhbmltYXRpb25OYW1lcywgdmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgYW5pbWF0aW9uTmFtZXMgPSBtYXBUb1N0cmluZ0FycmF5KGFuaW1hdGlvbk5hbWVzKTtcbiAgICAgICAgLy8gSWYgdGhlIGZpbGUncyBub3QgbG9hZGVkLCBlYXJseSBvdXQsIG5vdGhpbmcgdG8gcGF1c2VcbiAgICAgICAgaWYgKCF0aGlzLnJlYWR5Rm9yUGxheWluZykge1xuICAgICAgICAgICAgdGhpcy50YXNrUXVldWUuYWRkKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNjcnViKGFuaW1hdGlvbk5hbWVzLCB2YWx1ZSk7IH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTY3J1YiB0aGUgYW5pbWF0aW9uIHRpbWU7IHdlIGRyYXcgYSBzaW5nbGUgZnJhbWUgaGVyZSBzbyB0aGF0IGlmXG4gICAgICAgIC8vIG5vdGhpbmcncyBjdXJyZW50bHkgcGxheWluZywgdGhlIHNjcnViYmVkIGFuaW1hdGlvbiBpcyBzdGlsbCByZW5kZXJlZC9cbiAgICAgICAgdGhpcy5hbmltYXRvci5zY3J1YihhbmltYXRpb25OYW1lcywgdmFsdWUgfHwgMCk7XG4gICAgICAgIHRoaXMuZHJhd0ZyYW1lKCk7XG4gICAgfTtcbiAgICAvLyBTdG9wcyBzcGVjaWZpZWQgYW5pbWF0aW9uczsgaWYgbm9uZSBzcGVjaWZpZXMsIHN0b3BzIHRoZW0gYWxsLlxuICAgIFJpdmUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoYW5pbWF0aW9uTmFtZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgYW5pbWF0aW9uTmFtZXMgPSBtYXBUb1N0cmluZ0FycmF5KGFuaW1hdGlvbk5hbWVzKTtcbiAgICAgICAgLy8gSWYgdGhlIGZpbGUncyBub3QgbG9hZGVkLCBlYXJseSBvdXQsIG5vdGhpbmcgdG8gcGF1c2VcbiAgICAgICAgaWYgKCF0aGlzLnJlYWR5Rm9yUGxheWluZykge1xuICAgICAgICAgICAgdGhpcy50YXNrUXVldWUuYWRkKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnN0b3AoYW5pbWF0aW9uTmFtZXMpOyB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltYXRvci5zdG9wKGFuaW1hdGlvbk5hbWVzKTtcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRDbGVhbnVwKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50Q2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGFuaW1hdGlvblxuICAgICAqIEBwYXJhbSBhcnRib2FyZCB0aGUgbmFtZSBvZiB0aGUgYXJ0Ym9hcmQsIG9yIGRlZmF1bHQgaWYgbm9uZSBnaXZlblxuICAgICAqIEBwYXJhbSBhbmltYXRpb25zIHRoZSBuYW1lcyBvZiBhbmltYXRpb25zIGZvciBwbGF5YmFja1xuICAgICAqIEBwYXJhbSBzdGF0ZU1hY2hpbmVzIHRoZSBuYW1lcyBvZiBzdGF0ZSBtYWNoaW5lcyBmb3IgcGxheWJhY2tcbiAgICAgKiBAcGFyYW0gYXV0b3BsYXkgd2hldGhlciB0byBhdXRvcGxheSB3aGVuIHJlc2V0LCBkZWZhdWx0cyB0byBmYWxzZVxuICAgICAqXG4gICAgICovXG4gICAgUml2ZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IGFydGJvYXJkLCBhbmltYXRpb25zLCBzdGF0ZSBtYWNoaW5lcywgYW5kIHBsYXliYWNrIHN0YXRlc1xuICAgICAgICB2YXIgYXJ0Qm9hcmROYW1lID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmFydGJvYXJkO1xuICAgICAgICB2YXIgYW5pbWF0aW9uTmFtZXMgPSBtYXBUb1N0cmluZ0FycmF5KHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5hbmltYXRpb25zKTtcbiAgICAgICAgdmFyIHN0YXRlTWFjaGluZU5hbWVzID0gbWFwVG9TdHJpbmdBcnJheShwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuc3RhdGVNYWNoaW5lcyk7XG4gICAgICAgIHZhciBhdXRvcGxheSA9IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5hdXRvcGxheSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2U7XG4gICAgICAgIC8vIFN0b3AgZXZlcnl0aGluZyBhbmQgY2xlYW4gdXBcbiAgICAgICAgdGhpcy5jbGVhbnVwSW5zdGFuY2VzKCk7XG4gICAgICAgIC8vIFJlaW5pdGlhbGl6ZSBhbiBhcnRib2FyZCBpbnN0YW5jZSB3aXRoIHRoZSBzdGF0ZVxuICAgICAgICB0aGlzLmluaXRBcnRib2FyZChhcnRCb2FyZE5hbWUsIGFuaW1hdGlvbk5hbWVzLCBzdGF0ZU1hY2hpbmVOYW1lcywgYXV0b3BsYXkpO1xuICAgICAgICB0aGlzLnRhc2tRdWV1ZS5wcm9jZXNzKCk7XG4gICAgfTtcbiAgICAvLyBMb2FkcyBhIG5ldyBSaXZlIGZpbGUsIGtlZXBpbmcgbGlzdGVuZXJzIGluIHBsYWNlXG4gICAgUml2ZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgLy8gU3RvcCBhbGwgYW5pbWF0aW9uc1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgLy8gUmVpbml0aWFsaXplXG4gICAgICAgIHRoaXMuaW5pdChwYXJhbXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJpdmUucHJvdG90eXBlLCBcImxheW91dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGxheW91dC4gTm90ZSB0aGF0IGxheW91dCBzaG91bGQgYmUgdHJlYXRlZCBhc1xuICAgICAgICAgKiBpbW11dGFibGUuIElmIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgbGF5b3V0LCBjcmVhdGUgYSBuZXcgb25lIHVzZSB0aGVcbiAgICAgICAgICogbGF5b3V0IHNldHRlclxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGF5b3V0O1xuICAgICAgICB9LFxuICAgICAgICAvLyBTZXRzIGEgbmV3IGxheW91dFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsYXlvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xheW91dCA9IGxheW91dDtcbiAgICAgICAgICAgIC8vIElmIHRoZSBtYXhYIG9yIG1heFkgYXJlIDAsIHRoZW4gc2V0IHRoZW0gdG8gdGhlIGNhbnZhcyB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICAgICAgICBpZiAoIWxheW91dC5tYXhYIHx8ICFsYXlvdXQubWF4WSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplVG9DYW52YXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxvYWRlZCAmJiAhdGhpcy5hbmltYXRvci5pc1BsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdGcmFtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGF5b3V0IGJvdW5kcyB0byB0aGUgY3VycmVudCBjYW52YXMgc2l6ZTsgdGhpcyBpcyB0eXBpY2FsbHkgY2FsbGVkXG4gICAgICogd2hlbiB0aGUgY2FudmFzIGlzIHJlc2l6ZWRcbiAgICAgKi9cbiAgICBSaXZlLnByb3RvdHlwZS5yZXNpemVUb0NhbnZhcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbGF5b3V0ID0gdGhpcy5sYXlvdXQuY29weVdpdGgoe1xuICAgICAgICAgICAgbWluWDogMCxcbiAgICAgICAgICAgIG1pblk6IDAsXG4gICAgICAgICAgICBtYXhYOiB0aGlzLmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgIG1heFk6IHRoaXMuY2FudmFzLmhlaWdodCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY2NvdW50cyBmb3IgZGV2aWNlUGl4ZWxSYXRpbyBhcyBhIG11bHRpcGxpZXIgdG8gcmVuZGVyIHRoZSBzaXplIG9mIHRoZSBjYW52YXMgZHJhd2luZyBzdXJmYWNlLlxuICAgICAqIFVzZXMgdGhlIHNpemUgb2YgdGhlIGJhY2tpbmcgY2FudmFzIHRvIHNldCBuZXcgd2lkdGgvaGVpZ2h0IGF0dHJpYnV0ZXMuIE5lZWQgdG8gcmUtcmVuZGVyXG4gICAgICogYW5kIHJlc2l6ZSB0aGUgbGF5b3V0IHRvIG1hdGNoIHRoZSBuZXcgZHJhd2luZyBzdXJmYWNlIGFmdGVyd2FyZHMuXG4gICAgICogVXNlZnVsIGZ1bmN0aW9uIGZvciBjb25zdW1lcnMgdG8gaW5jbHVkZSBpbiBhIHdpbmRvdyByZXNpemUgbGlzdGVuZXJcbiAgICAgKi9cbiAgICBSaXZlLnByb3RvdHlwZS5yZXNpemVEcmF3aW5nU3VyZmFjZVRvQ2FudmFzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCAmJiAhIXdpbmRvdykge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgICAgIHZhciBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBkcHIgKiB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGRwciAqIGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRSZW5kZXJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMucmVzaXplVG9DYW52YXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJpdmUucHJvdG90eXBlLCBcInNvdXJjZVwiLCB7XG4gICAgICAgIC8vIFJldHVybnMgdGhlIGFuaW1hdGlvbiBzb3VyY2UsIHdoaWNoIG1heSBiZSB1bmRlZmluZWRcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zcmM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUml2ZS5wcm90b3R5cGUsIFwiYWN0aXZlQXJ0Ym9hcmRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgYWN0aXZlIGFydGJvYXJkXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFydGJvYXJkID8gdGhpcy5hcnRib2FyZC5uYW1lIDogXCJcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSaXZlLnByb3RvdHlwZSwgXCJhbmltYXRpb25OYW1lc1wiLCB7XG4gICAgICAgIC8vIFJldHVybnMgYSBsaXN0IG9mIGFuaW1hdGlvbiBuYW1lcyBvbiB0aGUgY2hvc2VuIGFydGJvYXJkXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGZpbGUncyBub3QgbG9hZGVkLCB3ZSBnb3Qgbm90aGluZyB0byByZXR1cm5cbiAgICAgICAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uTmFtZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnRib2FyZC5hbmltYXRpb25Db3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25OYW1lcy5wdXNoKHRoaXMuYXJ0Ym9hcmQuYW5pbWF0aW9uQnlJbmRleChpKS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhbmltYXRpb25OYW1lcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSaXZlLnByb3RvdHlwZSwgXCJzdGF0ZU1hY2hpbmVOYW1lc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBzdGF0ZSBtYWNoaW5lIG5hbWVzIGZyb20gdGhlIGN1cnJlbnQgYXJ0Ym9hcmRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGZpbGUncyBub3QgbG9hZGVkLCB3ZSBnb3Qgbm90aGluZyB0byByZXR1cm5cbiAgICAgICAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhdGVNYWNoaW5lTmFtZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnRib2FyZC5zdGF0ZU1hY2hpbmVDb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdGF0ZU1hY2hpbmVOYW1lcy5wdXNoKHRoaXMuYXJ0Ym9hcmQuc3RhdGVNYWNoaW5lQnlJbmRleChpKS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZU1hY2hpbmVOYW1lcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGlucHV0cyBmb3IgdGhlIHNwZWNpZmllZCBpbnN0YW5jZWQgc3RhdGUgbWFjaGluZSwgb3IgYW4gZW1wdHlcbiAgICAgKiBsaXN0IGlmIHRoZSBuYW1lIGlzIGludmFsaWQgb3IgdGhlIHN0YXRlIG1hY2hpbmUgaXMgbm90IGluc3RhbmNlZFxuICAgICAqIEBwYXJhbSBuYW1lIHRoZSBzdGF0ZSBtYWNoaW5lIG5hbWVcbiAgICAgKiBAcmV0dXJucyB0aGUgaW5wdXRzIGZvciB0aGUgbmFtZWQgc3RhdGUgbWFjaGluZVxuICAgICAqL1xuICAgIFJpdmUucHJvdG90eXBlLnN0YXRlTWFjaGluZUlucHV0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIC8vIElmIHRoZSBmaWxlJ3Mgbm90IGxvYWRlZCwgZWFybHkgb3V0LCBub3RoaW5nIHRvIHBhdXNlXG4gICAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdGVNYWNoaW5lID0gdGhpcy5hbmltYXRvci5zdGF0ZU1hY2hpbmVzLmZpbmQoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubmFtZSA9PT0gbmFtZTsgfSk7XG4gICAgICAgIHJldHVybiBzdGF0ZU1hY2hpbmUgPT09IG51bGwgfHwgc3RhdGVNYWNoaW5lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZU1hY2hpbmUuaW5wdXRzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJpdmUucHJvdG90eXBlLCBcInBsYXlpbmdTdGF0ZU1hY2hpbmVOYW1lc1wiLCB7XG4gICAgICAgIC8vIFJldHVybnMgYSBsaXN0IG9mIHBsYXlpbmcgbWFjaGluZSBuYW1lc1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBmaWxlJ3Mgbm90IGxvYWRlZCwgd2UgZ290IG5vdGhpbmcgdG8gcmV0dXJuXG4gICAgICAgICAgICBpZiAoIXRoaXMubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0b3Iuc3RhdGVNYWNoaW5lc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ucGxheWluZzsgfSlcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm5hbWU7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJpdmUucHJvdG90eXBlLCBcInBsYXlpbmdBbmltYXRpb25OYW1lc1wiLCB7XG4gICAgICAgIC8vIFJldHVybnMgYSBsaXN0IG9mIHBsYXlpbmcgYW5pbWF0aW9uIG5hbWVzXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGZpbGUncyBub3QgbG9hZGVkLCB3ZSBnb3Qgbm90aGluZyB0byByZXR1cm5cbiAgICAgICAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvci5hbmltYXRpb25zLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5wbGF5aW5nOyB9KS5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEubmFtZTsgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUml2ZS5wcm90b3R5cGUsIFwicGF1c2VkQW5pbWF0aW9uTmFtZXNcIiwge1xuICAgICAgICAvLyBSZXR1cm5zIGEgbGlzdCBvZiBwYXVzZWQgYW5pbWF0aW9uIG5hbWVzXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGZpbGUncyBub3QgbG9hZGVkLCB3ZSBnb3Qgbm90aGluZyB0byByZXR1cm5cbiAgICAgICAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvci5hbmltYXRpb25zXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gIWEucGxheWluZzsgfSlcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm5hbWU7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJpdmUucHJvdG90eXBlLCBcInBhdXNlZFN0YXRlTWFjaGluZU5hbWVzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqICBSZXR1cm5zIGEgbGlzdCBvZiBwYXVzZWQgbWFjaGluZSBuYW1lc1xuICAgICAgICAgKiBAcmV0dXJucyBhIGxpc3Qgb2Ygc3RhdGUgbWFjaGluZSBuYW1lcyB0aGF0IGFyZSBwYXVzZWRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGZpbGUncyBub3QgbG9hZGVkLCB3ZSBnb3Qgbm90aGluZyB0byByZXR1cm5cbiAgICAgICAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvci5zdGF0ZU1hY2hpbmVzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gIW0ucGxheWluZzsgfSlcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm5hbWU7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJpdmUucHJvdG90eXBlLCBcImlzUGxheWluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGFueSBhbmltYXRpb24gaXMgcGxheWluZ1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvci5pc1BsYXlpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUml2ZS5wcm90b3R5cGUsIFwiaXNQYXVzZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgaW5zdGFuY2VkIGFuaW1hdGlvbnMgYXJlIHBhdXNlZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvci5pc1BhdXNlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSaXZlLnByb3RvdHlwZSwgXCJpc1N0b3BwZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgdHJ1ZSBpZiBubyBhbmltYXRpb25zIGFyZSBwbGF5aW5nIG9yIHBhdXNlZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRvci5pc1N0b3BwZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUml2ZS5wcm90b3R5cGUsIFwiYm91bmRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHRoZSBib3VuZHMgb2YgdGhlIGN1cnJlbnQgYXJ0Ym9hcmQsIG9yIHVuZGVmaW5lZCBpZiB0aGUgYXJ0Ym9hcmRcbiAgICAgICAgICogaXNuJ3QgbG9hZGVkIHlldC5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXJ0Ym9hcmQgPyB0aGlzLmFydGJvYXJkLmJvdW5kcyA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBSaXZlLWdlbmVyYXRlZCBldmVudHNcbiAgICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiBldmVudCB0byBzdWJzY3JpYmUgdG9cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgY2FsbGJhY2sgdG8gZmlyZSB3aGVuIHRoZSBldmVudCBvY2N1cnNcbiAgICAgKi9cbiAgICBSaXZlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uICh0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5hZGQoe1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZXMgZnJvbSBhIFJpdmUtZ2VuZXJhdGVkIGV2ZW50XG4gICAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB0byB1bnN1YnNjcmliZSBmcm9tXG4gICAgICovXG4gICAgUml2ZS5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAodHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIucmVtb3ZlKHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmVzIGFsbCBsaXN0ZW5lcnMgZnJvbSBhbiBldmVudCB0eXBlLCBvciBldmVyeXRoaW5nIGlmIG5vIHR5cGUgaXNcbiAgICAgKiBnaXZlblxuICAgICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIGV2ZW50IHRvIHVuc3Vic2NyaWJlIGZyb20sIG9yIGFsbCB0eXBlcyBpZlxuICAgICAqIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIFJpdmUucHJvdG90eXBlLnVuc3Vic2NyaWJlQWxsID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIucmVtb3ZlQWxsKHR5cGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHJlbmRlcmluZyBsb29wOyB0aGlzIGlzIGRpZmZlcmVudCBmcm9tIHBhdXNpbmcgaW4gdGhhdCBpdCBkb2Vzbid0XG4gICAgICogY2hhbmdlIHRoZSBzdGF0ZSBvZiBhbnkgYW5pbWF0aW9uLiBJdCBzdG9wcyByZW5kZXJpbmcgZnJvbSBvY2N1cnJpbmcuIFRoaXNcbiAgICAgKiBpcyBkZXNpZ25lZCBmb3Igc2l0dWF0aW9ucyBzdWNoIGFzIHdoZW4gUml2ZSBpc24ndCB2aXNpYmxlLlxuICAgICAqXG4gICAgICogVGhlIG9ubHkgd2F5IHRvIHN0YXJ0IHJlbmRlcmluZyBhZ2FpbiBpcyB0byBjYWxsIGBzdGFydFJlbmRlcmluZ2AuXG4gICAgICogQW5pbWF0aW9ucyB0aGF0IGFyZSBtYXJrZWQgYXMgcGxheWluZyB3aWxsIHN0YXJ0IGZyb20gdGhlIHBvc2l0aW9uIHRoYXRcbiAgICAgKiB0aGV5IHdvdWxkIGhhdmUgYmVlbiBhdCBpZiByZW5kZXJpbmcgaGFkIG5vdCBiZWVuIHN0b3BwZWQuXG4gICAgICovXG4gICAgUml2ZS5wcm90b3R5cGUuc3RvcFJlbmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkICYmIHRoaXMuZnJhbWVSZXF1ZXN0SWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJ1bnRpbWUuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bnRpbWUuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5mcmFtZVJlcXVlc3RJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmZyYW1lUmVxdWVzdElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZnJhbWVSZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHJlbmRlcmluZyBsb29wIGlmIGl0IGhhcyBiZWVuIHByZXZpb3VzbHkgc3RvcHBlZC4gSWYgdGhlXG4gICAgICogcmVuZGVyZXIgaXMgYWxyZWFkeSBhY3RpdmUsIHRoZW4gdGhpcyB3aWxsIGhhdmUgemVybyBlZmZlY3QuXG4gICAgICovXG4gICAgUml2ZS5wcm90b3R5cGUuc3RhcnRSZW5kZXJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCAmJiB0aGlzLmFydGJvYXJkICYmICF0aGlzLmZyYW1lUmVxdWVzdElkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ydW50aW1lLnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVSZXF1ZXN0SWQgPSB0aGlzLnJ1bnRpbWUucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJhdy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVSZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5kcmF3LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGZyYW1lcy1wZXItc2Vjb25kIChGUFMpIHJlcG9ydGluZyBmb3IgdGhlIHJ1bnRpbWVcbiAgICAgKiBJZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgUml2ZSB3aWxsIGFwcGVuZCBhIGZpeGVkLXBvc2l0aW9uIGRpdiBhdCB0aGUgdG9wLXJpZ2h0IGNvcm5lciBvZlxuICAgICAqIHRoZSBwYWdlIHdpdGggdGhlIEZQUyByZWFkaW5nXG4gICAgICogQHBhcmFtIGZwc0NhbGxiYWNrIC0gQ2FsbGJhY2sgZnJvbSB0aGUgcnVudGltZSBkdXJpbmcgdGhlIFJBRiBsb29wIHRoYXQgc3VwcGxpZXMgdGhlIEZQUyB2YWx1ZVxuICAgICAqL1xuICAgIFJpdmUucHJvdG90eXBlLmVuYWJsZUZQU0NvdW50ZXIgPSBmdW5jdGlvbiAoZnBzQ2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5ydW50aW1lLmVuYWJsZUZQU0NvdW50ZXIoZnBzQ2FsbGJhY2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgZnJhbWVzLXBlci1zZWNvbmQgKEZQUykgcmVwb3J0aW5nIGZvciB0aGUgcnVudGltZVxuICAgICAqL1xuICAgIFJpdmUucHJvdG90eXBlLmRpc2FibGVGUFNDb3VudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJ1bnRpbWUuZGlzYWJsZUZQU0NvdW50ZXIoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSaXZlLnByb3RvdHlwZSwgXCJjb250ZW50c1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBjb250ZW50cyBvZiBhIFJpdmUgZmlsZTogdGhlIGFydGJvYXJkcywgYW5pbWF0aW9ucywgYW5kIHN0YXRlIG1hY2hpbmVzXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJpdmVDb250ZW50cyA9IHtcbiAgICAgICAgICAgICAgICBhcnRib2FyZHM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5maWxlLmFydGJvYXJkQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFydGJvYXJkID0gdGhpcy5maWxlLmFydGJvYXJkQnlJbmRleChpKTtcbiAgICAgICAgICAgICAgICB2YXIgYXJ0Ym9hcmRDb250ZW50cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYXJ0Ym9hcmQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uczogW10sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlTWFjaGluZXM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnRib2FyZC5hbmltYXRpb25Db3VudCgpOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IGFydGJvYXJkLmFuaW1hdGlvbkJ5SW5kZXgoaik7XG4gICAgICAgICAgICAgICAgICAgIGFydGJvYXJkQ29udGVudHMuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbi5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBhcnRib2FyZC5zdGF0ZU1hY2hpbmVDb3VudCgpOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlTWFjaGluZSA9IGFydGJvYXJkLnN0YXRlTWFjaGluZUJ5SW5kZXgoayk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lXzEgPSBzdGF0ZU1hY2hpbmUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IHRoaXMucnVudGltZS5TdGF0ZU1hY2hpbmVJbnN0YW5jZShzdGF0ZU1hY2hpbmUsIGFydGJvYXJkKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0Q29udGVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBpbnN0YW5jZS5pbnB1dENvdW50KCk7IGwrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gaW5zdGFuY2UuaW5wdXQobCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dENvbnRlbnRzLnB1c2goeyBuYW1lOiBpbnB1dC5uYW1lLCB0eXBlOiBpbnB1dC50eXBlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFydGJvYXJkQ29udGVudHMuc3RhdGVNYWNoaW5lcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVfMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0czogaW5wdXRDb250ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJpdmVDb250ZW50cy5hcnRib2FyZHMucHVzaChhcnRib2FyZENvbnRlbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByaXZlQ29udGVudHM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvLyBFcnJvciBtZXNzYWdlIGZvciBtaXNzaW5nIHNvdXJjZSBvciBidWZmZXJcbiAgICBSaXZlLm1pc3NpbmdFcnJvck1lc3NhZ2UgPSBcIlJpdmUgc291cmNlIGZpbGUgb3IgZGF0YSBidWZmZXIgcmVxdWlyZWRcIjtcbiAgICByZXR1cm4gUml2ZTtcbn0oKSk7XG5cbi8vIExvYWRzIFJpdmUgZGF0YSBmcm9tIGEgVVJJIHZpYSBmZXRjaC5cbnZhciBsb2FkUml2ZUZpbGUgPSBmdW5jdGlvbiAoc3JjKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXEsIHJlcywgYnVmZmVyO1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJlcSA9IG5ldyBSZXF1ZXN0KHNyYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2gocmVxKV07XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmVzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlcy5hcnJheUJ1ZmZlcigpXTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGJ1ZmZlcl07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pOyB9O1xuLy8gI2VuZHJlZ2lvblxuLy8gI3JlZ2lvbiB1dGlsaXR5IGZ1bmN0aW9uc1xuLypcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZW5zdXJlIGFuIG9iamVjdCBpcyBhIHN0cmluZyBhcnJheVxuICovXG52YXIgbWFwVG9TdHJpbmdBcnJheSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gW29ial07XG4gICAgfVxuICAgIGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIC8vIElmIG9iaiBpcyB1bmRlZmluZWQsIHJldHVybiBlbXB0eSBhcnJheVxuICAgIHJldHVybiBbXTtcbn07XG4vLyAjZW5kcmVnaW9uXG4vLyAjcmVnaW9uIHRlc3RpbmcgdXRpbGl0aWVzXG4vLyBFeHBvcnRzIHRvIG9ubHkgYmUgdXNlZCBmb3IgdGVzdHNcbnZhciBUZXN0aW5nID0ge1xuICAgIEV2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyLFxuICAgIFRhc2tRdWV1ZU1hbmFnZXI6IFRhc2tRdWV1ZU1hbmFnZXIsXG59O1xuLy8gI2VuZHJlZ2lvblxuXG59KSgpO1xuXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfZXhwb3J0c19fO1xuLyoqKioqKi8gfSkoKVxuO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yaXZlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@rive-app/canvas/rive.js\n"));

/***/ }),

/***/ "./node_modules/@rive-app/react-canvas/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@rive-app/react-canvas/dist/index.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("Object.defineProperty(exports, \"__esModule\", ({value:!0}));var e=__webpack_require__(/*! react */ \"./node_modules/react/index.js\"),n=__webpack_require__(/*! @rive-app/canvas */ \"./node_modules/@rive-app/canvas/rive.js\");function t(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var r=t(e),i=function(){return i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},i.apply(this,arguments)};function a(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}function o(){var e=\"undefined\"!=typeof window&&\"number\"==typeof window.devicePixelRatio?window.devicePixelRatio:1;return Math.min(Math.max(1,e),3)}var s=function(){function e(){}return e.prototype.observe=function(){},e.prototype.unobserve=function(){},e.prototype.disconnect=function(){},e}();var u=globalThis.ResizeObserver||s,c=void 0!==globalThis.ResizeObserver,f=!c;function d(n,t){void 0===t&&(t=!0);var r=e.useState({width:0,height:0}),i=r[0],a=r[1];e.useEffect(function(){if(\"undefined\"!=typeof window&&t){var e=function(){a({width:window.innerWidth,height:window.innerHeight})};return f&&(e(),window.addEventListener(\"resize\",e)),function(){return window.removeEventListener(\"resize\",e)}}},[]);var o,s,d,l=e.useRef(new u((o=function(e){c&&a({width:e[e.length-1].contentRect.width,height:e[e.length-1].contentRect.height})},s=0,d=0,function(){for(var e=this,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];clearTimeout(d),d=window.setTimeout(function(){return o.apply(e,n)},s)})));return e.useEffect(function(){var e=l.current;if(t){var r=n.current;return n.current&&c&&e.observe(n.current),function(){e.disconnect(),r&&c&&e.unobserve(r)}}e.disconnect()},[n,l]),i}var l={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function v(e){return Object.assign({},l,e)}function h(n){var t=n.riveLoaded,r=void 0!==t&&t,i=n.canvasRef,a=n.containerRef,s=n.options,u=void 0===s?{}:s,c=n.onCanvasHasResized,f=n.artboardBounds,l=v(u),h=e.useState({height:0,width:0}),p=h[0],w=p.height,R=p.width,g=h[1],b=e.useState({height:0,width:0}),y=b[0],m=y.height,C=y.width,O=b[1],x=e.useState(!0),E=x[0],P=x[1],T=l.fitCanvasToArtboardHeight,L=l.shouldResizeCanvasToContainer,z=l.useDevicePixelRatio,j=d(a,L),M=function(){var n=o(),t=e.useState(n),r=t[0],i=t[1];return e.useEffect(function(){if(\"undefined\"!=typeof window&&\"matchMedia\"in window){var e=function(){var e=o();i(e)},n=window.matchMedia(\"screen and (resolution: \".concat(r,\"dppx)\"));return n.hasOwnProperty(\"addEventListener\")?n.addEventListener(\"change\",e):n.addListener(e),function(){n.hasOwnProperty(\"removeEventListener\")?n.removeEventListener(\"change\",e):n.removeListener(e)}}},[r]),r}(),S=null!=f?f:{},H=S.maxX,k=S.maxY,D=e.useCallback(function(){var e,n,t,r,i=null!==(n=null===(e=a.current)||void 0===e?void 0:e.clientWidth)&&void 0!==n?n:0,o=null!==(r=null===(t=a.current)||void 0===t?void 0:t.clientHeight)&&void 0!==r?r:0;return T&&f?{width:i,height:i*(f.maxY/f.maxX)}:{width:i,height:o}},[a,T,H,k]);e.useEffect(function(){if(L&&a.current&&r){var e=D(),n=e.width,t=e.height,o=!1;if(i.current){var s=n!==R||t!==w;if(l.fitCanvasToArtboardHeight&&s&&(a.current.style.height=t+\"px\",o=!0),l.useDevicePixelRatio){if(s||(n*M!==C||t*M!==m)){var u=M*n,f=M*t;i.current.width=u,i.current.height=f,i.current.style.width=n+\"px\",i.current.style.height=t+\"px\",O({width:u,height:f}),o=!0}}else s&&(i.current.width=n,i.current.height=t,O({width:n,height:t}),o=!0);g({width:n,height:t})}c&&(E||o)&&c&&c(),E&&P(!1)}},[i,a,j,M,D,E,P,m,C,w,R,c,L,T,z,r])}function p(e){var n=e.setContainerRef,t=e.setCanvasRef,o=e.className,s=void 0===o?\"\":o,u=e.style,c=e.children,f=a(e,[\"setContainerRef\",\"setCanvasRef\",\"className\",\"style\",\"children\"]),d=i({width:\"100%\",height:\"100%\"},u);return r.default.createElement(\"div\",i({ref:n,className:s},!s&&{style:d}),r.default.createElement(\"canvas\",i({ref:t,style:{verticalAlign:\"top\",width:0,height:0}},f),c))}function w(t,a){void 0===a&&(a={});var o=e.useRef(null),s=e.useRef(null),u=e.useState(null),c=u[0],f=u[1],d=Boolean(t),l=v(a),w=e.useCallback(function(){c&&(c.startRendering(),c.resizeToCanvas())},[c]);h({riveLoaded:!!c,canvasRef:o,containerRef:s,options:l,onCanvasHasResized:w,artboardBounds:null==c?void 0:c.bounds});var R=e.useCallback(function(e){if(e&&t&&d){var r=l.useOffscreenRenderer,a=new n.Rive(i(i({useOffscreenRenderer:r},t),{canvas:e}));a.on(n.EventType.Load,function(){o.current?f(a):a.cleanup()})}else null===e&&o.current&&(o.current.height=0,o.current.width=0);o.current=e},[d]),g=e.useCallback(function(e){s.current=e},[]);e.useEffect(function(){var e=new IntersectionObserver(function(e){e[0].isIntersecting?c&&c.startRendering():c&&c.stopRendering()});return o.current&&e.observe(o.current),function(){e.disconnect()}},[c]),e.useEffect(function(){return function(){c&&(c.cleanup(),f(null))}},[c]);var b=null==t?void 0:t.animations;e.useEffect(function(){c&&b&&(c.isPlaying?(c.stop(c.animationNames),c.play(b)):c.isPaused&&(c.stop(c.animationNames),c.pause(b)))},[b,c]);var y=e.useCallback(function(e){return r.default.createElement(p,i({setContainerRef:g,setCanvasRef:R},e))},[R,g]);return{canvas:o.current,container:s.current,setCanvasRef:R,setContainerRef:g,rive:c,RiveComponent:y}}exports[\"default\"]=function(e){var n=e.src,t=e.artboard,o=e.animations,s=e.stateMachines,u=e.layout,c=e.useOffscreenRenderer,f=void 0===c||c,d=e.shouldDisableRiveListeners,l=void 0!==d&&d,v=e.shouldResizeCanvasToContainer,h=void 0===v||v,p=e.children,R=a(e,[\"src\",\"artboard\",\"animations\",\"stateMachines\",\"layout\",\"useOffscreenRenderer\",\"shouldDisableRiveListeners\",\"shouldResizeCanvasToContainer\",\"children\"]),g=w({src:n,artboard:t,animations:o,layout:u,stateMachines:s,autoplay:!0,shouldDisableRiveListeners:l},{useOffscreenRenderer:f,shouldResizeCanvasToContainer:h}).RiveComponent;return r.default.createElement(g,i({},R),p)},exports.useResizeCanvas=h,exports.useRive=w,exports.useStateMachineInput=function(t,r,i,a){var o=e.useState(null),s=o[0],u=o[1];return e.useEffect(function(){function e(){if(t&&r&&i||u(null),t&&r&&i){var e=t.stateMachineInputs(r);if(e){var n=e.find(function(e){return e.name===i});void 0!==a&&n&&(n.value=a),u(n||null)}}else u(null)}e(),t&&t.on(n.EventType.Play,function(){e()})},[t]),s},Object.keys(n).forEach(function(e){\"default\"===e||exports.hasOwnProperty(e)||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHJpdmUtYXBwL3JlYWN0LWNhbnZhcy9kaXN0L2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBLDhDQUEyQyxDQUFDLFNBQVMsRUFBQyxDQUFDLE1BQU0sbUJBQU8sQ0FBQyw0Q0FBTyxJQUFJLG1CQUFPLENBQUMsaUVBQWtCLEVBQUUsY0FBYywrQ0FBK0MsV0FBVyx3QkFBd0Isb0NBQW9DLGlDQUFpQyxJQUFJLHVGQUF1RixTQUFTLDBCQUEwQixnQkFBZ0IsU0FBUyxzRkFBc0YsNkRBQTZELFFBQVEsc0NBQXNDLFdBQVcsNkZBQTZGLFNBQVMsYUFBYSxxR0FBcUcsaUNBQWlDLGlCQUFpQixjQUFjLHVDQUF1QyxtQ0FBbUMsb0NBQW9DLEdBQUcsR0FBRyw2RUFBNkUsZ0JBQWdCLG1CQUFtQixrQkFBa0IsaUJBQWlCLGdCQUFnQix1QkFBdUIsa0NBQWtDLGlCQUFpQixHQUFHLGtEQUFrRCxHQUFHLCtEQUErRCxnREFBZ0QsS0FBSywwQ0FBMEMsTUFBTSw4RUFBOEUsRUFBRSxvQkFBb0Isd0JBQXdCLG1CQUFtQixzQkFBc0IsK0NBQStDLG9CQUFvQixJQUFJLElBQUksOEJBQThCLGdCQUFnQixNQUFNLGdCQUFnQixxREFBcUQscUNBQXFDLGVBQWUsVUFBVSxPQUFPLDhHQUE4RyxjQUFjLHVCQUF1QixNQUFNLGNBQWMsNkZBQTZGLGtFQUFrRSxpQkFBaUIsbURBQW1ELGlCQUFpQixrTEFBa0wsd0NBQXdDLDhCQUE4QixzREFBc0QsaUJBQWlCLFVBQVUsS0FBSyxtRUFBbUUsdUdBQXVHLGdHQUFnRyxRQUFRLGlCQUFpQiw4Q0FBOEMsbUxBQW1MLGFBQWEsaUNBQWlDLEVBQUUsa0JBQWtCLFlBQVksdUJBQXVCLG9CQUFvQixvQ0FBb0MsY0FBYyxtQkFBbUIsK0ZBQStGLDBCQUEwQixnQkFBZ0IsbUdBQW1HLGlCQUFpQixRQUFRLGlEQUFpRCxpQkFBaUIsUUFBUSxHQUFHLGlCQUFpQixFQUFFLDRCQUE0QixvQ0FBb0MsY0FBYyw4S0FBOEssMkJBQTJCLElBQUksd0NBQXdDLGtCQUFrQixNQUFNLFFBQVEsc0NBQXNDLGFBQWEsc0NBQXNDLFFBQVEsZ0JBQWdCLGlCQUFpQixFQUFFLHNIQUFzSCwyQ0FBMkMsTUFBTSxHQUFHLGdIQUFnSCxFQUFFLGdDQUFnQyxZQUFZLCtDQUErQyx1QkFBdUIsS0FBSyxTQUFTLEdBQUcsaUNBQWlDLDJCQUEyQixFQUFFLGlFQUFpRSxZQUFZLGtDQUFrQyxZQUFZLEtBQUssdUJBQXVCLDJDQUEyQywrREFBK0QsRUFBRSxrREFBa0QsZ0JBQWdCLDZCQUE2QixrQkFBa0IsMEJBQTBCLE1BQU0sa0NBQWtDLHVCQUF1QiwyR0FBMkcsUUFBUSxnQ0FBZ0Msb0NBQW9DLGlDQUFpQyxLQUFLLFFBQVEsT0FBTyw4RkFBOEYsa0JBQWUsYUFBYSxnWUFBZ1ksZ0dBQWdHLEVBQUUsdURBQXVELGdCQUFnQixxQ0FBcUMsT0FBTyxDQUFDLHVCQUF1QixHQUFHLGVBQWUsR0FBRyw0QkFBNEIsbUJBQW1CLHFDQUFxQyw4QkFBOEIsYUFBYSw2QkFBNkIsOEJBQThCLE1BQU0seUJBQXlCLGtCQUFrQixFQUFFLHVDQUF1QyxhQUFhLHdDQUF3QyxJQUFJLEVBQUUsUUFBUSxvQ0FBb0MsMkVBQTJFLDZCQUE2QixhQUFhLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0ByaXZlLWFwcC9yZWFjdC1jYW52YXMvZGlzdC9pbmRleC5qcz84NTRjIl0sInNvdXJjZXNDb250ZW50IjpbIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBlPXJlcXVpcmUoXCJyZWFjdFwiKSxuPXJlcXVpcmUoXCJAcml2ZS1hcHAvY2FudmFzXCIpO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImRlZmF1bHRcImluIGU/ZTp7ZGVmYXVsdDplfX12YXIgcj10KGUpLGk9ZnVuY3Rpb24oKXtyZXR1cm4gaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIG4sdD0xLHI9YXJndW1lbnRzLmxlbmd0aDt0PHI7dCsrKWZvcih2YXIgaSBpbiBuPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixpKSYmKGVbaV09bltpXSk7cmV0dXJuIGV9LGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBhKGUsbil7dmFyIHQ9e307Zm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJm4uaW5kZXhPZihyKTwwJiYodFtyXT1lW3JdKTtpZihudWxsIT1lJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7aTxyLmxlbmd0aDtpKyspbi5pbmRleE9mKHJbaV0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHJbaV0pJiYodFtyW2ldXT1lW3JbaV1dKX1yZXR1cm4gdH1mdW5jdGlvbiBvKCl7dmFyIGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJudW1iZXJcIj09dHlwZW9mIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvP3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOjE7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KDEsZSksMyl9dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5vYnNlcnZlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS51bm9ic2VydmU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXt9LGV9KCk7dmFyIHU9Z2xvYmFsVGhpcy5SZXNpemVPYnNlcnZlcnx8cyxjPXZvaWQgMCE9PWdsb2JhbFRoaXMuUmVzaXplT2JzZXJ2ZXIsZj0hYztmdW5jdGlvbiBkKG4sdCl7dm9pZCAwPT09dCYmKHQ9ITApO3ZhciByPWUudXNlU3RhdGUoe3dpZHRoOjAsaGVpZ2h0OjB9KSxpPXJbMF0sYT1yWzFdO2UudXNlRWZmZWN0KGZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdCl7dmFyIGU9ZnVuY3Rpb24oKXthKHt3aWR0aDp3aW5kb3cuaW5uZXJXaWR0aCxoZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0fSl9O3JldHVybiBmJiYoZSgpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZSl9fX0sW10pO3ZhciBvLHMsZCxsPWUudXNlUmVmKG5ldyB1KChvPWZ1bmN0aW9uKGUpe2MmJmEoe3dpZHRoOmVbZS5sZW5ndGgtMV0uY29udGVudFJlY3Qud2lkdGgsaGVpZ2h0OmVbZS5sZW5ndGgtMV0uY29udGVudFJlY3QuaGVpZ2h0fSl9LHM9MCxkPTAsZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyxuPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKW5bdF09YXJndW1lbnRzW3RdO2NsZWFyVGltZW91dChkKSxkPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkoZSxuKX0scyl9KSkpO3JldHVybiBlLnVzZUVmZmVjdChmdW5jdGlvbigpe3ZhciBlPWwuY3VycmVudDtpZih0KXt2YXIgcj1uLmN1cnJlbnQ7cmV0dXJuIG4uY3VycmVudCYmYyYmZS5vYnNlcnZlKG4uY3VycmVudCksZnVuY3Rpb24oKXtlLmRpc2Nvbm5lY3QoKSxyJiZjJiZlLnVub2JzZXJ2ZShyKX19ZS5kaXNjb25uZWN0KCl9LFtuLGxdKSxpfXZhciBsPXt1c2VEZXZpY2VQaXhlbFJhdGlvOiEwLGZpdENhbnZhc1RvQXJ0Ym9hcmRIZWlnaHQ6ITEsdXNlT2Zmc2NyZWVuUmVuZGVyZXI6ITAsc2hvdWxkUmVzaXplQ2FudmFzVG9Db250YWluZXI6ITB9O2Z1bmN0aW9uIHYoZSl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sbCxlKX1mdW5jdGlvbiBoKG4pe3ZhciB0PW4ucml2ZUxvYWRlZCxyPXZvaWQgMCE9PXQmJnQsaT1uLmNhbnZhc1JlZixhPW4uY29udGFpbmVyUmVmLHM9bi5vcHRpb25zLHU9dm9pZCAwPT09cz97fTpzLGM9bi5vbkNhbnZhc0hhc1Jlc2l6ZWQsZj1uLmFydGJvYXJkQm91bmRzLGw9dih1KSxoPWUudXNlU3RhdGUoe2hlaWdodDowLHdpZHRoOjB9KSxwPWhbMF0sdz1wLmhlaWdodCxSPXAud2lkdGgsZz1oWzFdLGI9ZS51c2VTdGF0ZSh7aGVpZ2h0OjAsd2lkdGg6MH0pLHk9YlswXSxtPXkuaGVpZ2h0LEM9eS53aWR0aCxPPWJbMV0seD1lLnVzZVN0YXRlKCEwKSxFPXhbMF0sUD14WzFdLFQ9bC5maXRDYW52YXNUb0FydGJvYXJkSGVpZ2h0LEw9bC5zaG91bGRSZXNpemVDYW52YXNUb0NvbnRhaW5lcix6PWwudXNlRGV2aWNlUGl4ZWxSYXRpbyxqPWQoYSxMKSxNPWZ1bmN0aW9uKCl7dmFyIG49bygpLHQ9ZS51c2VTdGF0ZShuKSxyPXRbMF0saT10WzFdO3JldHVybiBlLnVzZUVmZmVjdChmdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwibWF0Y2hNZWRpYVwiaW4gd2luZG93KXt2YXIgZT1mdW5jdGlvbigpe3ZhciBlPW8oKTtpKGUpfSxuPXdpbmRvdy5tYXRjaE1lZGlhKFwic2NyZWVuIGFuZCAocmVzb2x1dGlvbjogXCIuY29uY2F0KHIsXCJkcHB4KVwiKSk7cmV0dXJuIG4uaGFzT3duUHJvcGVydHkoXCJhZGRFdmVudExpc3RlbmVyXCIpP24uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGUpOm4uYWRkTGlzdGVuZXIoZSksZnVuY3Rpb24oKXtuLmhhc093blByb3BlcnR5KFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiKT9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlKTpuLnJlbW92ZUxpc3RlbmVyKGUpfX19LFtyXSkscn0oKSxTPW51bGwhPWY/Zjp7fSxIPVMubWF4WCxrPVMubWF4WSxEPWUudXNlQ2FsbGJhY2soZnVuY3Rpb24oKXt2YXIgZSxuLHQscixpPW51bGwhPT0obj1udWxsPT09KGU9YS5jdXJyZW50KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jbGllbnRXaWR0aCkmJnZvaWQgMCE9PW4/bjowLG89bnVsbCE9PShyPW51bGw9PT0odD1hLmN1cnJlbnQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNsaWVudEhlaWdodCkmJnZvaWQgMCE9PXI/cjowO3JldHVybiBUJiZmP3t3aWR0aDppLGhlaWdodDppKihmLm1heFkvZi5tYXhYKX06e3dpZHRoOmksaGVpZ2h0Om99fSxbYSxULEgsa10pO2UudXNlRWZmZWN0KGZ1bmN0aW9uKCl7aWYoTCYmYS5jdXJyZW50JiZyKXt2YXIgZT1EKCksbj1lLndpZHRoLHQ9ZS5oZWlnaHQsbz0hMTtpZihpLmN1cnJlbnQpe3ZhciBzPW4hPT1SfHx0IT09dztpZihsLmZpdENhbnZhc1RvQXJ0Ym9hcmRIZWlnaHQmJnMmJihhLmN1cnJlbnQuc3R5bGUuaGVpZ2h0PXQrXCJweFwiLG89ITApLGwudXNlRGV2aWNlUGl4ZWxSYXRpbyl7aWYoc3x8KG4qTSE9PUN8fHQqTSE9PW0pKXt2YXIgdT1NKm4sZj1NKnQ7aS5jdXJyZW50LndpZHRoPXUsaS5jdXJyZW50LmhlaWdodD1mLGkuY3VycmVudC5zdHlsZS53aWR0aD1uK1wicHhcIixpLmN1cnJlbnQuc3R5bGUuaGVpZ2h0PXQrXCJweFwiLE8oe3dpZHRoOnUsaGVpZ2h0OmZ9KSxvPSEwfX1lbHNlIHMmJihpLmN1cnJlbnQud2lkdGg9bixpLmN1cnJlbnQuaGVpZ2h0PXQsTyh7d2lkdGg6bixoZWlnaHQ6dH0pLG89ITApO2coe3dpZHRoOm4saGVpZ2h0OnR9KX1jJiYoRXx8bykmJmMmJmMoKSxFJiZQKCExKX19LFtpLGEsaixNLEQsRSxQLG0sQyx3LFIsYyxMLFQseixyXSl9ZnVuY3Rpb24gcChlKXt2YXIgbj1lLnNldENvbnRhaW5lclJlZix0PWUuc2V0Q2FudmFzUmVmLG89ZS5jbGFzc05hbWUscz12b2lkIDA9PT1vP1wiXCI6byx1PWUuc3R5bGUsYz1lLmNoaWxkcmVuLGY9YShlLFtcInNldENvbnRhaW5lclJlZlwiLFwic2V0Q2FudmFzUmVmXCIsXCJjbGFzc05hbWVcIixcInN0eWxlXCIsXCJjaGlsZHJlblwiXSksZD1pKHt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9LHUpO3JldHVybiByLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLGkoe3JlZjpuLGNsYXNzTmFtZTpzfSwhcyYme3N0eWxlOmR9KSxyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiLGkoe3JlZjp0LHN0eWxlOnt2ZXJ0aWNhbEFsaWduOlwidG9wXCIsd2lkdGg6MCxoZWlnaHQ6MH19LGYpLGMpKX1mdW5jdGlvbiB3KHQsYSl7dm9pZCAwPT09YSYmKGE9e30pO3ZhciBvPWUudXNlUmVmKG51bGwpLHM9ZS51c2VSZWYobnVsbCksdT1lLnVzZVN0YXRlKG51bGwpLGM9dVswXSxmPXVbMV0sZD1Cb29sZWFuKHQpLGw9dihhKSx3PWUudXNlQ2FsbGJhY2soZnVuY3Rpb24oKXtjJiYoYy5zdGFydFJlbmRlcmluZygpLGMucmVzaXplVG9DYW52YXMoKSl9LFtjXSk7aCh7cml2ZUxvYWRlZDohIWMsY2FudmFzUmVmOm8sY29udGFpbmVyUmVmOnMsb3B0aW9uczpsLG9uQ2FudmFzSGFzUmVzaXplZDp3LGFydGJvYXJkQm91bmRzOm51bGw9PWM/dm9pZCAwOmMuYm91bmRzfSk7dmFyIFI9ZS51c2VDYWxsYmFjayhmdW5jdGlvbihlKXtpZihlJiZ0JiZkKXt2YXIgcj1sLnVzZU9mZnNjcmVlblJlbmRlcmVyLGE9bmV3IG4uUml2ZShpKGkoe3VzZU9mZnNjcmVlblJlbmRlcmVyOnJ9LHQpLHtjYW52YXM6ZX0pKTthLm9uKG4uRXZlbnRUeXBlLkxvYWQsZnVuY3Rpb24oKXtvLmN1cnJlbnQ/ZihhKTphLmNsZWFudXAoKX0pfWVsc2UgbnVsbD09PWUmJm8uY3VycmVudCYmKG8uY3VycmVudC5oZWlnaHQ9MCxvLmN1cnJlbnQud2lkdGg9MCk7by5jdXJyZW50PWV9LFtkXSksZz1lLnVzZUNhbGxiYWNrKGZ1bmN0aW9uKGUpe3MuY3VycmVudD1lfSxbXSk7ZS51c2VFZmZlY3QoZnVuY3Rpb24oKXt2YXIgZT1uZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oZSl7ZVswXS5pc0ludGVyc2VjdGluZz9jJiZjLnN0YXJ0UmVuZGVyaW5nKCk6YyYmYy5zdG9wUmVuZGVyaW5nKCl9KTtyZXR1cm4gby5jdXJyZW50JiZlLm9ic2VydmUoby5jdXJyZW50KSxmdW5jdGlvbigpe2UuZGlzY29ubmVjdCgpfX0sW2NdKSxlLnVzZUVmZmVjdChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe2MmJihjLmNsZWFudXAoKSxmKG51bGwpKX19LFtjXSk7dmFyIGI9bnVsbD09dD92b2lkIDA6dC5hbmltYXRpb25zO2UudXNlRWZmZWN0KGZ1bmN0aW9uKCl7YyYmYiYmKGMuaXNQbGF5aW5nPyhjLnN0b3AoYy5hbmltYXRpb25OYW1lcyksYy5wbGF5KGIpKTpjLmlzUGF1c2VkJiYoYy5zdG9wKGMuYW5pbWF0aW9uTmFtZXMpLGMucGF1c2UoYikpKX0sW2IsY10pO3ZhciB5PWUudXNlQ2FsbGJhY2soZnVuY3Rpb24oZSl7cmV0dXJuIHIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHAsaSh7c2V0Q29udGFpbmVyUmVmOmcsc2V0Q2FudmFzUmVmOlJ9LGUpKX0sW1IsZ10pO3JldHVybntjYW52YXM6by5jdXJyZW50LGNvbnRhaW5lcjpzLmN1cnJlbnQsc2V0Q2FudmFzUmVmOlIsc2V0Q29udGFpbmVyUmVmOmcscml2ZTpjLFJpdmVDb21wb25lbnQ6eX19ZXhwb3J0cy5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciBuPWUuc3JjLHQ9ZS5hcnRib2FyZCxvPWUuYW5pbWF0aW9ucyxzPWUuc3RhdGVNYWNoaW5lcyx1PWUubGF5b3V0LGM9ZS51c2VPZmZzY3JlZW5SZW5kZXJlcixmPXZvaWQgMD09PWN8fGMsZD1lLnNob3VsZERpc2FibGVSaXZlTGlzdGVuZXJzLGw9dm9pZCAwIT09ZCYmZCx2PWUuc2hvdWxkUmVzaXplQ2FudmFzVG9Db250YWluZXIsaD12b2lkIDA9PT12fHx2LHA9ZS5jaGlsZHJlbixSPWEoZSxbXCJzcmNcIixcImFydGJvYXJkXCIsXCJhbmltYXRpb25zXCIsXCJzdGF0ZU1hY2hpbmVzXCIsXCJsYXlvdXRcIixcInVzZU9mZnNjcmVlblJlbmRlcmVyXCIsXCJzaG91bGREaXNhYmxlUml2ZUxpc3RlbmVyc1wiLFwic2hvdWxkUmVzaXplQ2FudmFzVG9Db250YWluZXJcIixcImNoaWxkcmVuXCJdKSxnPXcoe3NyYzpuLGFydGJvYXJkOnQsYW5pbWF0aW9uczpvLGxheW91dDp1LHN0YXRlTWFjaGluZXM6cyxhdXRvcGxheTohMCxzaG91bGREaXNhYmxlUml2ZUxpc3RlbmVyczpsfSx7dXNlT2Zmc2NyZWVuUmVuZGVyZXI6ZixzaG91bGRSZXNpemVDYW52YXNUb0NvbnRhaW5lcjpofSkuUml2ZUNvbXBvbmVudDtyZXR1cm4gci5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZyxpKHt9LFIpLHApfSxleHBvcnRzLnVzZVJlc2l6ZUNhbnZhcz1oLGV4cG9ydHMudXNlUml2ZT13LGV4cG9ydHMudXNlU3RhdGVNYWNoaW5lSW5wdXQ9ZnVuY3Rpb24odCxyLGksYSl7dmFyIG89ZS51c2VTdGF0ZShudWxsKSxzPW9bMF0sdT1vWzFdO3JldHVybiBlLnVzZUVmZmVjdChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZih0JiZyJiZpfHx1KG51bGwpLHQmJnImJmkpe3ZhciBlPXQuc3RhdGVNYWNoaW5lSW5wdXRzKHIpO2lmKGUpe3ZhciBuPWUuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lPT09aX0pO3ZvaWQgMCE9PWEmJm4mJihuLnZhbHVlPWEpLHUobnx8bnVsbCl9fWVsc2UgdShudWxsKX1lKCksdCYmdC5vbihuLkV2ZW50VHlwZS5QbGF5LGZ1bmN0aW9uKCl7ZSgpfSl9LFt0XSksc30sT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtcImRlZmF1bHRcIj09PWV8fGV4cG9ydHMuaGFzT3duUHJvcGVydHkoZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLGUse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5bZV19fSl9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@rive-app/react-canvas/dist/index.js\n"));

/***/ }),

/***/ "./components/layouts/main.js":
/*!************************************!*\
  !*** ./components/layouts/main.js ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/index.mjs\");\n/* harmony import */ var _navbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../navbar */ \"./components/navbar.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _afroboy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../afroboy */ \"./components/afroboy.js\");\n/* harmony import */ var _rive_app_react_canvas__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @rive-app/react-canvas */ \"./node_modules/@rive-app/react-canvas/dist/index.js\");\n/* harmony import */ var _rive_app_react_canvas__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_rive_app_react_canvas__WEBPACK_IMPORTED_MODULE_4__);\n\nvar _s = $RefreshSig$();\n\n\n\n\n\nconst Main = (param)=>{\n    let { children , router  } = param;\n    _s();\n    const smallLogo = (0,_rive_app_react_canvas__WEBPACK_IMPORTED_MODULE_4__.useRive)({\n        src: \"/rive/afroboy.riv\",\n        autoplay: true,\n        animations: \"Leave\"\n    });\n    const bigLogo = (0,_rive_app_react_canvas__WEBPACK_IMPORTED_MODULE_4__.useRive)({\n        src: \"/rive/afroboy.riv\",\n        autoplay: true,\n        stateMachines: \"State\"\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Box, {\n        as: \"main\",\n        pb: 8,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\portfolio-website\\\\components\\\\layouts\\\\main.js\",\n                        lineNumber: 24,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Adegbemile Bolu - Homepage\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\portfolio-website\\\\components\\\\layouts\\\\main.js\",\n                        lineNumber: 25,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\work\\\\portfolio-website\\\\components\\\\layouts\\\\main.js\",\n                lineNumber: 23,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_navbar__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                path: router.asPath,\n                rive: smallLogo\n            }, void 0, false, {\n                fileName: \"C:\\\\work\\\\portfolio-website\\\\components\\\\layouts\\\\main.js\",\n                lineNumber: 28,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Container, {\n                maxW: \"container.md\",\n                pt: 20,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_afroboy__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        rive: bigLogo,\n                        height: {\n                            base: 180,\n                            md: 240\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\portfolio-website\\\\components\\\\layouts\\\\main.js\",\n                        lineNumber: 31,\n                        columnNumber: 9\n                    }, undefined),\n                    children\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\work\\\\portfolio-website\\\\components\\\\layouts\\\\main.js\",\n                lineNumber: 30,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\work\\\\portfolio-website\\\\components\\\\layouts\\\\main.js\",\n        lineNumber: 22,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Main, \"uv1enyID4R4AN9I1SoarpG1pcyo=\", false, function() {\n    return [\n        _rive_app_react_canvas__WEBPACK_IMPORTED_MODULE_4__.useRive,\n        _rive_app_react_canvas__WEBPACK_IMPORTED_MODULE_4__.useRive\n    ];\n});\n_c = Main;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Main);\nvar _c;\n$RefreshReg$(_c, \"Main\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL2xheW91dHMvbWFpbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDbkI7QUFDRjtBQUNJO0FBQ2dCO0FBR2hELE1BQU1NLE9BQU8sU0FBMEI7UUFBekIsRUFBRUMsU0FBUSxFQUFFQyxPQUFNLEVBQUU7O0lBQ2hDLE1BQU1DLFlBQVlKLCtEQUFPQSxDQUFDO1FBQ3hCSyxLQUFLO1FBQ0xDLFVBQVUsSUFBSTtRQUNkQyxZQUFZO0lBQ2Q7SUFFQSxNQUFNQyxVQUFVUiwrREFBT0EsQ0FBQztRQUN0QkssS0FBSztRQUNMQyxVQUFVLElBQUk7UUFDZEcsZUFBZTtJQUNqQjtJQUVBLHFCQUNFLDhEQUFDZCxpREFBR0E7UUFBQ2UsSUFBRztRQUFPQyxJQUFJOzswQkFDakIsOERBQUNiLGtEQUFJQTs7a0NBQ0gsOERBQUNjO3dCQUFLQyxNQUFLO3dCQUFXQyxTQUFROzs7Ozs7a0NBQzlCLDhEQUFDQztrQ0FBTTs7Ozs7Ozs7Ozs7OzBCQUdULDhEQUFDbEIsK0NBQU1BO2dCQUFDbUIsTUFBTWIsT0FBT2MsTUFBTTtnQkFBRUMsTUFBTWQ7Ozs7OzswQkFFbkMsOERBQUNSLHVEQUFTQTtnQkFBQ3VCLE1BQUs7Z0JBQWVDLElBQUk7O2tDQUNqQyw4REFBQ3JCLGdEQUFPQTt3QkFBQ21CLE1BQU1WO3dCQUFTYSxRQUFROzRCQUFFQyxNQUFNOzRCQUFLQyxJQUFJO3dCQUFJOzs7Ozs7b0JBRXBEckI7Ozs7Ozs7Ozs7Ozs7QUFJVDtHQTdCTUQ7O1FBQ2NELDJEQUFPQTtRQU1UQSwyREFBT0E7OztLQVBuQkM7QUErQk4sK0RBQWVBLElBQUlBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9sYXlvdXRzL21haW4uanM/ZTVjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3gsIENvbnRhaW5lciB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QnXHJcbmltcG9ydCBOYXZiYXIgZnJvbSAnLi4vbmF2YmFyJ1xyXG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnXHJcbmltcG9ydCBBZnJvQm95IGZyb20gJy4uL2Fmcm9ib3knXHJcbmltcG9ydCB7IHVzZVJpdmUgfSBmcm9tICdAcml2ZS1hcHAvcmVhY3QtY2FudmFzJ1xyXG5cclxuXHJcbmNvbnN0IE1haW4gPSAoeyBjaGlsZHJlbiwgcm91dGVyIH0pID0+IHtcclxuICBjb25zdCBzbWFsbExvZ28gPSB1c2VSaXZlKHtcclxuICAgIHNyYzogJy9yaXZlL2Fmcm9ib3kucml2JyxcclxuICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgYW5pbWF0aW9uczogJ0xlYXZlJ1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBiaWdMb2dvID0gdXNlUml2ZSh7XHJcbiAgICBzcmM6ICcvcml2ZS9hZnJvYm95LnJpdicsXHJcbiAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgIHN0YXRlTWFjaGluZXM6ICdTdGF0ZScsXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Qm94IGFzPVwibWFpblwiIHBiPXs4fT5cclxuICAgICAgPEhlYWQ+XHJcbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCIgLz5cclxuICAgICAgICA8dGl0bGU+QWRlZ2JlbWlsZSBCb2x1IC0gSG9tZXBhZ2U8L3RpdGxlPlxyXG4gICAgICA8L0hlYWQ+XHJcblxyXG4gICAgICA8TmF2YmFyIHBhdGg9e3JvdXRlci5hc1BhdGh9IHJpdmU9e3NtYWxsTG9nb30gLz5cclxuXHJcbiAgICAgIDxDb250YWluZXIgbWF4Vz1cImNvbnRhaW5lci5tZFwiIHB0PXsyMH0+XHJcbiAgICAgICAgPEFmcm9Cb3kgcml2ZT17YmlnTG9nb30gaGVpZ2h0PXt7IGJhc2U6IDE4MCwgbWQ6IDI0MCB9fSAvPlxyXG5cclxuICAgICAgICB7Y2hpbGRyZW59XHJcbiAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgPC9Cb3g+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYWluXHJcbiJdLCJuYW1lcyI6WyJCb3giLCJDb250YWluZXIiLCJOYXZiYXIiLCJIZWFkIiwiQWZyb0JveSIsInVzZVJpdmUiLCJNYWluIiwiY2hpbGRyZW4iLCJyb3V0ZXIiLCJzbWFsbExvZ28iLCJzcmMiLCJhdXRvcGxheSIsImFuaW1hdGlvbnMiLCJiaWdMb2dvIiwic3RhdGVNYWNoaW5lcyIsImFzIiwicGIiLCJtZXRhIiwibmFtZSIsImNvbnRlbnQiLCJ0aXRsZSIsInBhdGgiLCJhc1BhdGgiLCJyaXZlIiwibWF4VyIsInB0IiwiaGVpZ2h0IiwiYmFzZSIsIm1kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/layouts/main.js\n"));

/***/ })

});